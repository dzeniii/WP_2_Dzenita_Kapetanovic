var jB=Object.defineProperty,BB=Object.defineProperties;var $B=Object.getOwnPropertyDescriptors;var Im=Object.getOwnPropertySymbols;var OP=Object.prototype.hasOwnProperty,LP=Object.prototype.propertyIsEnumerable;var MP=(n,e,t)=>e in n?jB(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,j=(n,e)=>{for(var t in e||={})OP.call(e,t)&&MP(n,t,e[t]);if(Im)for(var t of Im(e))LP.call(e,t)&&MP(n,t,e[t]);return n},le=(n,e)=>BB(n,$B(e));var cI=(n,e)=>{var t={};for(var r in n)OP.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Im)for(var r of Im(n))e.indexOf(r)<0&&LP.call(n,r)&&(t[r]=n[r]);return t};var In=null,wm=!1,hI=1,HB=null,Rn=Symbol("SIGNAL");function Ie(n){let e=In;return In=n,e}function Tm(){return In}var ah={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ch(n){if(wm)throw new Error("");if(In===null)return;In.consumerOnSignalRead(n);let e=In.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=In.recomputing;if(r&&(t=e!==void 0?e.nextProducer:In.producers,t!==void 0&&t.producer===n)){In.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===In&&(!r||zB(i,In)))return;let s=vu(In),o={producer:n,consumer:In,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};In.producersTail=o,e!==void 0?e.nextProducer=o:In.producers=o,s&&jP(n,o)}function FP(){hI++}function fI(n){if(!(vu(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===hI)){if(!n.producerMustRecompute(n)&&!Sm(n)){dI(n);return}n.producerRecomputeValue(n),dI(n)}}function pI(n){if(n.consumers===void 0)return;let e=wm;wm=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||qB(r)}}finally{wm=e}}function mI(){return In?.consumerAllowSignalWrites!==!1}function qB(n){n.dirty=!0,pI(n),n.consumerMarkedDirty?.(n)}function dI(n){n.dirty=!1,n.lastCleanEpoch=hI}function uh(n){return n&&VP(n),Ie(n)}function VP(n){n.producersTail=void 0,n.recomputing=!0}function Cm(n,e){Ie(e),n&&UP(n)}function UP(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(vu(n))do t=gI(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function Sm(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(fI(t),r!==t.version))return!0}return!1}function lh(n){if(vu(n)){let e=n.producers;for(;e!==void 0;)e=gI(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function jP(n,e){let t=n.consumersTail,r=vu(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)jP(i.producer,i)}function gI(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!vu(e)){let s=e.producers;for(;s!==void 0;)s=gI(s)}return t}function vu(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function yI(n){HB?.(n)}function zB(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function _I(n,e){return Object.is(n,e)}function Dm(n,e){let t=Object.create(GB);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(fI(t),ch(t),t.value===bm)throw t.error;return t.value};return r[Rn]=t,yI(t),r}var uI=Symbol("UNSET"),lI=Symbol("COMPUTING"),bm=Symbol("ERRORED"),GB=le(j({},ah),{value:uI,dirty:!0,error:null,equal:_I,kind:"computed",producerMustRecompute(n){return n.value===uI||n.value===lI},producerRecomputeValue(n){if(n.value===lI)throw new Error("");let e=n.value;n.value=lI;let t=uh(n),r,i=!1;try{r=n.computation(),Ie(null),i=e!==uI&&e!==bm&&r!==bm&&n.equal(e,r)}catch(s){r=bm,n.error=s}finally{Cm(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function WB(){throw new Error}var BP=WB;function $P(n){BP(n)}function vI(n){BP=n}var KB=null;function EI(n,e){let t=Object.create(Am);t.value=n,e!==void 0&&(t.equal=e);let r=()=>HP(t);return r[Rn]=t,yI(t),[r,o=>dh(t,o),o=>qP(t,o)]}function HP(n){return ch(n),n.value}function dh(n,e){mI()||$P(n),n.equal(n.value,e)||(n.value=e,QB(n))}function qP(n,e){mI()||$P(n),dh(n,e(n.value))}var Am=le(j({},ah),{equal:_I,value:void 0,kind:"signal"});function QB(n){n.version++,FP(),pI(n),KB?.(n)}function II(n){let e=Ie(null);try{return n()}finally{Ie(e)}}function _e(n){return typeof n=="function"}function Eu(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Rm=Eu(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Na(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Wt=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(_e(r))try{r()}catch(s){e=s instanceof Rm?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{zP(s)}catch(o){e=e??[],o instanceof Rm?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Rm(e)}}add(e){var t;if(e&&e!==this)if(this.closed)zP(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Na(t,e)}remove(e){let{_finalizers:t}=this;t&&Na(t,e),e instanceof n&&e._removeParent(this)}};Wt.EMPTY=(()=>{let n=new Wt;return n.closed=!0,n})();var wI=Wt.EMPTY;function Pm(n){return n instanceof Wt||n&&"closed"in n&&_e(n.remove)&&_e(n.add)&&_e(n.unsubscribe)}function zP(n){_e(n)?n():n.unsubscribe()}var Vr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Iu={setTimeout(n,e,...t){let{delegate:r}=Iu;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Iu;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Nm(n){Iu.setTimeout(()=>{let{onUnhandledError:e}=Vr;if(e)e(n);else throw n})}function hh(){}var GP=bI("C",void 0,void 0);function WP(n){return bI("E",void 0,n)}function KP(n){return bI("N",n,void 0)}function bI(n,e,t){return{kind:n,value:e,error:t}}var ka=null;function wu(n){if(Vr.useDeprecatedSynchronousErrorHandling){let e=!ka;if(e&&(ka={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=ka;if(ka=null,t)throw r}}else n()}function QP(n){Vr.useDeprecatedSynchronousErrorHandling&&ka&&(ka.errorThrown=!0,ka.error=n)}var xa=class extends Wt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Pm(e)&&e.add(this)):this.destination=XB}static create(e,t,r){return new bu(e,t,r)}next(e){this.isStopped?CI(KP(e),this):this._next(e)}error(e){this.isStopped?CI(WP(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?CI(GP,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},YB=Function.prototype.bind;function TI(n,e){return YB.call(n,e)}var SI=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){km(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){km(r)}else km(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){km(t)}}},bu=class extends xa{constructor(e,t,r){super();let i;if(_e(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&Vr.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&TI(e.next,s),error:e.error&&TI(e.error,s),complete:e.complete&&TI(e.complete,s)}):i=e}this.destination=new SI(i)}};function km(n){Vr.useDeprecatedSynchronousErrorHandling?QP(n):Nm(n)}function JB(n){throw n}function CI(n,e){let{onStoppedNotification:t}=Vr;t&&Iu.setTimeout(()=>t(n,e))}var XB={closed:!0,next:hh,error:JB,complete:hh};var Tu=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ur(n){return n}function DI(...n){return AI(n)}function AI(n){return n.length===0?Ur:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var De=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let s=e4(t)?t:new bu(t,r,i);return wu(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=YP(r),new r((i,s)=>{let o=new bu({next:a=>{try{t(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Tu](){return this}pipe(...t){return AI(t)(this)}toPromise(t){return t=YP(t),new t((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function YP(n){var e;return(e=n??Vr.Promise)!==null&&e!==void 0?e:Promise}function ZB(n){return n&&_e(n.next)&&_e(n.error)&&_e(n.complete)}function e4(n){return n&&n instanceof xa||ZB(n)&&Pm(n)}function t4(n){return _e(n?.lift)}function Ge(n){return e=>{if(t4(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function We(n,e,t,r,i){return new RI(n,e,t,r,i)}var RI=class extends xa{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var JP=Eu(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Rt=(()=>{class n extends De{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new xm(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new JP}next(t){wu(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){wu(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){wu(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:s}=this;return r||i?wI:(this.currentObservers=null,s.push(t),new Wt(()=>{this.currentObservers=null,Na(s,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){let t=new De;return t.source=this,t}}return n.create=(e,t)=>new xm(e,t),n})(),xm=class extends Rt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:wI}};var pn=class extends Rt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var PI={now(){return(PI.delegate||Date).now()},delegate:void 0};var Mm=class extends Wt{constructor(e,t){super()}schedule(e,t=0){return this}};var fh={setInterval(n,e,...t){let{delegate:r}=fh;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=fh;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Cu=class extends Mm{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return fh.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&fh.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Na(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Su=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Su.now=PI.now;var Du=class extends Su{constructor(e,t=Su.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var NI=new Du(Cu);var Om=class extends Cu{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Lm=class extends Du{};var kI=new Lm(Om);var Bn=new De(n=>n.complete());function XP(n){return n&&_e(n.schedule)}function ZP(n){return n[n.length-1]}function Fm(n){return _e(ZP(n))?n.pop():void 0}function so(n){return XP(ZP(n))?n.pop():void 0}function xI(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function tN(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{d(r.next(h))}catch(m){o(m)}}function c(h){try{d(r.throw(h))}catch(m){o(m)}}function d(h){h.done?s(h.value):i(h.value).then(a,c)}d((r=r.apply(n,e||[])).next())})}function eN(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ma(n){return this instanceof Ma?(this.v=n,this):new Ma(n)}function nN(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(R){return function(k){return Promise.resolve(k).then(R,m)}}function a(R,k){r[R]&&(i[R]=function(V){return new Promise(function(O,q){s.push([R,V,O,q])>1||c(R,V)})},k&&(i[R]=k(i[R])))}function c(R,k){try{d(r[R](k))}catch(V){I(s[0][3],V)}}function d(R){R.value instanceof Ma?Promise.resolve(R.value.v).then(h,m):I(s[0][2],R)}function h(R){c("next",R)}function m(R){c("throw",R)}function I(R,k){R(k),s.shift(),s.length&&c(s[0][0],s[0][1])}}function rN(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof eN=="function"?eN(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,c){o=n[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(d){s({value:d,done:a})},o)}}var Vm=n=>n&&typeof n.length=="number"&&typeof n!="function";function Um(n){return _e(n?.then)}function jm(n){return _e(n[Tu])}function Bm(n){return Symbol.asyncIterator&&_e(n?.[Symbol.asyncIterator])}function $m(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function n4(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Hm=n4();function qm(n){return _e(n?.[Hm])}function zm(n){return nN(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Ma(t.read());if(i)return yield Ma(void 0);yield yield Ma(r)}}finally{t.releaseLock()}})}function Gm(n){return _e(n?.getReader)}function Pt(n){if(n instanceof De)return n;if(n!=null){if(jm(n))return r4(n);if(Vm(n))return i4(n);if(Um(n))return s4(n);if(Bm(n))return iN(n);if(qm(n))return o4(n);if(Gm(n))return a4(n)}throw $m(n)}function r4(n){return new De(e=>{let t=n[Tu]();if(_e(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function i4(n){return new De(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function s4(n){return new De(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Nm)})}function o4(n){return new De(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function iN(n){return new De(e=>{c4(n,e).catch(t=>e.error(t))})}function a4(n){return iN(zm(n))}function c4(n,e){var t,r,i,s;return tN(this,void 0,void 0,function*(){try{for(t=rN(n);r=yield t.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})}function $n(n,e,t,r=0,i=!1){let s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function oo(n,e=0){return Ge((t,r)=>{t.subscribe(We(r,i=>$n(r,n,()=>r.next(i),e),()=>$n(r,n,()=>r.complete(),e),i=>$n(r,n,()=>r.error(i),e)))})}function ao(n,e=0){return Ge((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function sN(n,e){return Pt(n).pipe(ao(e),oo(e))}function oN(n,e){return Pt(n).pipe(ao(e),oo(e))}function aN(n,e){return new De(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function cN(n,e){return new De(t=>{let r;return $n(t,e,()=>{r=n[Hm](),$n(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){t.error(o);return}s?t.complete():t.next(i)},0,!0)}),()=>_e(r?.return)&&r.return()})}function Wm(n,e){if(!n)throw new Error("Iterable cannot be null");return new De(t=>{$n(t,e,()=>{let r=n[Symbol.asyncIterator]();$n(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function uN(n,e){return Wm(zm(n),e)}function lN(n,e){if(n!=null){if(jm(n))return sN(n,e);if(Vm(n))return aN(n,e);if(Um(n))return oN(n,e);if(Bm(n))return Wm(n,e);if(qm(n))return cN(n,e);if(Gm(n))return uN(n,e)}throw $m(n)}function ht(n,e){return e?lN(n,e):Pt(n)}function we(...n){let e=so(n);return ht(n,e)}function MI(n,e){let t=_e(n)?n:()=>n,r=i=>i.error(t());return new De(e?i=>e.schedule(r,0,i):r)}function Km(n){return!!n&&(n instanceof De||_e(n.lift)&&_e(n.subscribe))}var Oa=Eu(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function nt(n,e){return Ge((t,r)=>{let i=0;t.subscribe(We(r,s=>{r.next(n.call(e,s,i++))}))})}var{isArray:u4}=Array;function l4(n,e){return u4(e)?n(...e):n(e)}function Qm(n){return nt(e=>l4(n,e))}var{isArray:d4}=Array,{getPrototypeOf:h4,prototype:f4,keys:p4}=Object;function Ym(n){if(n.length===1){let e=n[0];if(d4(e))return{args:e,keys:null};if(m4(e)){let t=p4(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function m4(n){return n&&typeof n=="object"&&h4(n)===f4}function Jm(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Xm(...n){let e=so(n),t=Fm(n),{args:r,keys:i}=Ym(n);if(r.length===0)return ht([],e);let s=new De(g4(r,e,i?o=>Jm(i,o):Ur));return t?s.pipe(Qm(t)):s}function g4(n,e,t=Ur){return r=>{dN(e,()=>{let{length:i}=n,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)dN(e,()=>{let d=ht(n[c],e),h=!1;d.subscribe(We(r,m=>{s[c]=m,h||(h=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function dN(n,e,t){n?$n(t,n,e):e()}function hN(n,e,t,r,i,s,o,a){let c=[],d=0,h=0,m=!1,I=()=>{m&&!c.length&&!d&&e.complete()},R=V=>d<r?k(V):c.push(V),k=V=>{s&&e.next(V),d++;let O=!1;Pt(t(V,h++)).subscribe(We(e,q=>{i?.(q),s?R(q):e.next(q)},()=>{O=!0},void 0,()=>{if(O)try{for(d--;c.length&&d<r;){let q=c.shift();o?$n(e,o,()=>k(q)):k(q)}I()}catch(q){e.error(q)}}))};return n.subscribe(We(e,R,()=>{m=!0,I()})),()=>{a?.()}}function mn(n,e,t=1/0){return _e(e)?mn((r,i)=>nt((s,o)=>e(r,s,i,o))(Pt(n(r,i))),t):(typeof e=="number"&&(t=e),Ge((r,i)=>hN(r,i,n,t)))}function co(n=1/0){return mn(Ur,n)}function fN(){return co(1)}function Au(...n){return fN()(ht(n,so(n)))}function ph(n){return new De(e=>{Pt(n()).subscribe(e)})}function OI(...n){let e=Fm(n),{args:t,keys:r}=Ym(n),i=new De(s=>{let{length:o}=t;if(!o){s.complete();return}let a=new Array(o),c=o,d=o;for(let h=0;h<o;h++){let m=!1;Pt(t[h]).subscribe(We(s,I=>{m||(m=!0,d--),a[h]=I},()=>c--,void 0,()=>{(!c||!m)&&(d||s.next(r?Jm(r,a):a),s.complete())}))}});return e?i.pipe(Qm(e)):i}function Hn(n,e){return Ge((t,r)=>{let i=0;t.subscribe(We(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Ru(n){return Ge((e,t)=>{let r=null,i=!1,s;r=e.subscribe(We(t,void 0,void 0,o=>{s=Pt(n(o,Ru(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function Pu(n,e){return _e(e)?mn(n,e,1):mn(n,1)}function LI(n){return Ge((e,t)=>{let r=!1;e.subscribe(We(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ts(n){return n<=0?()=>Bn:Ge((e,t)=>{let r=0;e.subscribe(We(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function pN(n=y4){return Ge((e,t)=>{let r=!1;e.subscribe(We(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function y4(){return new Oa}function FI(n){return Ge((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function ns(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Hn((i,s)=>n(i,s,r)):Ur,ts(1),t?LI(e):pN(()=>new Oa))}function Zm(n){return n<=0?()=>Bn:Ge((e,t)=>{let r=[];e.subscribe(We(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function VI(...n){let e=so(n);return Ge((t,r)=>{(e?Au(n,t,e):Au(n,t)).subscribe(r)})}function jr(n,e){return Ge((t,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();t.subscribe(We(r,c=>{i?.unsubscribe();let d=0,h=s++;Pt(n(c,h)).subscribe(i=We(r,m=>r.next(e?e(c,m,h,d++):m),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function mh(n){return Ge((e,t)=>{Pt(n).subscribe(We(t,()=>t.complete(),hh)),!t.closed&&e.subscribe(t)})}function Pn(n,e,t){let r=_e(n)||e||t?{next:n,error:e,complete:t}:n;return r?Ge((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(We(s,c=>{var d;(d=r.next)===null||d===void 0||d.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var d;a=!1,(d=r.error)===null||d===void 0||d.call(r,c),s.error(c)},()=>{var c,d;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):Ur}var UI;function eg(){return UI}function hi(n){let e=UI;return UI=n,e}var mN=Symbol("NotFound");function Nu(n){return n===mN||n?.name==="\u0275NotFound"}var uo=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},tw=new uo("21.0.6");var sg="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",ee=class extends Error{code;constructor(e,t){super(po(e,t)),this.code=e}};function E4(n){return`NG0${Math.abs(n)}`}function po(n,e){return`${E4(n)}${e?": "+e:""}`}var ja=globalThis;function Ke(n){for(let e in n)if(n[e]===Ke)return e;throw Error("")}function EN(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function is(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(is).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function nw(n,e){return n?e?`${n} ${e}`:n:e||""}var I4=Ke({__forward_ref__:Ke});function Xn(n){return n.__forward_ref__=Xn,n.toString=function(){return is(this())},n}function gn(n){return rw(n)?n():n}function rw(n){return typeof n=="function"&&n.hasOwnProperty(I4)&&n.__forward_ref__===Xn}function re(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Br(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ih(n){return w4(n,og)}function iw(n){return Ih(n)!==null}function w4(n,e){return n.hasOwnProperty(e)&&n[e]||null}function b4(n){let e=n?.[og]??null;return e||null}function BI(n){return n&&n.hasOwnProperty(ng)?n[ng]:null}var og=Ke({\u0275prov:Ke}),ng=Ke({\u0275inj:Ke}),Z=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=re({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function sw(n){return n&&!!n.\u0275providers}var ow=Ke({\u0275cmp:Ke}),aw=Ke({\u0275dir:Ke}),cw=Ke({\u0275pipe:Ke}),uw=Ke({\u0275mod:Ke}),yh=Ke({\u0275fac:Ke}),Ba=Ke({__NG_ELEMENT_ID__:Ke}),gN=Ke({__NG_ENV_ID__:Ke});function lw(n){return ag(n,"@NgModule"),n[uw]||null}function ss(n){return ag(n,"@Component"),n[ow]||null}function dw(n){return ag(n,"@Directive"),n[aw]||null}function IN(n){return ag(n,"@Pipe"),n[cw]||null}function ag(n,e){if(n==null)throw new ee(-919,!1)}function pi(n){return typeof n=="string"?n:n==null?"":String(n)}function wN(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():pi(n)}var bN=Ke({ngErrorCode:Ke}),T4=Ke({ngErrorMessage:Ke}),C4=Ke({ngTokenPath:Ke});function hw(n,e){return TN("",-200,e)}function cg(n,e){throw new ee(-201,!1)}function TN(n,e,t){let r=new ee(e,n);return r[bN]=e,r[T4]=n,t&&(r[C4]=t),r}function S4(n){return n[bN]}var $I;function CN(){return $I}function Nn(n){let e=$I;return $I=n,e}function fw(n,e,t){let r=Ih(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;cg(n,"")}var D4={},La=D4,HI="__NG_DI_FLAG__",qI=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Fa(t)||0;try{return this.injector.get(e,r&8?null:La,r)}catch(i){if(Nu(i))return i;throw i}}};function A4(n,e=0){let t=eg();if(t===void 0)throw new ee(-203,!1);if(t===null)return fw(n,void 0,e);{let r=R4(e),i=t.retrieve(n,r);if(Nu(i)){if(r.optional)return null;throw i}return i}}function fe(n,e=0){return(CN()||A4)(gn(n),e)}function U(n,e){return fe(n,Fa(e))}function Fa(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function R4(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function zI(n){let e=[];for(let t=0;t<n.length;t++){let r=gn(n[t]);if(Array.isArray(r)){if(r.length===0)throw new ee(900,!1);let i,s=0;for(let o=0;o<r.length;o++){let a=r[o],c=P4(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(fe(i,s))}else e.push(fe(r))}return e}function SN(n,e){return n[HI]=e,n.prototype[HI]=e,n}function P4(n){return n[HI]}function lo(n,e){let t=n.hasOwnProperty(yh);return t?n[yh]:null}function DN(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}function AN(n){return n.flat(Number.POSITIVE_INFINITY)}function ug(n,e){n.forEach(t=>Array.isArray(t)?ug(t,e):e(t))}function pw(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function wh(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function RN(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let s=i-2;n[i]=n[s],i--}n[e]=t,n[e+1]=r}}function PN(n,e,t){let r=xu(n,e);return r>=0?n[r|1]=t:(r=~r,RN(n,r,e,t)),r}function lg(n,e){let t=xu(n,e);if(t>=0)return n[t|1]}function xu(n,e){return N4(n,e,1)}function N4(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}var mo={},Jn=[],Mu=new Z(""),mw=new Z("",-1),gw=new Z(""),_h=class{get(e,t=La){if(t===La){let i=TN("",-201);throw i.name="\u0275NotFound",i}return t}};function mr(n){return{\u0275providers:n}}function NN(...n){return{\u0275providers:yw(!0,n),\u0275fromNgModule:!0}}function yw(n,...e){let t=[],r=new Set,i,s=o=>{t.push(o)};return ug(e,o=>{let a=o;rg(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&kN(i,s),t}function kN(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];_w(i,s=>{e(s,r)})}}function rg(n,e,t,r){if(n=gn(n),!n)return!1;let i=null,s=BI(n),o=!s&&ss(n);if(!s&&!o){let c=n.ngModule;if(s=BI(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=n}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let d of c)rg(d,e,t,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let d;try{ug(s.imports,h=>{rg(h,e,t,r)&&(d||=[],d.push(h))})}finally{}d!==void 0&&kN(d,e)}if(!a){let d=lo(i)||(()=>new i);e({provide:i,useFactory:d,deps:Jn},i),e({provide:gw,useValue:i,multi:!0},i),e({provide:Mu,useValue:()=>fe(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let d=n;_w(c,h=>{e(h,d)})}}else return!1;return i!==n&&n.providers!==void 0}function _w(n,e){for(let t of n)sw(t)&&(t=t.\u0275providers),Array.isArray(t)?_w(t,e):e(t)}var k4=Ke({provide:String,useValue:Ke});function xN(n){return n!==null&&typeof n=="object"&&k4 in n}function x4(n){return!!(n&&n.useExisting)}function M4(n){return!!(n&&n.useFactory)}function Va(n){return typeof n=="function"}function MN(n){return!!n.useClass}var bh=new Z(""),tg={},yN={},jI;function Th(){return jI===void 0&&(jI=new _h),jI}var St=class{},Ua=class extends St{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,WI(e,o=>this.processProvider(o)),this.records.set(mw,ku(void 0,this)),i.has("environment")&&this.records.set(St,ku(void 0,this));let s=this.records.get(bh);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(gw,Jn,{self:!0}))}retrieve(e,t){let r=Fa(t)||0;try{return this.get(e,La,r)}catch(i){if(Nu(i))return i;throw i}}destroy(){gh(this),this._destroyed=!0;let e=Ie(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ie(e)}}onDestroy(e){return gh(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){gh(this);let t=hi(this),r=Nn(void 0),i;try{return e()}finally{hi(t),Nn(r)}}get(e,t=La,r){if(gh(this),e.hasOwnProperty(gN))return e[gN](this);let i=Fa(r),s,o=hi(this),a=Nn(void 0);try{if(!(i&4)){let d=this.records.get(e);if(d===void 0){let h=U4(e)&&Ih(e);h&&this.injectableDefInScope(h)?d=ku(GI(e),tg):d=null,this.records.set(e,d)}if(d!=null)return this.hydrate(e,d,i)}let c=i&2?Th():this.parent;return t=i&8&&t===La?null:t,c.get(e,t)}catch(c){let d=S4(c);throw d===-200||d===-201?new ee(d,null):c}finally{Nn(a),hi(o)}}resolveInjectorInitializers(){let e=Ie(null),t=hi(this),r=Nn(void 0),i;try{let s=this.get(Mu,Jn,{self:!0});for(let o of s)o()}finally{hi(t),Nn(r),Ie(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(is(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=gn(e);let t=Va(e)?e:gn(e&&e.provide),r=L4(e);if(!Va(e)&&e.multi===!0){let i=this.records.get(t);i||(i=ku(void 0,tg,!0),i.factory=()=>zI(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=Ie(null);try{if(t.value===yN)throw hw(is(e));return t.value===tg&&(t.value=yN,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&V4(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Ie(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=gn(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function GI(n){let e=Ih(n),t=e!==null?e.factory:lo(n);if(t!==null)return t;if(n instanceof Z)throw new ee(204,!1);if(n instanceof Function)return O4(n);throw new ee(204,!1)}function O4(n){if(n.length>0)throw new ee(204,!1);let t=b4(n);return t!==null?()=>t.factory(n):()=>new n}function L4(n){if(xN(n))return ku(void 0,n.useValue);{let e=vw(n);return ku(e,tg)}}function vw(n,e,t){let r;if(Va(n)){let i=gn(n);return lo(i)||GI(i)}else if(xN(n))r=()=>gn(n.useValue);else if(M4(n))r=()=>n.useFactory(...zI(n.deps||[]));else if(x4(n))r=(i,s)=>fe(gn(n.useExisting),s!==void 0&&s&8?8:void 0);else{let i=gn(n&&(n.useClass||n.provide));if(F4(n))r=()=>new i(...zI(n.deps));else return lo(i)||GI(i)}return r}function gh(n){if(n.destroyed)throw new ee(205,!1)}function ku(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function F4(n){return!!n.deps}function V4(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function U4(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function WI(n,e){for(let t of n)Array.isArray(t)?WI(t,e):t&&sw(t)?WI(t.\u0275providers,e):e(t)}function Nt(n,e){let t;n instanceof Ua?(gh(n),t=n):t=new qI(n);let r,i=hi(t),s=Nn(void 0);try{return e()}finally{hi(i),Nn(s)}}function ON(){return CN()!==void 0||eg()!=null}var $r=0,ce=1,me=2,nn=3,gr=4,yr=5,Ch=6,Ou=7,wn=8,go=9,mi=10,ft=11,Lu=12,Ew=13,$a=14,_r=15,yo=16,Ha=17,gi=18,Sh=19,Iw=20,rs=21,dg=22,Dh=23,Zn=24,qa=25,Ah=26,rn=27,LN=1;var _o=7,Rh=8,za=9,kn=10;function yi(n){return Array.isArray(n)&&typeof n[LN]=="object"}function Hr(n){return Array.isArray(n)&&n[LN]===!0}function ww(n){return(n.flags&4)!==0}function vo(n){return n.componentOffset>-1}function Fu(n){return(n.flags&1)===1}function _i(n){return!!n.template}function Vu(n){return(n[me]&512)!==0}function Ga(n){return(n[me]&256)===256}var FN="svg",VN="math";function vr(n){for(;Array.isArray(n);)n=n[$r];return n}function bw(n,e){return vr(e[n])}function qr(n,e){return vr(e[n.index])}function hg(n,e){return n.data[e]}function Tw(n,e){return n[e]}function Cw(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Er(n,e){let t=e[n];return yi(t)?t:t[$r]}function UN(n){return(n[me]&4)===4}function fg(n){return(n[me]&128)===128}function jN(n){return Hr(n[nn])}function Wa(n,e){return e==null?null:n[e]}function Sw(n){n[Ha]=0}function Dw(n){n[me]&1024||(n[me]|=1024,fg(n)&&Uu(n))}function BN(n,e){for(;n>0;)e=e[$a],n--;return e}function Ph(n){return!!(n[me]&9216||n[Zn]?.dirty)}function pg(n){n[mi].changeDetectionScheduler?.notify(8),n[me]&64&&(n[me]|=1024),Ph(n)&&Uu(n)}function Uu(n){n[mi].changeDetectionScheduler?.notify(0);let e=ho(n);for(;e!==null&&!(e[me]&8192||(e[me]|=8192,!fg(e)));)e=ho(e)}function Aw(n,e){if(Ga(n))throw new ee(911,!1);n[rs]===null&&(n[rs]=[]),n[rs].push(e)}function $N(n,e){if(n[rs]===null)return;let t=n[rs].indexOf(e);t!==-1&&n[rs].splice(t,1)}function ho(n){let e=n[nn];return Hr(e)?e[nn]:e}function Rw(n){return n[Ou]??=[]}function Pw(n){return n.cleanup??=[]}function HN(n,e,t,r){let i=Rw(e);i.push(t),n.firstCreatePass&&Pw(n).push(r,i.length-1)}var be={lFrame:rk(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var KI=!1;function qN(){return be.lFrame.elementDepthCount}function zN(){be.lFrame.elementDepthCount++}function Nw(){be.lFrame.elementDepthCount--}function mg(){return be.bindingsEnabled}function GN(){return be.skipHydrationRootTNode!==null}function kw(n){return be.skipHydrationRootTNode===n}function xw(){be.skipHydrationRootTNode=null}function Ae(){return be.lFrame.lView}function Kt(){return be.lFrame.tView}function rt(n){return be.lFrame.contextLView=n,n[wn]}function it(n){return be.lFrame.contextLView=null,n}function Qt(){let n=Mw();for(;n!==null&&n.type===64;)n=n.parent;return n}function Mw(){return be.lFrame.currentTNode}function WN(){let n=be.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function ju(n,e){let t=be.lFrame;t.currentTNode=n,t.isParent=e}function Ow(){return be.lFrame.isParent}function KN(){be.lFrame.isParent=!1}function QN(){return be.lFrame.contextLView}function Lw(){return KI}function Fw(n){let e=KI;return KI=n,e}function YN(){let n=be.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Vw(){return be.lFrame.bindingIndex}function JN(n){return be.lFrame.bindingIndex=n}function Nh(){return be.lFrame.bindingIndex++}function gg(n){let e=be.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function XN(){return be.lFrame.inI18n}function ZN(n,e){let t=be.lFrame;t.bindingIndex=t.bindingRootIndex=n,yg(e)}function ek(){return be.lFrame.currentDirectiveIndex}function yg(n){be.lFrame.currentDirectiveIndex=n}function tk(n){let e=be.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Uw(){return be.lFrame.currentQueryIndex}function _g(n){be.lFrame.currentQueryIndex=n}function j4(n){let e=n[ce];return e.type===2?e.declTNode:e.type===1?n[yr]:null}function jw(n,e,t){if(t&4){let i=e,s=n;for(;i=i.parent,i===null&&!(t&1);)if(i=j4(s),i===null||(s=s[$a],i.type&10))break;if(i===null)return!1;e=i,n=s}let r=be.lFrame=nk();return r.currentTNode=e,r.lView=n,!0}function vg(n){let e=nk(),t=n[ce];be.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function nk(){let n=be.lFrame,e=n===null?null:n.child;return e===null?rk(n):e}function rk(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function ik(){let n=be.lFrame;return be.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Bw=ik;function Eg(){let n=ik();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function sk(n){return(be.lFrame.contextLView=BN(n,be.lFrame.contextLView))[wn]}function os(){return be.lFrame.selectedIndex}function Eo(n){be.lFrame.selectedIndex=n}function Ig(){let n=be.lFrame;return hg(n.tView,n.selectedIndex)}function ok(){return be.lFrame.currentNamespace}var ak=!0;function wg(){return ak}function kh(n){ak=n}function QI(n,e=null,t=null,r){let i=$w(n,e,t,r);return i.resolveInjectorInitializers(),i}function $w(n,e=null,t=null,r,i=new Set){let s=[t||Jn,NN(n)];return r=r||(typeof n=="object"?void 0:is(n)),new Ua(s,e||Th(),r||null,i)}var vt=class n{static THROW_IF_NOT_FOUND=La;static NULL=new _h;static create(e,t){if(Array.isArray(e))return QI({name:""},t,e,"");{let r=e.name??"";return QI({name:r},e.parent,e.providers,r)}}static \u0275prov=re({token:n,providedIn:"any",factory:()=>fe(mw)});static __NG_ELEMENT_ID__=-1},Dt=new Z(""),zr=(()=>{class n{static __NG_ELEMENT_ID__=B4;static __NG_ENV_ID__=t=>t}return n})(),YI=class extends zr{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Ga(this._lView)}onDestroy(e){let t=this._lView;return Aw(t,e),()=>$N(t,e)}};function B4(){return new YI(Ae())}var ck=!1,as=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new pn(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new De(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=re({token:n,providedIn:"root",factory:()=>new n})}return n})(),JI=class extends Rt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,ON()&&(this.destroyRef=U(zr,{optional:!0})??void 0,this.pendingTasks=U(as,{optional:!0})??void 0)}emit(e){let t=Ie(null);try{super.next(e)}finally{Ie(t)}}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Wt&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ct=JI;function ig(...n){}function Hw(n){let e,t;function r(){n=ig;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function qw(n){return queueMicrotask(()=>n()),()=>{n=ig}}var zw="isAngularZone",vh=zw+"_ID",$4=0,lt=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ct(!1);onMicrotaskEmpty=new Ct(!1);onStable=new Ct(!1);onError=new Ct(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=ck}=e;if(typeof Zone>"u")throw new ee(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,z4(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(zw)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new ee(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new ee(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,H4,ig,ig);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},H4={};function Gw(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function q4(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){Hw(()=>{n.callbackScheduled=!1,XI(n),n.isCheckStableRunning=!0,Gw(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),XI(n)}function z4(n){let e=()=>{q4(n)},t=$4++;n._inner=n._inner.fork({name:"angular",properties:{[zw]:!0,[vh]:t,[vh+t]:!0},onInvokeTask:(r,i,s,o,a,c)=>{if(G4(c))return r.invokeTask(s,o,a,c);try{return _N(n),r.invokeTask(s,o,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),vN(n)}},onInvoke:(r,i,s,o,a,c,d)=>{try{return _N(n),r.invoke(s,o,a,c,d)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!W4(c)&&e(),vN(n)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,XI(n),Gw(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function XI(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function _N(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function vN(n){n._nesting--,Gw(n)}var Eh=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ct;onMicrotaskEmpty=new Ct;onStable=new Ct;onError=new Ct;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function G4(n){return uk(n,"__ignore_ng_zone__")}function W4(n){return uk(n,"__scheduler_tick__")}function uk(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var fi=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Ir=new Z("",{factory:()=>{let n=U(lt),e=U(St),t;return r=>{n.runOutsideAngular(()=>{e.destroyed&&!t?setTimeout(()=>{throw r}):(t??=e.get(fi),t.handleError(r))})}}}),lk={provide:Mu,useValue:()=>{let n=U(fi,{optional:!0})},multi:!0};function er(n,e){let[t,r,i]=EI(n,e?.equal),s=t,o=s[Rn];return s.set=r,s.update=i,s.asReadonly=dk.bind(s),s}function dk(){let n=this[Rn];if(n.readonlyFn===void 0){let e=()=>this();e[Rn]=n,n.readonlyFn=e}return n.readonlyFn}var bg=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=K4}return n})();function K4(){return new bg(Ae(),Qt())}var fo=class{},xh=new Z("",{factory:()=>!0});var Ww=new Z(""),Bu=(()=>{class n{internalPendingTasks=U(as);scheduler=U(fo);errorHandler=U(Ir);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=re({token:n,providedIn:"root",factory:()=>new n})}return n})(),Kw=(()=>{class n{static \u0275prov=re({token:n,providedIn:"root",factory:()=>new ZI})}return n})(),ZI=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}},ew=class{[Rn];constructor(e){this[Rn]=e}destroy(){this[Rn].destroy()}};function kt(n){return II(n)}function Ku(n){return{toString:n}.toString()}var Tg="__parameters__";function n$(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function r$(n,e,t){return Ku(()=>{let r=n$(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,d,h){let m=c.hasOwnProperty(Tg)?c[Tg]:Object.defineProperty(c,Tg,{value:[]})[Tg];for(;m.length<=h;)m.push(null);return(m[h]=m[h]||[]).push(o),c}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var tr=SN(r$("Optional"),8);function i$(n){return typeof n=="function"}function jk(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var xg=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}},Kr=(()=>{let n=()=>Bk;return n.ngInherit=!0,n})();function Bk(n){return n.type.prototype.ngOnChanges&&(n.setInput=o$),s$}function s$(){let n=Hk(this),e=n?.current;if(e){let t=n.previous;if(t===mo)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function o$(n,e,t,r,i){let s=this.declaredInputs[r],o=Hk(n)||a$(n,{previous:mo,current:null}),a=o.current||(o.current={}),c=o.previous,d=c[s];a[s]=new xg(d&&d.currentValue,t,c===mo),jk(n,e,i,t)}var $k="__ngSimpleChanges__";function Hk(n){return n[$k]||null}function a$(n,e){return n[$k]=e}var hk=[];var Qe=function(n,e=null,t){for(let r=0;r<hk.length;r++){let i=hk[r];i(n,e,t)}},Ve=(function(n){return n[n.TemplateCreateStart=0]="TemplateCreateStart",n[n.TemplateCreateEnd=1]="TemplateCreateEnd",n[n.TemplateUpdateStart=2]="TemplateUpdateStart",n[n.TemplateUpdateEnd=3]="TemplateUpdateEnd",n[n.LifecycleHookStart=4]="LifecycleHookStart",n[n.LifecycleHookEnd=5]="LifecycleHookEnd",n[n.OutputStart=6]="OutputStart",n[n.OutputEnd=7]="OutputEnd",n[n.BootstrapApplicationStart=8]="BootstrapApplicationStart",n[n.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",n[n.BootstrapComponentStart=10]="BootstrapComponentStart",n[n.BootstrapComponentEnd=11]="BootstrapComponentEnd",n[n.ChangeDetectionStart=12]="ChangeDetectionStart",n[n.ChangeDetectionEnd=13]="ChangeDetectionEnd",n[n.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",n[n.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",n[n.AfterRenderHooksStart=16]="AfterRenderHooksStart",n[n.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",n[n.ComponentStart=18]="ComponentStart",n[n.ComponentEnd=19]="ComponentEnd",n[n.DeferBlockStateStart=20]="DeferBlockStateStart",n[n.DeferBlockStateEnd=21]="DeferBlockStateEnd",n[n.DynamicComponentStart=22]="DynamicComponentStart",n[n.DynamicComponentEnd=23]="DynamicComponentEnd",n[n.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",n[n.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",n})(Ve||{});function c$(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=Bk(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function qk(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:d,ngOnDestroy:h}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),d&&((n.viewHooks??=[]).push(t,d),(n.viewCheckHooks??=[]).push(t,d)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Ag(n,e,t){zk(n,e,3,t)}function Rg(n,e,t,r){(n[me]&3)===t&&zk(n,e,t,r)}function Qw(n,e){let t=n[me];(t&3)===e&&(t&=16383,t+=1,n[me]=t)}function zk(n,e,t,r){let i=r!==void 0?n[Ha]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Ha]+=65536),(a<s||s==-1)&&(u$(n,t,e,c),n[Ha]=(n[Ha]&4294901760)+c+2),c++}function fk(n,e){Qe(Ve.LifecycleHookStart,n,e);let t=Ie(null);try{e.call(n)}finally{Ie(t),Qe(Ve.LifecycleHookEnd,n,e)}}function u$(n,e,t,r){let i=t[r]<0,s=t[r+1],o=i?-t[r]:t[r],a=n[o];i?n[me]>>14<n[Ha]>>16&&(n[me]&3)===e&&(n[me]+=16384,fk(a,s)):fk(a,s)}var Hu=-1,Qa=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function l$(n){return(n.flags&8)!==0}function d$(n){return(n.flags&16)!==0}function h$(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{let s=i,o=t[++r];f$(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function Gk(n){return n===3||n===4||n===6}function f$(n){return n.charCodeAt(0)===64}function qu(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?pk(n,t,i,null,e[++r]):pk(n,t,i,null,null))}}return n}function pk(n,e,t,r,i){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let a=n[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<n.length;){let a=n[s];if(typeof a=="number")break;if(a===t){i!==null&&(n[s+1]=i);return}s++,i!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),i!==null&&n.splice(s++,0,i)}function Wk(n){return n!==Hu}function Mg(n){return n&32767}function p$(n){return n>>16}function Og(n,e){let t=p$(n),r=e;for(;t>0;)r=r[$a],t--;return r}var i0=!0;function Lg(n){let e=i0;return i0=n,e}var m$=256,Kk=m$-1,Qk=5,g$=0,vi={};function y$(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ba)&&(r=t[Ba]),r==null&&(r=t[Ba]=g$++);let i=r&Kk,s=1<<i;e.data[n+(i>>Qk)]|=s}function Fg(n,e){let t=Yk(n,e);if(t!==-1)return t;let r=e[ce];r.firstCreatePass&&(n.injectorIndex=e.length,Yw(r.data,n),Yw(e,null),Yw(r.blueprint,null));let i=T0(n,e),s=n.injectorIndex;if(Wk(i)){let o=Mg(i),a=Og(i,e),c=a[ce].data;for(let d=0;d<8;d++)e[s+d]=a[o+d]|c[o+d]}return e[s+8]=i,s}function Yw(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Yk(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function T0(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=tx(i),r===null)return Hu;if(t++,i=i[$a],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Hu}function s0(n,e,t){y$(n,e,t)}function _$(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let s=t[i];if(Gk(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(s===e)return t[i+1];i=i+2}}}return null}function Jk(n,e,t){if(t&8||n!==void 0)return n;cg(e,"NodeInjector")}function Xk(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[go],s=Nn(void 0);try{return i?i.get(e,r,t&8):fw(e,r,t&8)}finally{Nn(s)}}return Jk(r,e,t)}function Zk(n,e,t,r=0,i){if(n!==null){if(e[me]&2048&&!(r&2)){let o=w$(n,e,t,r,vi);if(o!==vi)return o}let s=ex(n,e,t,r,vi);if(s!==vi)return s}return Xk(e,t,r,i)}function ex(n,e,t,r,i){let s=E$(t);if(typeof s=="function"){if(!jw(e,n,r))return r&1?Jk(i,t,r):Xk(e,t,r,i);try{let o;if(o=s(r),o==null&&!(r&8))cg(t);else return o}finally{Bw()}}else if(typeof s=="number"){let o=null,a=Yk(n,e),c=Hu,d=r&1?e[_r][yr]:null;for((a===-1||r&4)&&(c=a===-1?T0(n,e):e[a+8],c===Hu||!gk(r,!1)?a=-1:(o=e[ce],a=Mg(c),e=Og(c,e)));a!==-1;){let h=e[ce];if(mk(s,a,h.data)){let m=v$(a,e,t,o,r,d);if(m!==vi)return m}c=e[a+8],c!==Hu&&gk(r,e[ce].data[a+8]===d)&&mk(s,a,e)?(o=h,a=Mg(c),e=Og(c,e)):a=-1}}return i}function v$(n,e,t,r,i,s){let o=e[ce],a=o.data[n+8],c=r==null?vo(a)&&i0:r!=o&&(a.type&3)!==0,d=i&1&&s===a,h=Pg(a,o,t,c,d);return h!==null?Lh(e,o,h,a,i):vi}function Pg(n,e,t,r,i){let s=n.providerIndexes,o=e.data,a=s&1048575,c=n.directiveStart,d=n.directiveEnd,h=s>>20,m=r?a:a+h,I=i?a+h:d;for(let R=m;R<I;R++){let k=o[R];if(R<c&&t===k||R>=c&&k.type===t)return R}if(i){let R=o[c];if(R&&_i(R)&&R.type===t)return c}return null}function Lh(n,e,t,r,i){let s=n[t],o=e.data;if(s instanceof Qa){let a=s;if(a.resolving){let R=wN(o[t]);throw hw(R)}let c=Lg(a.canSeeViewProviders);a.resolving=!0;let d=o[t].type||o[t],h,m=a.injectImpl?Nn(a.injectImpl):null,I=jw(n,r,0);try{s=n[t]=a.factory(void 0,i,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&c$(t,o[t],e)}finally{m!==null&&Nn(m),Lg(c),a.resolving=!1,Bw()}}return s}function E$(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Ba)?n[Ba]:void 0;return typeof e=="number"?e>=0?e&Kk:I$:e}function mk(n,e,t){let r=1<<n;return!!(t[e+(n>>Qk)]&r)}function gk(n,e){return!(n&2)&&!(n&1&&e)}var Ka=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Zk(this._tNode,this._lView,e,Fa(r),t)}};function I$(){return new Ka(Qt(),Ae())}function wr(n){return Ku(()=>{let e=n.prototype.constructor,t=e[yh]||o0(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let s=i[yh]||o0(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function o0(n){return rw(n)?()=>{let e=o0(gn(n));return e&&e()}:lo(n)}function w$(n,e,t,r,i){let s=n,o=e;for(;s!==null&&o!==null&&o[me]&2048&&!Vu(o);){let a=ex(s,o,t,r|2,vi);if(a!==vi)return a;let c=s.parent;if(!c){let d=o[Iw];if(d){let h=d.get(t,vi,r);if(h!==vi)return h}c=tx(o),o=o[$a]}s=c}return i}function tx(n){let e=n[ce],t=e.type;return t===2?e.declTNode:t===1?n[yr]:null}function Bh(n){return _$(Qt(),n)}function b$(){return Qu(Qt(),Ae())}function Qu(n,e){return new xn(qr(n,e))}var xn=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=b$}return n})();function T$(n){return n instanceof xn?n.nativeElement:n}function C$(){return this._results[Symbol.iterator]()}var Vg=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Rt}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=AN(e);(this._changesDetected=!DN(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=C$};function nx(n){return(n.flags&128)===128}var C0=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(C0||{}),rx=new Map,S$=0;function D$(){return S$++}function A$(n){rx.set(n[Sh],n)}function a0(n){rx.delete(n[Sh])}var yk="__ngContext__";function zu(n,e){yi(e)?(n[yk]=e[Sh],A$(e)):n[yk]=e}function ix(n){return ox(n[Lu])}function sx(n){return ox(n[gr])}function ox(n){for(;n!==null&&!Hr(n);)n=n[gr];return n}var R$;function S0(n){R$=n}var Qg=new Z("",{factory:()=>P$}),P$="ng";var Yg=new Z(""),Za=new Z("",{providedIn:"platform",factory:()=>"unknown"});var Jg=new Z("",{factory:()=>U(Dt).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var ax=!1,cx=new Z("",{factory:()=>ax});var D0=new Z("");var N$=(n,e,t,r)=>{};function k$(n,e,t,r){N$(n,e,t,r)}function A0(n){return(n.flags&32)===32}var x$=()=>null;function ux(n,e,t=!1){return x$(n,e,t)}function lx(n,e){let t=n.contentQueries;if(t!==null){let r=Ie(null);try{for(let i=0;i<t.length;i+=2){let s=t[i],o=t[i+1];if(o!==-1){let a=n.data[o];_g(s),a.contentQueries(2,e[o],o)}}}finally{Ie(r)}}}function c0(n,e,t){_g(0);let r=Ie(null);try{e(n,t)}finally{Ie(r)}}function R0(n,e,t){if(ww(e)){let r=Ie(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=n.data[o];if(a.contentQueries){let c=t[o];a.contentQueries(1,c,o)}}}finally{Ie(r)}}}var Wr=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n[n.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",n})(Wr||{});var Cg;function M$(){if(Cg===void 0&&(Cg=null,ja.trustedTypes))try{Cg=ja.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Cg}function O$(n){return M$()?.createScriptURL(n)||n}var Sg;function L$(){if(Sg===void 0&&(Sg=null,ja.trustedTypes))try{Sg=ja.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Sg}function _k(n){return L$()?.createScriptURL(n)||n}var Ug=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${sg})`}};function $h(n){return n instanceof Ug?n.changingThisBreaksApplicationSecurity:n}function P0(n,e){let t=dx(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${sg})`)}return t===e}function dx(n){return n instanceof Ug&&n.getTypeName()||null}var F$=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function hx(n){return n=String(n),n.match(F$)?n:"unsafe:"+n}var V$=/^>|^->|<!--|-->|--!>|<!-$/g,U$=/(<|>)/g,j$="\u200B$1\u200B";function B$(n){return n.replace(V$,e=>e.replace(U$,j$))}function $$(n,e){return n.createText(e)}function H$(n,e,t){n.setValue(e,t)}function q$(n,e){return n.createComment(B$(e))}function fx(n,e,t){return n.createElement(e,t)}function jg(n,e,t,r,i){n.insertBefore(e,t,r,i)}function px(n,e,t){n.appendChild(e,t)}function vk(n,e,t,r,i){r!==null?jg(n,e,t,r,i):px(n,e,t)}function z$(n,e,t,r){n.removeChild(null,e,t,r)}function G$(n,e,t){n.setAttribute(e,"style",t)}function W$(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function mx(n,e,t){let{mergedAttrs:r,classes:i,styles:s}=t;r!==null&&h$(n,e,r),i!==null&&W$(n,e,i),s!==null&&G$(n,e,s)}var Xg=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(Xg||{});function Zg(n){let e=yx();return e?e.sanitize(Xg.URL,n)||"":P0(n,"URL")?$h(n):hx(pi(n))}function gx(n){let e=yx();if(e)return _k(e.sanitize(Xg.RESOURCE_URL,n)||"");if(P0(n,"ResourceURL"))return _k($h(n));throw new ee(904,!1)}function N0(n){return O$(n[0])}function K$(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?gx:Zg}function k0(n,e,t){return K$(e,t)(n)}function yx(){let n=Ae();return n&&n[mi].sanitizer}function _x(n){return n instanceof Function?n():n}function Q$(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}var vx="ng-template";function Y$(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Q$(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(x0(n))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===t)return!0}return!1}function x0(n){return n.type===4&&n.value!==vx}function J$(n,e,t){let r=n.type===4&&!t?vx:n.value;return e===r}function X$(n,e,t){let r=4,i=n.attrs,s=i!==null?t3(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!Gr(r)&&!Gr(c))return!1;if(o&&Gr(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!J$(n,c,t)||c===""&&e.length===1){if(Gr(r))return!1;o=!0}}else if(r&8){if(i===null||!Y$(n,i,c,t)){if(Gr(r))return!1;o=!0}}else{let d=e[++a],h=Z$(c,i,x0(n),t);if(h===-1){if(Gr(r))return!1;o=!0;continue}if(d!==""){let m;if(h>s?m="":m=i[h+1].toLowerCase(),r&2&&d!==m){if(Gr(r))return!1;o=!0}}}}return Gr(r)||o}function Gr(n){return(n&1)===0}function Z$(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){let o=e[i];if(o===n)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return n3(e,n)}function e3(n,e,t=!1){for(let r=0;r<e.length;r++)if(X$(n,e[r],t))return!0;return!1}function t3(n){for(let e=0;e<n.length;e++){let t=n[e];if(Gk(t))return e}return n.length}function n3(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function Ek(n,e){return n?":not("+e.trim()+")":e}function r3(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(r&2){let a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Gr(o)&&(e+=Ek(s,i),i=""),r=o,s=s||!Gr(r);t++}return i!==""&&(e+=Ek(s,i)),e}function i3(n){return n.map(r3).join(",")}function s3(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let s=n[r];if(typeof s=="string")i===2?s!==""&&e.push(s,n[++r]):i===8&&t.push(s);else{if(!Gr(i))break;i=s}r++}return t.length&&e.push(1,...t),e}var nr={};function M0(n,e,t,r,i,s,o,a,c,d,h){let m=rn+r,I=m+i,R=o3(m,I),k=typeof d=="function"?d():d;return R[ce]={type:n,blueprint:R,template:t,queries:null,viewQuery:a,declTNode:e,data:R.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:I,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:k,incompleteFirstPass:!1,ssrId:h}}function o3(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:nr);return t}function a3(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=M0(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function O0(n,e,t,r,i,s,o,a,c,d,h){let m=e.blueprint.slice();return m[$r]=i,m[me]=r|4|128|8|64|1024,(d!==null||n&&n[me]&2048)&&(m[me]|=2048),Sw(m),m[nn]=m[$a]=n,m[wn]=t,m[mi]=o||n&&n[mi],m[ft]=a||n&&n[ft],m[go]=c||n&&n[go]||null,m[yr]=s,m[Sh]=D$(),m[Ch]=h,m[Iw]=d,m[_r]=e.type==2?n[_r]:m,m}function c3(n,e,t){let r=qr(e,n),i=a3(t),s=n[mi].rendererFactory,o=L0(n,O0(n,i,null,Ex(t),r,e,null,s.createRenderer(r,t),null,null,null));return n[e.index]=o}function Ex(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function Ix(n,e,t,r){if(t===0)return-1;let i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function L0(n,e){return n[Lu]?n[Ew][gr]=e:n[Lu]=e,n[Ew]=e,e}function J(n=1){wx(Kt(),Ae(),os()+n,!1)}function wx(n,e,t,r){if(!r)if((e[me]&3)===3){let s=n.preOrderCheckHooks;s!==null&&Ag(e,s,t)}else{let s=n.preOrderHooks;s!==null&&Rg(e,s,0,t)}Eo(t)}var ey=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(ey||{});function u0(n,e,t,r){let i=Ie(null);try{let[s,o,a]=n.inputs[t],c=null;(o&ey.SignalBased)!==0&&(c=e[s][Rn]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,s):jk(e,c,s,r)}finally{Ie(i)}}var Ei=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Ei||{}),u3;function F0(n,e){return u3(n,e)}var Gu=new Set,ty=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(ty||{}),ec=new Z(""),Ik=new Set;function Yu(n){Ik.has(n)||(Ik.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var V0=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=re({token:n,providedIn:"root",factory:()=>new n})}return n})(),bx=[0,1,2,3],Tx=(()=>{class n{ngZone=U(lt);scheduler=U(fo);errorHandler=U(fi,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){U(ec,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Qe(Ve.AfterRenderHooksStart),this.executing=!0;for(let r of bx)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let s=i.hooks[r];return s(i.pipelinedValue)},i.snapshot))}catch(s){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(s)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Qe(Ve.AfterRenderHooksEnd)}register(t){let{view:r}=t;r!==void 0?((r[qa]??=[]).push(t),Uu(r),r[me]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(ty.AFTER_NEXT_RENDER,t):t()}static \u0275prov=re({token:n,providedIn:"root",factory:()=>new n})}return n})(),Bg=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,s,o=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=o,this.unregisterOnDestroy=s?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[qa];e&&(this.view[qa]=e.filter(t=>t!==this))}};function Hh(n,e){let t=e?.injector??U(vt);return Yu("NgAfterNextRender"),d3(n,t,e,!0)}function l3(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function d3(n,e,t,r){let i=e.get(V0);i.impl??=e.get(Tx);let s=e.get(ec,null,{optional:!0}),o=t?.manualCleanup!==!0?e.get(zr):null,a=e.get(bg,null,{optional:!0}),c=new Bg(i.impl,l3(n),a?.view,r,o,s?.snapshot(null));return i.impl.register(c),c}var h3=new Z("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:U(St)})});function Cx(n,e,t){let r=n.get(h3);if(Array.isArray(e))for(let i of e)r.queue.add(i),t?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),t?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(n)}function f3(n,e){for(let[t,r]of e)Cx(n,r.animateFns)}function wk(n,e,t,r){let i=n?.[Ah]?.enter;e!==null&&i&&i.has(t.index)&&f3(r,i)}function $u(n,e,t,r,i,s,o,a){if(i!=null){let c,d=!1;Hr(i)?c=i:yi(i)&&(d=!0,i=i[$r]);let h=vr(i);n===0&&r!==null?(wk(a,r,s,t),o==null?px(e,r,h):jg(e,r,h,o||null,!0)):n===1&&r!==null?(wk(a,r,s,t),jg(e,r,h,o||null,!0)):n===2?bk(a,s,t,m=>{z$(e,h,d,m)}):n===3&&bk(a,s,t,()=>{e.destroyNode(h)}),c!=null&&S3(e,n,t,c,s,r,o)}}function p3(n,e){Sx(n,e),e[$r]=null,e[yr]=null}function m3(n,e,t,r,i,s){r[$r]=i,r[yr]=e,ny(n,r,t,1,i,s)}function Sx(n,e){e[mi].changeDetectionScheduler?.notify(9),ny(n,e,e[ft],2,null,null)}function g3(n){let e=n[Lu];if(!e)return Jw(n[ce],n);for(;e;){let t=null;if(yi(e))t=e[Lu];else{let r=e[kn];r&&(t=r)}if(!t){for(;e&&!e[gr]&&e!==n;)yi(e)&&Jw(e[ce],e),e=e[nn];e===null&&(e=n),yi(e)&&Jw(e[ce],e),t=e&&e[gr]}e=t}}function U0(n,e){let t=n[za],r=t.indexOf(e);t.splice(r,1)}function Dx(n,e){if(Ga(e))return;let t=e[ft];t.destroyNode&&ny(n,e,t,3,null,null),g3(e)}function Jw(n,e){if(Ga(e))return;let t=Ie(null);try{e[me]&=-129,e[me]|=256,e[Zn]&&lh(e[Zn]),v3(n,e),_3(n,e),e[ce].type===1&&e[ft].destroy();let r=e[yo];if(r!==null&&Hr(e[nn])){r!==e[nn]&&U0(r,e);let i=e[gi];i!==null&&i.detachView(n)}a0(e)}finally{Ie(t)}}function bk(n,e,t,r){let i=n?.[Ah];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);n&&Gu.add(n),Cx(t,()=>{if(i.leave&&i.leave.has(e.index)){let o=i.leave.get(e.index),a=[];if(o){for(let c=0;c<o.animateFns.length;c++){let d=o.animateFns[c],{promise:h}=d();a.push(h)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),y3(n,r)}else n&&Gu.delete(n),r(!1)},i)}function y3(n,e){let t=n[Ah]?.running;if(t){t.then(()=>{n[Ah].running=void 0,Gu.delete(n),e(!0)});return}e(!1)}function _3(n,e){let t=n.cleanup,r=e[Ou];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let a=t[o+3];a>=0?r[a]():r[-a].unsubscribe(),o+=2}else{let a=r[t[o+1]];t[o].call(a)}r!==null&&(e[Ou]=null);let i=e[rs];if(i!==null){e[rs]=null;for(let o=0;o<i.length;o++){let a=i[o];a()}}let s=e[Dh];if(s!==null){e[Dh]=null;for(let o of s)o.destroy()}}function v3(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Qa)){let s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];Qe(Ve.LifecycleHookStart,a,c);try{c.call(a)}finally{Qe(Ve.LifecycleHookEnd,a,c)}}else{Qe(Ve.LifecycleHookStart,i,s);try{s.call(i)}finally{Qe(Ve.LifecycleHookEnd,i,s)}}}}}function E3(n,e,t){return I3(n,e.parent,t)}function I3(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[$r];if(vo(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Wr.None||i===Wr.Emulated)return null}return qr(r,t)}function w3(n,e,t){return T3(n,e,t)}function b3(n,e,t){return n.type&40?qr(n,t):null}var T3=b3,Tk;function j0(n,e,t,r){let i=E3(n,r,e),s=e[ft],o=r.parent||e[yr],a=w3(o,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)vk(s,i,t[c],a,!1);else vk(s,i,t,a,!1);Tk!==void 0&&Tk(s,r,e,t,i)}function Mh(n,e){if(e!==null){let t=e.type;if(t&3)return qr(e,n);if(t&4)return l0(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Mh(n,r);{let i=n[e.index];return Hr(i)?l0(-1,i):vr(i)}}else{if(t&128)return Mh(n,e.next);if(t&32)return F0(e,n)()||vr(n[e.index]);{let r=Ax(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ho(n[_r]);return Mh(i,r)}else return Mh(n,e.next)}}}return null}function Ax(n,e){if(e!==null){let r=n[_r][yr],i=e.projection;return r.projection[i]}return null}function l0(n,e){let t=kn+n+1;if(t<e.length){let r=e[t],i=r[ce].firstChild;if(i!==null)return Mh(r,i)}return e[_o]}function B0(n,e,t,r,i,s,o){for(;t!=null;){let a=r[go];if(t.type===128){t=t.next;continue}let c=r[t.index],d=t.type;if(o&&e===0&&(c&&zu(vr(c),r),t.flags|=2),!A0(t))if(d&8)B0(n,e,t.child,r,i,s,!1),$u(e,n,a,i,c,t,s,r);else if(d&32){let h=F0(t,r),m;for(;m=h();)$u(e,n,a,i,m,t,s,r);$u(e,n,a,i,c,t,s,r)}else d&16?C3(n,e,r,t,i,s):$u(e,n,a,i,c,t,s,r);t=o?t.projectionNext:t.next}}function ny(n,e,t,r,i,s){B0(t,r,n.firstChild,e,i,s,!1)}function C3(n,e,t,r,i,s){let o=t[_r],c=o[yr].projection[r.projection];if(Array.isArray(c))for(let d=0;d<c.length;d++){let h=c[d];$u(e,n,t[go],i,h,r,s,t)}else{let d=c,h=o[nn];nx(r)&&(d.flags|=128),B0(n,e,d,h,i,s,!0)}}function S3(n,e,t,r,i,s,o){let a=r[_o],c=vr(r);a!==c&&$u(e,n,t,s,a,i,o);for(let d=kn;d<r.length;d++){let h=r[d];ny(h[ce],h,n,e,s,a)}}function D3(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=r.indexOf("-")===-1?void 0:Ei.DashCase;i==null?n.removeStyle(t,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Ei.Important),n.setStyle(t,r,i,s))}}function Rx(n,e,t,r,i){let s=os(),o=r&2;try{Eo(-1),o&&e.length>rn&&wx(n,e,rn,!1);let a=o?Ve.TemplateUpdateStart:Ve.TemplateCreateStart;Qe(a,i,t),t(r,i)}finally{Eo(s);let a=o?Ve.TemplateUpdateEnd:Ve.TemplateCreateEnd;Qe(a,i,t)}}function ry(n,e,t){M3(n,e,t),(t.flags&64)===64&&O3(n,e,t)}function iy(n,e,t=qr){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?t(e,n):n[o];n[i++]=a}}}function A3(n,e,t,r){let s=r.get(cx,ax)||t===Wr.ShadowDom||t===Wr.ExperimentalIsolatedShadowDom,o=n.selectRootElement(e,s);return R3(o),o}function R3(n){P3(n)}var P3=()=>null;function N3(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Px(n,e,t,r,i,s){let o=e[ce];if(z0(n,o,e,t,r)){vo(n)&&x3(e,n.index);return}n.type&3&&(t=N3(t)),k3(n,e,t,r,i,s)}function k3(n,e,t,r,i,s){if(n.type&3){let o=qr(n,e);r=s!=null?s(r,n.value||"",t):r,i.setProperty(o,t,r)}else n.type&12}function x3(n,e){let t=Er(e,n);t[me]&16||(t[me]|=64)}function M3(n,e,t){let r=t.directiveStart,i=t.directiveEnd;vo(t)&&c3(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Fg(t,e);let s=t.initialInputs;for(let o=r;o<i;o++){let a=n.data[o],c=Lh(e,n,o,t);if(zu(c,e),s!==null&&U3(e,o-r,c,a,t,s),_i(a)){let d=Er(t.index,e);d[wn]=Lh(e,n,o,t)}}}function O3(n,e,t){let r=t.directiveStart,i=t.directiveEnd,s=t.index,o=ek();try{Eo(s);for(let a=r;a<i;a++){let c=n.data[a],d=e[a];yg(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&L3(c,d)}}finally{Eo(-1),yg(o)}}function L3(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function $0(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let s=t[i];e3(e,s.selectors,!1)&&(r??=[],_i(s)?r.unshift(s):r.push(s))}return r}function F3(n,e,t,r,i,s){let o=qr(n,e);V3(e[ft],o,s,n.value,t,r,i)}function V3(n,e,t,r,i,s,o){if(s==null)n.removeAttribute(e,i,t);else{let a=o==null?pi(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}function U3(n,e,t,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;a+=2){let c=o[a],d=o[a+1];u0(r,t,c,d)}}function H0(n,e,t,r,i){let s=rn+t,o=e[ce],a=i(o,e,n,r,t);e[s]=a,ju(n,!0);let c=n.type===2;return c?(mx(e[ft],a,n),(qN()===0||Fu(n))&&zu(a,e),zN()):zu(a,e),wg()&&(!c||!A0(n))&&j0(o,e,a,n),n}function q0(n){let e=n;return Ow()?KN():(e=e.parent,ju(e,!1)),e}function j3(n,e){let t=n[go];if(!t)return;let r;try{r=t.get(Ir,null)}catch{r=null}r?.(e)}function z0(n,e,t,r,i){let s=n.inputs?.[r],o=n.hostDirectiveInputs?.[r],a=!1;if(o)for(let c=0;c<o.length;c+=2){let d=o[c],h=o[c+1],m=e.data[d];u0(m,t[d],h,i),a=!0}if(s)for(let c of s){let d=t[c],h=e.data[c];u0(h,d,r,i),a=!0}return a}function B3(n,e){let t=Er(e,n),r=t[ce];$3(r,t);let i=t[$r];i!==null&&t[Ch]===null&&(t[Ch]=ux(i,t[go])),Qe(Ve.ComponentStart);try{G0(r,t,t[wn])}finally{Qe(Ve.ComponentEnd,t[wn])}}function $3(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function G0(n,e,t){vg(e);try{let r=n.viewQuery;r!==null&&c0(1,r,t);let i=n.template;i!==null&&Rx(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[gi]?.finishViewCreation(n),n.staticContentQueries&&lx(n,e),n.staticViewQueries&&c0(2,n.viewQuery,t);let s=n.components;s!==null&&H3(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[me]&=-5,Eg()}}function H3(n,e){for(let t=0;t<e.length;t++)B3(n,e[t])}function q3(n,e,t,r){let i=Ie(null);try{let s=e.tView,a=n[me]&4096?4096:16,c=O0(n,s,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=n[e.index];c[yo]=d;let h=n[gi];return h!==null&&(c[gi]=h.createEmbeddedView(s)),G0(s,c,t),c}finally{Ie(i)}}function Ck(n,e){return!e||e.firstChild===null||nx(n)}function Fh(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&r.push(vr(s)),Hr(s)&&Nx(s,r);let o=t.type;if(o&8)Fh(n,e,t.child,r);else if(o&32){let a=F0(t,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=Ax(e,t);if(Array.isArray(a))r.push(...a);else{let c=ho(e[_r]);Fh(c[ce],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function Nx(n,e){for(let t=kn;t<n.length;t++){let r=n[t],i=r[ce].firstChild;i!==null&&Fh(r[ce],r,i,e)}n[_o]!==n[$r]&&e.push(n[_o])}function kx(n){if(n[qa]!==null){for(let e of n[qa])e.impl.addSequence(e);n[qa].length=0}}var xx=[];function z3(n){return n[Zn]??G3(n)}function G3(n){let e=xx.pop()??Object.create(K3);return e.lView=n,e}function W3(n){n.lView[Zn]!==n&&(n.lView=null,xx.push(n))}var K3=le(j({},ah),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Uu(n.lView)},consumerOnSignalRead(){this.lView[Zn]=this}});function Q3(n){let e=n[Zn]??Object.create(Y3);return e.lView=n,e}var Y3=le(j({},ah),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=ho(n.lView);for(;e&&!Mx(e[ce]);)e=ho(e);e&&Dw(e)},consumerOnSignalRead(){this.lView[Zn]=this}});function Mx(n){return n.type!==2}function Ox(n){if(n[Dh]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Dh])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[me]&8192)}}var J3=100;function Lx(n,e=0){let r=n[mi].rendererFactory,i=!1;i||r.begin?.();try{X3(n,e)}finally{i||r.end?.()}}function X3(n,e){let t=Lw();try{Fw(!0),d0(n,e);let r=0;for(;Ph(n);){if(r===J3)throw new ee(103,!1);r++,d0(n,1)}}finally{Fw(t)}}function Z3(n,e,t,r){if(Ga(e))return;let i=e[me],s=!1,o=!1;vg(e);let a=!0,c=null,d=null;s||(Mx(n)?(d=z3(e),c=uh(d)):Tm()===null?(a=!1,d=Q3(e),c=uh(d)):e[Zn]&&(lh(e[Zn]),e[Zn]=null));try{Sw(e),JN(n.bindingStartIndex),t!==null&&Rx(n,e,t,2,r);let h=(i&3)===3;if(!s)if(h){let R=n.preOrderCheckHooks;R!==null&&Ag(e,R,null)}else{let R=n.preOrderHooks;R!==null&&Rg(e,R,0,null),Qw(e,0)}if(o||eH(e),Ox(e),Fx(e,0),n.contentQueries!==null&&lx(n,e),!s)if(h){let R=n.contentCheckHooks;R!==null&&Ag(e,R)}else{let R=n.contentHooks;R!==null&&Rg(e,R,1),Qw(e,1)}nH(n,e);let m=n.components;m!==null&&Ux(e,m,0);let I=n.viewQuery;if(I!==null&&c0(2,I,r),!s)if(h){let R=n.viewCheckHooks;R!==null&&Ag(e,R)}else{let R=n.viewHooks;R!==null&&Rg(e,R,2),Qw(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[dg]){for(let R of e[dg])R();e[dg]=null}s||(kx(e),e[me]&=-73)}catch(h){throw s||Uu(e),h}finally{d!==null&&(Cm(d,c),a&&W3(d)),Eg()}}function Fx(n,e){for(let t=ix(n);t!==null;t=sx(t))for(let r=kn;r<t.length;r++){let i=t[r];Vx(i,e)}}function eH(n){for(let e=ix(n);e!==null;e=sx(e)){if(!(e[me]&2))continue;let t=e[za];for(let r=0;r<t.length;r++){let i=t[r];Dw(i)}}}function tH(n,e,t){Qe(Ve.ComponentStart);let r=Er(e,n);try{Vx(r,t)}finally{Qe(Ve.ComponentEnd,r[wn])}}function Vx(n,e){fg(n)&&d0(n,e)}function d0(n,e){let r=n[ce],i=n[me],s=n[Zn],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Sm(s)),o||=!1,s&&(s.dirty=!1),n[me]&=-9217,o)Z3(r,n,r.template,n[wn]);else if(i&8192){let a=Ie(null);try{Ox(n),Fx(n,1);let c=r.components;c!==null&&Ux(n,c,1),kx(n)}finally{Ie(a)}}}function Ux(n,e,t){for(let r=0;r<e.length;r++)tH(n,e[r],t)}function nH(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Eo(~i);else{let s=i,o=t[++r],a=t[++r];ZN(o,s);let c=e[s];Qe(Ve.HostBindingsUpdateStart,c);try{a(2,c)}finally{Qe(Ve.HostBindingsUpdateEnd,c)}}}}finally{Eo(-1)}}function W0(n,e){let t=Lw()?64:1088;for(n[mi].changeDetectionScheduler?.notify(e);n;){n[me]|=t;let r=ho(n);if(Vu(n)&&!r)return n;n=r}return null}function jx(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function rH(n,e,t,r=!0){let i=e[ce];if(iH(i,e,n,t),r){let o=l0(t,n),a=e[ft],c=a.parentNode(n[_o]);c!==null&&m3(i,n[yr],a,e,c,o)}let s=e[Ch];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function h0(n,e){if(n.length<=kn)return;let t=kn+e,r=n[t];if(r){let i=r[yo];i!==null&&i!==n&&U0(i,r),e>0&&(n[t-1][gr]=r[gr]);let s=wh(n,kn+e);p3(r[ce],r);let o=s[gi];o!==null&&o.detachView(s[ce]),r[nn]=null,r[gr]=null,r[me]&=-129}return r}function iH(n,e,t,r){let i=kn+r,s=t.length;r>0&&(t[i-1][gr]=e),r<s-kn?(e[gr]=t[i],pw(t,kn+r,e)):(t.push(e),e[gr]=null),e[nn]=t;let o=e[yo];o!==null&&t!==o&&Bx(o,e);let a=e[gi];a!==null&&a.insertView(n),pg(e),e[me]|=128}function Bx(n,e){let t=n[za],r=e[nn];if(yi(r))n[me]|=2;else{let i=r[nn][_r];e[_r]!==i&&(n[me]|=2)}t===null?n[za]=[e]:t.push(e)}var Io=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[ce];return Fh(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[wn]}set context(e){this._lView[wn]=e}get destroyed(){return Ga(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[nn];if(Hr(e)){let t=e[Rh],r=t?t.indexOf(this):-1;r>-1&&(h0(e,r),wh(t,r))}this._attachedToViewContainer=!1}Dx(this._lView[ce],this._lView)}onDestroy(e){Aw(this._lView,e)}markForCheck(){W0(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[me]&=-129}reattach(){pg(this._lView),this._lView[me]|=128}detectChanges(){this._lView[me]|=1024,Lx(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Vu(this._lView),t=this._lView[yo];t!==null&&!e&&U0(t,this._lView),Sx(this._lView[ce],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ee(902,!1);this._appRef=e;let t=Vu(this._lView),r=this._lView[yo];r!==null&&!t&&Bx(r,this._lView),pg(this._lView)}};var wo=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=sH;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let s=q3(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Io(s)}}return n})();function sH(){return sy(Qt(),Ae())}function sy(n,e){return n.type&4?new wo(e,n,Qu(n,e)):null}function oy(n,e,t,r,i){let s=n.data[e];if(s===null)s=oH(n,e,t,r,i),XN()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=r,s.attrs=i;let o=WN();s.injectorIndex=o===null?-1:o.injectorIndex}return ju(s,!0),s}function oH(n,e,t,r,i){let s=Mw(),o=Ow(),a=o?s:s&&s.parent,c=n.data[e]=cH(n,a,t,e,r,i);return aH(n,c,s,o),c}function aH(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function cH(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return GN()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var uH=()=>null;function Sk(n,e){return uH(n,e)}var $x=class{},ay=class{},f0=class{resolveComponentFactory(e){throw new ee(917,!1)}},qh=class{static NULL=new f0},Ya=class{},rr=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>lH()}return n})();function lH(){let n=Ae(),e=Qt(),t=Er(e.index,n);return(yi(t)?t:n)[ft]}var Hx=(()=>{class n{static \u0275prov=re({token:n,providedIn:"root",factory:()=>null})}return n})();var Ng={},p0=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,Ng,r);return i!==Ng||t===Ng?i:this.parentInjector.get(e,t,r)}};function $g(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=nw(i,a);else if(s==2){let c=a,d=e[++o];r=nw(r,c+": "+d+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function se(n,e=0){let t=Ae();if(t===null)return fe(n,e);let r=Qt();return Zk(r,t,gn(n),e)}function K0(){let n="invalid";throw new Error(n)}function qx(n,e,t,r,i){let s=r===null?null:{"":-1},o=i(n,t);if(o!==null){let a=o,c=null,d=null;for(let h of o)if(h.resolveHostDirectives!==null){[a,c,d]=h.resolveHostDirectives(o);break}fH(n,e,t,a,s,c,d)}s!==null&&r!==null&&dH(t,r,s)}function dH(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let s=t[e[i+1]];if(s==null)throw new ee(-301,!1);r.push(e[i],s)}}function hH(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function fH(n,e,t,r,i,s,o){let a=r.length,c=null;for(let I=0;I<a;I++){let R=r[I];c===null&&_i(R)&&(c=R,hH(n,t,I)),s0(Fg(t,e),n,R.type)}vH(t,n.data.length,a),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let I=0;I<a;I++){let R=r[I];R.providersResolver&&R.providersResolver(R)}let d=!1,h=!1,m=Ix(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let I=0;I<a;I++){let R=r[I];if(t.mergedAttrs=qu(t.mergedAttrs,R.hostAttrs),mH(n,t,e,m,R),_H(m,R,i),o!==null&&o.has(R)){let[V,O]=o.get(R);t.directiveToIndex.set(R.type,[m,V+t.directiveStart,O+t.directiveStart])}else(s===null||!s.has(R))&&t.directiveToIndex.set(R.type,m);R.contentQueries!==null&&(t.flags|=4),(R.hostBindings!==null||R.hostAttrs!==null||R.hostVars!==0)&&(t.flags|=64);let k=R.type.prototype;!d&&(k.ngOnChanges||k.ngOnInit||k.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),d=!0),!h&&(k.ngOnChanges||k.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),m++}pH(n,t,s)}function pH(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))Dk(0,e,i,r),Dk(1,e,i,r),Rk(e,r,!1);else{let s=t.get(i);Ak(0,e,s,r),Ak(1,e,s,r),Rk(e,r,!0)}}}function Dk(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o;n===0?o=e.inputs??={}:o=e.outputs??={},o[s]??=[],o[s].push(r),zx(e,s)}}function Ak(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o=i[s],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[o]??=[],a[o].push(r,s),zx(e,o)}}function zx(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function Rk(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:s}=n;if(r===null||!t&&i===null||t&&s===null||x0(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let o=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let d=i[c];for(let h of d)if(h===e){o??=[],o.push(c,r[a+1]);break}}else if(t&&s.hasOwnProperty(c)){let d=s[c];for(let h=0;h<d.length;h+=2)if(d[h]===e){o??=[],o.push(d[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(o)}function mH(n,e,t,r,i){n.data[r]=i;let s=i.factory||(i.factory=lo(i.type,!0)),o=new Qa(s,_i(i),se,null);n.blueprint[r]=o,t[r]=o,gH(n,e,r,Ix(n,t,i.hostVars,nr),i)}function gH(n,e,t,r,i){let s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let a=~e.index;yH(o)!=a&&o.push(a),o.push(t,r,s)}}function yH(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function _H(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;_i(e)&&(t[""]=n)}}function vH(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Q0(n,e,t,r,i,s,o,a){let c=e[ce],d=c.consts,h=Wa(d,o),m=oy(c,n,t,r,h);return s&&qx(c,e,m,Wa(d,a),i),m.mergedAttrs=qu(m.mergedAttrs,m.attrs),m.attrs!==null&&$g(m,m.attrs,!1),m.mergedAttrs!==null&&$g(m,m.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,m),m}function Y0(n,e){qk(n,e),ww(e)&&n.queries.elementEnd(e)}function EH(n,e,t,r,i,s){let o=e.consts,a=Wa(o,i),c=oy(e,n,t,r,a);if(c.mergedAttrs=qu(c.mergedAttrs,c.attrs),s!=null){let d=Wa(o,s);c.localNames=[];for(let h=0;h<d.length;h+=2)c.localNames.push(d[h],-1)}return c.attrs!==null&&$g(c,c.attrs,!1),c.mergedAttrs!==null&&$g(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function J0(n){return Wx(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function Gx(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function Wx(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function IH(n,e,t){return n[e]=t}function cs(n,e,t){if(t===nr)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function Kx(n,e,t,r){let i=cs(n,e,t);return cs(n,e+1,r)||i}function wH(n,e,t,r,i){let s=Kx(n,e,t,r);return cs(n,e+2,i)||s}function kg(n,e,t){return function r(i){let s=vo(n)?Er(n.index,e):e;W0(s,5);let o=e[wn],a=Pk(e,o,t,i),c=r.__ngNextListenerFn__;for(;c;)a=Pk(e,o,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function Pk(n,e,t,r){let i=Ie(null);try{return Qe(Ve.OutputStart,e,t),t(r)!==!1}catch(s){return j3(n,s),!1}finally{Qe(Ve.OutputEnd,e,t),Ie(i)}}function Qx(n,e,t,r,i,s,o,a){let c=Fu(n),d=!1,h=null;if(!r&&c&&(h=TH(e,t,s,n.index)),h!==null){let m=h.__ngLastListenerFn__||h;m.__ngNextListenerFn__=o,h.__ngLastListenerFn__=o,d=!0}else{let m=qr(n,t),I=r?r(m):m;k$(t,I,s,a);let R=i.listen(I,s,a);if(!bH(s)){let k=r?V=>r(vr(V[n.index])):n.index;Yx(k,e,t,s,a,R,!1)}}return d}function bH(n){return n.startsWith("animation")||n.startsWith("transition")}function TH(n,e,t,r){let i=n.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===t&&i[s+1]===r){let a=e[Ou],c=i[s+2];return a&&a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function Yx(n,e,t,r,i,s,o){let a=e.firstCreatePass?Pw(e):null,c=Rw(t),d=c.length;c.push(i,s),a&&a.push(r,n,d,(d+1)*(o?-1:1))}function Nk(n,e,t,r,i,s){let o=e[t],a=e[ce],d=a.data[t].outputs[r],m=o[d].subscribe(s);Yx(n.index,a,e,i,s,m,!0)}var m0=Symbol("BINDING");var Hg=class extends qh{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=ss(e);return new Ja(t,this.ngModule)}};function CH(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],s={propName:t,templateName:e,isSignal:(r&ey.SignalBased)!==0};return i&&(s.transform=i),s})}function SH(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function DH(n,e,t){let r=e instanceof St?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new p0(t,r):t}function AH(n){let e=n.get(Ya,null);if(e===null)throw new ee(407,!1);let t=n.get(Hx,null),r=n.get(fo,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function RH(n,e){let t=Jx(n);return fx(e,t,t==="svg"?FN:t==="math"?VN:null)}function Jx(n){return(n.selectors[0][0]||"div").toLowerCase()}var Ja=class extends ay{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=CH(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=SH(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=i3(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,s,o){Qe(Ve.DynamicComponentStart);let a=Ie(null);try{let c=this.componentDef,d=PH(r,c,o,s),h=DH(c,i||this.ngModule,e),m=AH(h),I=m.rendererFactory.createRenderer(null,c),R=r?A3(I,r,c.encapsulation,h):RH(c,I),k=o?.some(kk)||s?.some(q=>typeof q!="function"&&q.bindings.some(kk)),V=O0(null,d,null,512|Ex(c),null,null,m,I,h,null,ux(R,h,!0));V[rn]=R,vg(V);let O=null;try{let q=Q0(rn,V,2,"#host",()=>d.directiveRegistry,!0,0);mx(I,R,q),zu(R,V),ry(d,V,q),R0(d,q,V),Y0(d,q),t!==void 0&&kH(q,this.ngContentSelectors,t),O=Er(q.index,V),V[wn]=O[wn],G0(d,V,null)}catch(q){throw O!==null&&a0(O),a0(V),q}finally{Qe(Ve.DynamicComponentEnd),Eg()}return new qg(this.componentType,V,!!k)}finally{Ie(a)}}};function PH(n,e,t,r){let i=n?["ng-version","21.0.6"]:s3(e.selectors[0]),s=null,o=null,a=0;if(t)for(let h of t)a+=h[m0].requiredVars,h.create&&(h.targetIdx=0,(s??=[]).push(h)),h.update&&(h.targetIdx=0,(o??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let m=r[h];if(typeof m!="function")for(let I of m.bindings){a+=I[m0].requiredVars;let R=h+1;I.create&&(I.targetIdx=R,(s??=[]).push(I)),I.update&&(I.targetIdx=R,(o??=[]).push(I))}}let c=[e];if(r)for(let h of r){let m=typeof h=="function"?h:h.type,I=dw(m);c.push(I)}return M0(0,null,NH(s,o),1,a,c,null,null,null,[i],null)}function NH(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function kk(n){let e=n[m0].kind;return e==="input"||e==="twoWay"}var qg=class extends $x{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=hg(t[ce],rn),this.location=Qu(this._tNode,t),this.instance=Er(this._tNode.index,t)[wn],this.hostView=this.changeDetectorRef=new Io(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,s=z0(r,i[ce],i,e,t);this.previousInputValues.set(e,t);let o=Er(r.index,i);W0(o,1)}get injector(){return new Ka(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function kH(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let s=t[i];r.push(s!=null&&s.length?Array.from(s):null)}}var Ii=(()=>{class n{static __NG_ELEMENT_ID__=xH}return n})();function xH(){let n=Qt();return Zx(n,Ae())}var MH=Ii,Xx=class extends MH{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Qu(this._hostTNode,this._hostLView)}get injector(){return new Ka(this._hostTNode,this._hostLView)}get parentInjector(){let e=T0(this._hostTNode,this._hostLView);if(Wk(e)){let t=Og(e,this._hostLView),r=Mg(e),i=t[ce].data[r+8];return new Ka(i,t)}else return new Ka(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=xk(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-kn}createEmbeddedView(e,t,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Sk(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,i,Ck(this._hostTNode,o)),a}createComponent(e,t,r,i,s,o,a){let c=e&&!i$(e),d;if(c)d=t;else{let O=t||{};d=O.index,r=O.injector,i=O.projectableNodes,s=O.environmentInjector||O.ngModuleRef,o=O.directives,a=O.bindings}let h=c?e:new Ja(ss(e)),m=r||this.parentInjector;if(!s&&h.ngModule==null){let q=(c?m:this.parentInjector).get(St,null);q&&(s=q)}let I=ss(h.componentType??{}),R=Sk(this._lContainer,I?.id??null),k=R?.firstChild??null,V=h.create(m,i,k,s,o,a);return this.insertImpl(V.hostView,d,Ck(this._hostTNode,R)),V}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(jN(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[nn],d=new Xx(c,c[yr],c[nn]);d.detach(d.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return rH(o,i,s,r),e.attachToViewContainerRef(),pw(Xw(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=xk(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=h0(this._lContainer,t);r&&(wh(Xw(this._lContainer),t),Dx(r[ce],r))}detach(e){let t=this._adjustIndex(e,-1),r=h0(this._lContainer,t);return r&&wh(Xw(this._lContainer),t)!=null?new Io(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function xk(n){return n[Rh]}function Xw(n){return n[Rh]||(n[Rh]=[])}function Zx(n,e){let t,r=e[n.index];return Hr(r)?t=r:(t=jx(r,e,null,n),e[n.index]=t,L0(e,t)),LH(t,e,n,r),new Xx(t,n,e)}function OH(n,e){let t=n[ft],r=t.createComment(""),i=qr(e,n),s=t.parentNode(i);return jg(t,s,r,t.nextSibling(i),!1),r}var LH=UH,FH=()=>!1;function VH(n,e,t){return FH(n,e,t)}function UH(n,e,t,r){if(n[_o])return;let i;t.type&8?i=vr(r):i=OH(e,t),n[_o]=i}var g0=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},y0=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){let o=t.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)X0(e,t).matches!==null&&this.queries[t].setDirty()}},zg=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=WH(e):this.predicate=e}},_0=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,t!==null?t.push(s):t=[s])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},v0=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,t,jH(t,s)),this.matchTNodeWithReadOption(e,t,Pg(t,e,s,!1,!1))}else r===wo?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Pg(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===xn||i===Ii||i===wo&&t.type&4)this.addMatch(t.index,-2);else{let s=Pg(t,e,i,!1,!1);s!==null&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function jH(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function BH(n,e){return n.type&11?Qu(n,e):n.type&4?sy(n,e):null}function $H(n,e,t,r){return t===-1?BH(e,n):t===-2?HH(n,e,r):Lh(n,n[ce],t,e)}function HH(n,e,t){if(t===xn)return Qu(e,n);if(t===wo)return sy(e,n);if(t===Ii)return Zx(e,n)}function eM(n,e,t,r){let i=e[gi].queries[r];if(i.matches===null){let s=n.data,o=t.matches,a=[];for(let c=0;o!==null&&c<o.length;c+=2){let d=o[c];if(d<0)a.push(null);else{let h=s[d];a.push($H(e,h,o[c+1],t.metadata.read))}}i.matches=a}return i.matches}function E0(n,e,t,r){let i=n.queries.getByIndex(t),s=i.matches;if(s!==null){let o=eM(n,e,i,t);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)r.push(o[a/2]);else{let d=s[a+1],h=e[-c];for(let m=kn;m<h.length;m++){let I=h[m];I[yo]===I[nn]&&E0(I[ce],I,d,r)}if(h[za]!==null){let m=h[za];for(let I=0;I<m.length;I++){let R=m[I];E0(R[ce],R,d,r)}}}}}return r}function qH(n,e){return n[gi].queries[e].queryList}function tM(n,e,t){let r=new Vg((t&4)===4);return HN(n,e,r,r.destroy),(e[gi]??=new y0).queries.push(new g0(r))-1}function zH(n,e,t){let r=Kt();return r.firstCreatePass&&(nM(r,new zg(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),tM(r,Ae(),e)}function GH(n,e,t,r){let i=Kt();if(i.firstCreatePass){let s=Qt();nM(i,new zg(e,t,r),s.index),KH(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return tM(i,Ae(),t)}function WH(n){return n.split(",").map(e=>e.trim())}function nM(n,e,t){n.queries===null&&(n.queries=new _0),n.queries.track(new v0(e,t))}function KH(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function X0(n,e){return n.queries.getByIndex(e)}function QH(n,e){let t=n[ce],r=X0(t,e);return r.crossesNgTemplate?E0(t,n,e,[]):eM(t,n,r,e)}var bo=class{},cy=class{};function Z0(n,e){return new Vh(n,e??null,[])}var Vh=class extends bo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Hg(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let s=lw(e);this._bootstrapComponents=_x(s.bootstrap),this._r3Injector=$w(e,t,[{provide:bo,useValue:this},{provide:qh,useValue:this.componentFactoryResolver},...r],is(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Gg=class extends cy{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Vh(this.moduleType,e,[])}};var Uh=class extends bo{injector;componentFactoryResolver=new Hg(this);instance=null;constructor(e){super();let t=new Ua([...e.providers,{provide:bo,useValue:this},{provide:qh,useValue:this.componentFactoryResolver}],e.parent||Th(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ju(n,e,t=null){return new Uh({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var YH=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=yw(!1,t.type),i=r.length>0?Ju([r],this._injector,""):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=re({token:n,providedIn:"environment",factory:()=>new n(fe(St))})}return n})();function ue(n){return Ku(()=>{let e=rM(n),t=le(j({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===C0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(YH).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Wr.Emulated,styles:n.styles||Jn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Yu("NgStandalone"),iM(t);let r=n.dependencies;return t.directiveDefs=Mk(r,JH),t.pipeDefs=Mk(r,IN),t.id=e6(t),t})}function JH(n){return ss(n)||dw(n)}function wi(n){return Ku(()=>({type:n.type,bootstrap:n.bootstrap||Jn,declarations:n.declarations||Jn,imports:n.imports||Jn,exports:n.exports||Jn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function XH(n,e){if(n==null)return mo;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],s,o,a,c;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s,c=i[3]||null):(s=i,o=i,a=ey.None,c=null),t[s]=[r,a,c],e[s]=o}return t}function ZH(n){if(n==null)return mo;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Ze(n){return Ku(()=>{let e=rM(n);return iM(e),e})}function eb(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function rM(n){let e={};return{type:n.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||mo,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Jn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:XH(n.inputs,e),outputs:ZH(n.outputs),debugInfo:null}}function iM(n){n.features?.forEach(e=>e(n))}function Mk(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let s=e(i);s!==null&&r.push(s)}return r}:null}function e6(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let s of r.join("|"))e=Math.imul(31,e)+s.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function t6(n){return Object.getPrototypeOf(n.prototype).constructor}function qn(n){let e=t6(n.type),t=!0,r=[n];for(;e;){let i;if(_i(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ee(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let o=n;o.inputs=Zw(n.inputs),o.declaredInputs=Zw(n.declaredInputs),o.outputs=Zw(n.outputs);let a=i.hostBindings;a&&o6(n,a);let c=i.viewQuery,d=i.contentQueries;if(c&&i6(n,c),d&&s6(n,d),n6(n,i),EN(n.outputs,i.outputs),_i(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(n),a===qn&&(t=!1)}}e=Object.getPrototypeOf(e)}r6(r)}function n6(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function r6(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=qu(i.hostAttrs,t=qu(t,i.hostAttrs))}}function Zw(n){return n===mo?{}:n===Jn?[]:n}function i6(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function s6(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,s)=>{e(r,i,s),t(r,i,s)}:n.contentQueries=e}function o6(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function a6(n,e,t,r,i,s,o,a){if(t.firstCreatePass){n.mergedAttrs=qu(n.mergedAttrs,n.attrs);let h=n.tView=M0(2,n,i,s,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),h.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),ju(n,!1);let c=u6(t,e,n,r);wg()&&j0(t,e,c,n),zu(c,e);let d=jx(c,e,c,n);e[r+rn]=d,L0(e,d),VH(d,n,e)}function c6(n,e,t,r,i,s,o,a,c,d,h){let m=t+rn,I;return e.firstCreatePass?(I=oy(e,m,4,o||null,a||null),mg()&&qx(e,n,I,Wa(e.consts,d),$0),qk(e,I)):I=e.data[m],a6(I,n,e,t,r,i,s,c),Fu(I)&&ry(e,n,I),d!=null&&iy(n,I,h),I}function pt(n,e,t,r,i,s,o,a){let c=Ae(),d=Kt(),h=Wa(d.consts,s);return c6(c,d,n,e,t,r,i,h,void 0,o,a),pt}var u6=l6;function l6(n,e,t,r){return kh(!0),e[ft].createComment("")}var tb=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function sM(n){return typeof n=="function"&&n[Rn]!==void 0}function nb(n){return sM(n)&&typeof n.set=="function"}var rb=new Z("");function To(n){return!!n&&typeof n.then=="function"}function ib(n){return!!n&&typeof n.subscribe=="function"}var sb=new Z("");function uy(n){return mr([{provide:sb,multi:!0,useValue:n}])}var ob=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=U(sb,{optional:!0})??[];injector=U(vt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let s=Nt(this.injector,i);if(To(s))t.push(s);else if(ib(s)){let o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});t.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zh=new Z("");function oM(){vI(()=>{let n="";throw new ee(600,n)})}function aM(n){return n.isBoundToModule}var d6=10;var Co=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=U(Ir);afterRenderManager=U(V0);zonelessEnabled=U(xh);rootEffectScheduler=U(Kw);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Rt;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=U(as);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(nt(t=>!t))}constructor(){U(ec,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=U(St);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=vt.NULL){return this._injector.get(lt).run(()=>{Qe(Ve.BootstrapComponentStart);let o=t instanceof ay;if(!this._injector.get(ob).done){let k="";throw new ee(405,k)}let c;o?c=t:c=this._injector.get(qh).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let d=aM(c)?void 0:this._injector.get(bo),h=r||c.selector,m=c.create(i,[],h,d),I=m.location.nativeElement,R=m.injector.get(rb,null);return R?.registerApplication(I),m.onDestroy(()=>{this.detachView(m.hostView),Oh(this.components,m),R?.unregisterApplication(I)}),this._loadComponent(m),Qe(Ve.BootstrapComponentEnd,m),m})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Qe(Ve.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(ty.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw Qe(Ve.ChangeDetectionEnd),new ee(101,!1);let t=Ie(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Ie(t),this.afterTick.next(),Qe(Ve.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ya,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<d6;){Qe(Ve.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{Qe(Ve.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Ph(i))continue;let s=r&&!this.zonelessEnabled?0:1;Lx(i,s),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Ph(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Oh(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(zh,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Oh(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new ee(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Oh(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Xu(n,e,t,r){let i=Ae(),s=Nh();if(cs(i,s,e)){let o=Kt(),a=Ig();F3(a,i,n,e,t,r)}return Xu}var Zae=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function st(n,e,t){let r=Ae(),i=Nh();if(cs(r,i,e)){let s=Kt(),o=Ig();Px(o,r,n,e,r[ft],t)}return st}function Ok(n,e,t,r,i){z0(e,n,t,i?"class":"style",r)}function P(n,e,t,r){let i=Ae(),s=i[ce],o=n+rn,a=s.firstCreatePass?Q0(o,i,2,e,$0,mg(),t,r):s.data[o];if(H0(a,i,n,e,cM),Fu(a)){let c=i[ce];ry(c,i,a),R0(c,a,i)}return r!=null&&iy(i,a),P}function N(){let n=Kt(),e=Qt(),t=q0(e);return n.firstCreatePass&&Y0(n,t),kw(t)&&xw(),Nw(),t.classesWithoutHost!=null&&l$(t)&&Ok(n,t,Ae(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&d$(t)&&Ok(n,t,Ae(),t.stylesWithoutHost,!1),N}function K(n,e,t,r){return P(n,e,t,r),N(),K}function Te(n,e,t,r){let i=Ae(),s=i[ce],o=n+rn,a=s.firstCreatePass?EH(o,s,2,e,t,r):s.data[o];return H0(a,i,n,e,cM),r!=null&&iy(i,a),Te}function Ce(){let n=Qt(),e=q0(n);return kw(e)&&xw(),Nw(),Ce}function Zu(n,e,t,r){return Te(n,e,t,r),Ce(),Zu}var cM=(n,e,t,r,i)=>(kh(!0),fx(e[ft],r,ok()));function ab(n,e,t){let r=Ae(),i=r[ce],s=n+rn,o=i.firstCreatePass?Q0(s,r,8,"ng-container",$0,mg(),e,t):i.data[s];if(H0(o,r,n,"ng-container",h6),Fu(o)){let a=r[ce];ry(a,r,o),R0(a,o,r)}return t!=null&&iy(r,o),ab}function cb(){let n=Kt(),e=Qt(),t=q0(e);return n.firstCreatePass&&Y0(n,t),cb}function ly(n,e,t){return ab(n,e,t),cb(),ly}var h6=(n,e,t,r,i)=>(kh(!0),q$(e[ft],""));function Mn(){return Ae()}var Gh="en-US";var f6=Gh;function uM(n){typeof n=="string"&&(f6=n.toLowerCase().replace(/_/g,"-"))}function ie(n,e,t){let r=Ae(),i=Kt(),s=Qt();return lM(i,r,r[ft],s,n,e,t),ie}function bi(n,e,t){let r=Ae(),i=Kt(),s=Qt();return(s.type&3||t)&&Qx(s,i,r,t,r[ft],n,e,kg(s,r,e)),bi}function lM(n,e,t,r,i,s,o){let a=!0,c=null;if((r.type&3||o)&&(c??=kg(r,e,s),Qx(r,n,e,o,t,i,s,c)&&(a=!1)),a){let d=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let m=0;m<h.length;m+=2){let I=h[m],R=h[m+1];c??=kg(r,e,s),Nk(r,e,I,R,i,c)}if(d&&d.length)for(let m of d)c??=kg(r,e,s),Nk(r,e,m,i,i,c)}}function sn(n=1){return sk(n)}function dy(n,e,t,r){return GH(n,e,t,r),dy}function el(n,e,t){return zH(n,e,t),el}function tc(n){let e=Ae(),t=Kt(),r=Uw();_g(r+1);let i=X0(t,r);if(n.dirty&&UN(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let s=QH(e,r);n.reset(s,T$),n.notifyOnChanges()}return!0}return!1}function nc(){return qH(Ae(),Uw())}function rc(n){let e=QN();return Tw(e,rn+n)}function Dg(n,e){return n<<17|e<<2}function Xa(n){return n>>17&32767}function p6(n){return(n&2)==2}function m6(n,e){return n&131071|e<<17}function I0(n){return n|2}function Wu(n){return(n&131068)>>2}function e0(n,e){return n&-131069|e<<2}function g6(n){return(n&1)===1}function w0(n){return n|1}function y6(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Xa(o),c=Wu(o);n[r]=t;let d=!1,h;if(Array.isArray(t)){let m=t;h=m[1],(h===null||xu(m,h)>0)&&(d=!0)}else h=t;if(i)if(c!==0){let I=Xa(n[a+1]);n[r+1]=Dg(I,a),I!==0&&(n[I+1]=e0(n[I+1],r)),n[a+1]=m6(n[a+1],r)}else n[r+1]=Dg(a,0),a!==0&&(n[a+1]=e0(n[a+1],r)),a=r;else n[r+1]=Dg(c,0),a===0?a=r:n[c+1]=e0(n[c+1],r),c=r;d&&(n[r+1]=I0(n[r+1])),Lk(n,h,r,!0),Lk(n,h,r,!1),_6(e,h,n,r,s),o=Dg(a,c),s?e.classBindings=o:e.styleBindings=o}function _6(n,e,t,r,i){let s=i?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&xu(s,e)>=0&&(t[r+1]=w0(t[r+1]))}function Lk(n,e,t,r){let i=n[t+1],s=e===null,o=r?Xa(i):Wu(i),a=!1;for(;o!==0&&(a===!1||s);){let c=n[o],d=n[o+1];v6(c,e)&&(a=!0,n[o+1]=r?w0(d):I0(d)),o=r?Xa(d):Wu(d)}a&&(n[t+1]=r?I0(i):w0(i))}function v6(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?xu(n,e)>=0:!1}function Wh(n,e,t){return dM(n,e,t,!1),Wh}function So(n,e){return dM(n,e,null,!0),So}function dM(n,e,t,r){let i=Ae(),s=Kt(),o=gg(2);if(s.firstUpdatePass&&I6(s,n,o,r),e!==nr&&cs(i,o,e)){let a=s.data[os()];S6(s,a,i,i[ft],n,i[o+1]=D6(e,t),r,o)}}function E6(n,e){return e>=n.expandoStartIndex}function I6(n,e,t,r){let i=n.data;if(i[t+1]===null){let s=i[os()],o=E6(n,t);A6(s,r)&&e===null&&!o&&(e=!1),e=w6(i,s,e,r),y6(i,s,e,t,o,r)}}function w6(n,e,t,r){let i=tk(n),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=t0(null,n,e,t,r),t=jh(t,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||n[o]!==i)if(t=t0(i,n,e,t,r),s===null){let c=b6(n,e,r);c!==void 0&&Array.isArray(c)&&(c=t0(null,n,e,c[1],r),c=jh(c,e.attrs,r),T6(n,e,r,c))}else s=C6(n,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),t}function b6(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Wu(r)!==0)return n[Xa(r)]}function T6(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Xa(i)]=r}function C6(n,e,t){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=n[s].hostAttrs;r=jh(r,o,t)}return jh(r,e.attrs,t)}function t0(n,e,t,r,i){let s=null,o=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<o&&(s=e[a],r=jh(r,s.hostAttrs,i),s!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function jh(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),PN(n,o,t?!0:e[++s]))}return n===void 0?null:n}function S6(n,e,t,r,i,s,o,a){if(!(e.type&3))return;let c=n.data,d=c[a+1],h=g6(d)?Fk(c,e,t,i,Wu(d),o):void 0;if(!Wg(h)){Wg(s)||p6(d)&&(s=Fk(c,null,t,i,a,o));let m=bw(os(),t);D3(r,o,m,i,s)}}function Fk(n,e,t,r,i,s){let o=e===null,a;for(;i>0;){let c=n[i],d=Array.isArray(c),h=d?c[1]:c,m=h===null,I=t[i+1];I===nr&&(I=m?Jn:void 0);let R=m?lg(I,r):h===r?I:void 0;if(d&&!Wg(R)&&(R=lg(c,r)),Wg(R)&&(a=R,o))return a;let k=n[i+1];i=o?Xa(k):Wu(k)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=lg(c,r))}return a}function Wg(n){return n!==void 0}function D6(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=is($h(n)))),n}function A6(n,e){return(n.flags&(e?8:16))!==0}function D(n,e=""){let t=Ae(),r=Kt(),i=n+rn,s=r.firstCreatePass?oy(r,i,1,e,null):r.data[i],o=R6(r,t,s,e,n);t[i]=o,wg()&&j0(r,t,o,s),ju(s,!1)}var R6=(n,e,t,r,i)=>(kh(!0),$$(e[ft],r));function P6(n,e,t,r=""){return cs(n,Nh(),t)?e+pi(t)+r:nr}function N6(n,e,t,r,i,s=""){let o=Vw(),a=Kx(n,o,t,i);return gg(2),a?e+pi(t)+r+pi(i)+s:nr}function k6(n,e,t,r,i,s,o,a=""){let c=Vw(),d=wH(n,c,t,i,o);return gg(3),d?e+pi(t)+r+pi(i)+s+pi(o)+a:nr}function bn(n){return br("",n),bn}function br(n,e,t){let r=Ae(),i=P6(r,n,e,t);return i!==nr&&ub(r,os(),i),br}function tl(n,e,t,r,i){let s=Ae(),o=N6(s,n,e,t,r,i);return o!==nr&&ub(s,os(),o),tl}function hy(n,e,t,r,i,s,o){let a=Ae(),c=k6(a,n,e,t,r,i,s,o);return c!==nr&&ub(a,os(),c),hy}function ub(n,e,t){let r=bw(e,n);H$(n[ft],r,t)}function et(n,e,t){nb(e)&&(e=e());let r=Ae(),i=Nh();if(cs(r,i,e)){let s=Kt(),o=Ig();Px(o,r,n,e,r[ft],t)}return et}function ot(n,e){let t=nb(n);return t&&n.set(e),t}function tt(n,e){let t=Ae(),r=Kt(),i=Qt();return lM(r,t,t[ft],i,n,e),tt}function Vk(n,e,t){let r=Kt();r.firstCreatePass&&hM(e,r.data,r.blueprint,_i(n),t)}function hM(n,e,t,r,i){if(n=gn(n),Array.isArray(n))for(let s=0;s<n.length;s++)hM(n[s],e,t,r,i);else{let s=Kt(),o=Ae(),a=Qt(),c=Va(n)?n:gn(n.provide),d=vw(n),h=a.providerIndexes&1048575,m=a.directiveStart,I=a.providerIndexes>>20;if(Va(n)||!n.multi){let R=new Qa(d,i,se,null),k=r0(c,e,i?h:h+I,m);k===-1?(s0(Fg(a,o),s,c),n0(s,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(R),o.push(R)):(t[k]=R,o[k]=R)}else{let R=r0(c,e,h+I,m),k=r0(c,e,h,h+I),V=R>=0&&t[R],O=k>=0&&t[k];if(i&&!O||!i&&!V){s0(Fg(a,o),s,c);let q=O6(i?M6:x6,t.length,i,r,d,n);!i&&O&&(t[k].providerFactory=q),n0(s,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(q),o.push(q)}else{let q=fM(t[i?k:R],d,!i&&r);n0(s,n,R>-1?R:k,q)}!i&&r&&O&&t[k].componentProviders++}}}function n0(n,e,t,r){let i=Va(e),s=MN(e);if(i||s){let c=(s?gn(e.useClass):e).prototype.ngOnDestroy;if(c){let d=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=d.indexOf(t);h===-1?d.push(t,[r,c]):d[h+1].push(r,c)}else d.push(t,c)}}}function fM(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function r0(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function x6(n,e,t,r,i){return b0(this.multi,[])}function M6(n,e,t,r,i){let s=this.multi,o;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Lh(r,r[ce],this.providerFactory.index,i);o=c.slice(0,a),b0(s,o);for(let d=a;d<c.length;d++)o.push(c[d])}else o=[],b0(s,o);return o}function b0(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function O6(n,e,t,r,i,s){let o=new Qa(n,t,se,null);return o.multi=[],o.index=e,o.componentProviders=0,fM(o,i,r&&!t),o}function Ti(n,e){return t=>{t.providersResolver=(r,i)=>Vk(r,i?i(n):n,!1),e&&(t.viewProvidersResolver=(r,i)=>Vk(r,i?i(e):e,!0))}}function L6(n,e){let t=n[e];return t===nr?void 0:t}function F6(n,e,t,r,i,s){let o=e+t;return cs(n,o,i)?IH(n,o+1,s?r.call(s,i):r(i)):L6(n,o+1)}function lb(n,e){let t=Kt(),r,i=n+rn;t.firstCreatePass?(r=V6(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let s=r.factory||(r.factory=lo(r.type,!0)),o,a=Nn(se);try{let c=Lg(!1),d=s();return Lg(c),Cw(t,Ae(),i,d),d}finally{Nn(a)}}function V6(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function db(n,e,t){let r=n+rn,i=Ae(),s=Tw(i,r);return U6(i,r)?F6(i,YN(),e,s.transform,t,s):s.transform(t)}function U6(n,e){return n[ce].data[e].pure}function hb(n,e){return sy(n,e)}var Kg=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},fb=(()=>{class n{compileModuleSync(t){return new Gg(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=lw(t),s=_x(i.declarations).reduce((o,a)=>{let c=ss(a);return c&&o.push(new Ja(c)),o},[]);return new Kg(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var pM=(()=>{class n{applicationErrorHandler=U(Ir);appRef=U(Co);taskService=U(as);ngZone=U(lt);zonelessEnabled=U(xh);tracing=U(ec,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Wt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(vh):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(U(Ww,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?qw:Hw;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(vh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,qw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function mM(){return[{provide:fo,useExisting:pM},{provide:lt,useClass:Eh},{provide:xh,useValue:!0}]}function j6(){return typeof $localize<"u"&&$localize.locale||Gh}var fy=new Z("",{factory:()=>U(fy,{optional:!0,skipSelf:!0})||j6()});function nl(n,e){return Dm(n,e?.equal)}var EM=Symbol("InputSignalNode#UNSET"),Z6=le(j({},Am),{transformFn:void 0,applyValueToInputSignal(n,e){dh(n,e)}});function IM(n,e){let t=Object.create(Z6);t.value=n,t.transformFn=e?.transform;function r(){if(ch(t),t.value===EM){let i=null;throw new ee(-950,i)}return t.value}return r[Rn]=t,r}var my=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Bh(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}};function gM(n,e){return IM(n,e)}function eq(n){return IM(EM,n)}var wM=(gM.required=eq,gM);var pb=new Z(""),tq=new Z("");function Kh(n){return!n.moduleRef}function nq(n){let e=Kh(n)?n.r3Injector:n.moduleRef.injector,t=e.get(lt);return t.run(()=>{Kh(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Ir),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),Kh(n)){let s=()=>e.destroy(),o=n.platformInjector.get(pb);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>n.moduleRef.destroy(),o=n.platformInjector.get(pb);o.add(s),n.moduleRef.onDestroy(()=>{Oh(n.allPlatformModules,n.moduleRef),i.unsubscribe(),o.delete(s)})}return iq(r,t,()=>{let s=e.get(as),o=s.add(),a=e.get(ob);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(fy,Gh);if(uM(c||Gh),!e.get(tq,!0))return Kh(n)?e.get(Co):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Kh(n)){let h=e.get(Co);return n.rootComponent!==void 0&&h.bootstrap(n.rootComponent),h}else return rq?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void s.remove(o))})})}var rq;function iq(n,e,t){try{let r=t();return To(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var py=null;function sq(n=[],e){return vt.create({name:e,providers:[{provide:bh,useValue:"platform"},{provide:pb,useValue:new Set([()=>py=null])},...n]})}function oq(n=[]){if(py)return py;let e=sq(n);return py=e,oM(),aq(e),e}function aq(n){let e=n.get(Yg,null);Nt(n,()=>{e?.forEach(t=>t())})}function vb(){return!1}var us=(()=>{class n{static __NG_ELEMENT_ID__=cq}return n})();function cq(n){return uq(Qt(),Ae(),(n&16)===16)}function uq(n,e,t){if(vo(n)&&!t){let r=Er(n.index,e);return new Io(r,r)}else if(n.type&175){let r=e[_r];return new Io(r,e)}return null}var mb=class{constructor(){}supports(e){return J0(e)}create(e){return new gb(e)}},lq=(n,e)=>e,gb=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||lq}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){let o=!r||t&&t.currentIndex<yM(r,i,s)?t:r,a=yM(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,o.previousIndex==null)i++;else{s||(s=[]);let d=a-i,h=c-i;if(d!=h){for(let I=0;I<d;I++){let R=I<s.length?s[I]:s[I]=0,k=R+I;h<=k&&k<d&&(s[I]=R+1)}let m=o.previousIndex;s[m]=h-d}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!J0(e))throw new ee(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,s,o,a),r=!0):(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next}else i=0,Gx(e,a=>{o=this._trackByFn(i,a),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,a,o,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new yb(t,r),s,i)),e}_verifyReinsertion(e,t,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new gy),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new gy),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},yb=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},_b=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},gy=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new _b,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function yM(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function _M(){return new Eb([new mb])}var Eb=(()=>{class n{factories;static \u0275prov=re({token:n,providedIn:"root",factory:_M});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=U(n,{optional:!0,skipSelf:!0});return n.create(t,r||_M())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new ee(901,!1)}}return n})();function bM(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;Qe(Ve.BootstrapApplicationStart);try{let s=i?.injector??oq(r),o=[mM(),lk,...t||[]],a=new Uh({providers:o,parent:s,debugName:"",runEnvironmentInitializers:!1});return nq({r3Injector:a.injector,platformInjector:s,rootComponent:e})}catch(s){return Promise.reject(s)}finally{Qe(Ve.BootstrapApplicationEnd)}}function Do(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function TM(n){let e=ss(n);if(!e)return null;let t=new Ja(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var CM=null;function Tr(){return CM}function Ib(n){CM??=n}var Qh=class{},rl=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:()=>U(SM),providedIn:"platform"})}return n})(),wb=new Z(""),SM=(()=>{class n extends rl{_location;_history;_doc=U(Dt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Tr().getBaseHref(this._doc)}onPopState(t){let r=Tr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Tr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function yy(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function DM(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Qr(n){return n&&n[0]!=="?"?`?${n}`:n}var Yr=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:()=>U(vy),providedIn:"root"})}return n})(),_y=new Z(""),vy=(()=>{class n extends Yr{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??U(Dt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return yy(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Qr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Qr(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Qr(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(fe(rl),fe(_y,8))};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ao=(()=>{class n{_subject=new Rt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=fq(DM(AM(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Qr(r))}normalize(t){return n.stripTrailingSlash(hq(this._basePath,AM(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Qr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Qr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Qr;static joinWithSlash=yy;static stripTrailingSlash=DM;static \u0275fac=function(r){return new(r||n)(fe(Yr))};static \u0275prov=re({token:n,factory:()=>dq(),providedIn:"root"})}return n})();function dq(){return new Ao(fe(Yr))}function hq(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function AM(n){return n.replace(/\/index.html$/,"")}function fq(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var bb=(()=>{class n extends Yr{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=yy(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Qr(s))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Qr(s))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(fe(rl),fe(_y,8))};static \u0275prov=re({token:n,factory:n.\u0275fac})}return n})();var Tb=(()=>{class n{_viewContainerRef;ngComponentOutlet=null;ngComponentOutletInputs;ngComponentOutletInjector;ngComponentOutletEnvironmentInjector;ngComponentOutletContent;ngComponentOutletNgModule;_componentRef;_moduleRef;_inputsUsed=new Map;get componentInstance(){return this._componentRef?.instance??null}constructor(t){this._viewContainerRef=t}_needToReCreateNgModuleInstance(t){return t.ngComponentOutletNgModule!==void 0}_needToReCreateComponentInstance(t){return t.ngComponentOutlet!==void 0||t.ngComponentOutletContent!==void 0||t.ngComponentOutletInjector!==void 0||t.ngComponentOutletEnvironmentInjector!==void 0||this._needToReCreateNgModuleInstance(t)}ngOnChanges(t){if(this._needToReCreateComponentInstance(t)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){let r=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(t)&&(this._moduleRef?.destroy(),this.ngComponentOutletNgModule?this._moduleRef=Z0(this.ngComponentOutletNgModule,pq(r)):this._moduleRef=void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:r,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent,environmentInjector:this.ngComponentOutletEnvironmentInjector})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(let t of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(t,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(t){for(let[r,i]of this._inputsUsed)i?(t.setInput(r,this.ngComponentOutletInputs[r]),this._inputsUsed.set(r,!1)):(t.setInput(r,void 0),this._inputsUsed.delete(r))}static \u0275fac=function(r){return new(r||n)(se(Ii))};static \u0275dir=Ze({type:n,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletEnvironmentInjector:"ngComponentOutletEnvironmentInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule"},exportAs:["ngComponentOutlet"],features:[Kr]})}return n})();function pq(n){return n.get(bo).injector}var Ey=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Cr=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Ey(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let a=r.get(s);r.move(a,o),RM(a,i)}});for(let i=0,s=r.length;i<s;i++){let a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);RM(s,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(se(Ii),se(wo),se(Eb))};static \u0275dir=Ze({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function RM(n,e){n.context.$implicit=e.item}var Jr=(()=>{class n{_viewContainer;_context=new Iy;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){PM(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){PM(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(se(Ii),se(wo))};static \u0275dir=Ze({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Iy=class{$implicit=null;ngIf=null};function PM(n,e){if(n&&!n.createEmbeddedView)throw new ee(2020,!1)}var Cb=(()=>{class n{transform(t){return JSON.stringify(t,null,2)}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=eb({name:"json",type:n,pure:!1})}return n})();var ve=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=wi({type:n});static \u0275inj=Br({})}return n})();function Sb(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,s]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Yh=class{};var NM="browser";var kM=(()=>{class n{static \u0275prov=re({token:n,providedIn:"root",factory:()=>new Db(U(Dt),window)})}return n})(),Db=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(le(j({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=mq(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(po(2400,!1))}}scrollToElement(e,t){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,s=r.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(le(j({},t),{left:i-o[0],top:s-o[1]}))}};function mq(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var Jh=class{_doc;constructor(e){this._doc=e}manager},wy=(()=>{class n extends Jh{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,s){return t.addEventListener(r,i,s),()=>this.removeEventListener(t,r,i,s)}removeEventListener(t,r,i,s){return t.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||n)(fe(Dt))};static \u0275prov=re({token:n,factory:n.\u0275fac})}return n})(),Cy=new Z(""),Nb=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(o=>{o.manager=this});let i=t.filter(o=>!(o instanceof wy));this._plugins=i.slice().reverse();let s=t.find(o=>o instanceof wy);s&&this._plugins.push(s)}addEventListener(t,r,i,s){return this._findPluginFor(r).addEventListener(t,r,i,s)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new ee(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(fe(Cy),fe(lt))};static \u0275prov=re({token:n,factory:n.\u0275fac})}return n})(),Ab="ng-app-id";function xM(n){for(let e of n)e.remove()}function MM(n,e){let t=e.createElement("style");return t.textContent=n,t}function gq(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Ab}="${e}"],link[${Ab}="${e}"]`);if(i)for(let s of i)s.removeAttribute(Ab),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&t.set(s.textContent,{usage:0,elements:[s]})}function Pb(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var kb=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,gq(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,MM);r?.forEach(i=>this.addUsage(i,this.external,Pb))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let s=r.get(t);s?s.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(xM(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])xM(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,MM(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Pb(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(fe(Dt),fe(Qg),fe(Jg,8),fe(Za))};static \u0275prov=re({token:n,factory:n.\u0275fac})}return n})(),Rb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},xb=/%COMP%/g;var LM="%COMP%",yq=`_nghost-${LM}`,_q=`_ngcontent-${LM}`,vq=!0,Eq=new Z("",{factory:()=>vq});function Iq(n){return _q.replace(xb,n)}function wq(n){return yq.replace(xb,n)}function FM(n,e){return e.map(t=>t.replace(xb,n))}var Mb=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(t,r,i,s,o,a,c=null,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.ngZone=a,this.nonce=c,this.tracingService=d,this.defaultRenderer=new Xh(t,o,a,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Ty?i.applyToHost(t):i instanceof Zh&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,m=this.tracingService;switch(r.encapsulation){case Wr.Emulated:s=new Ty(c,d,r,this.appId,h,o,a,m);break;case Wr.ShadowDom:return new by(c,t,r,o,a,this.nonce,m,d);case Wr.ExperimentalIsolatedShadowDom:return new by(c,t,r,o,a,this.nonce,m);default:s=new Zh(c,d,r,h,o,a,m);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(fe(Nb),fe(kb),fe(Qg),fe(Eq),fe(Dt),fe(lt),fe(Jg),fe(ec,8))};static \u0275prov=re({token:n,factory:n.\u0275fac})}return n})(),Xh=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Rb[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(OM(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(OM(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new ee(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=Rb[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Rb[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Ei.DashCase|Ei.Important)?e.style.setProperty(t,r,i&Ei.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Ei.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Tr().getGlobalEventTarget(this.doc,e),!e))throw new ee(5102,!1);let s=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(e,t,s)),this.eventManager.addEventListener(e,t,s,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function OM(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var by=class extends Xh{hostEl;sharedStylesHost;shadowRoot;constructor(e,t,r,i,s,o,a,c){super(e,i,s,a),this.hostEl=t,this.sharedStylesHost=c,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let d=r.styles;d=FM(r.id,d);for(let m of d){let I=document.createElement("style");o&&I.setAttribute("nonce",o),I.textContent=m,this.shadowRoot.appendChild(I)}let h=r.getExternalStyles?.();if(h)for(let m of h){let I=Pb(m,i);o&&I.setAttribute("nonce",o),this.shadowRoot.appendChild(I)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},Zh=class extends Xh{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=c?FM(c,d):d,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Gu.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Ty=class extends Zh{contentAttr;hostAttr;constructor(e,t,r,i,s,o,a,c){let d=i+"-"+r.id;super(e,t,r,s,o,a,c,d),this.contentAttr=Iq(d),this.hostAttr=wq(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Sy=class n extends Qh{supportsDOMEvents=!0;static makeCurrent(){Ib(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=bq();return t==null?null:Tq(t)}resetBaseElement(){ef=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Sb(document.cookie,e)}},ef=null;function bq(){return ef=ef||document.head.querySelector("base"),ef?ef.getAttribute("href"):null}function Tq(n){return new URL(n,document.baseURI).pathname}var Cq=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:n.\u0275fac})}return n})(),VM=["alt","control","meta","shift"],Sq={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Dq={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},UM=(()=>{class n extends Jh{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,s){let o=n.parseEventName(r),a=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Tr().onAndCancel(t,o.domEventName,a,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),VM.forEach(d=>{let h=r.indexOf(d);h>-1&&(r.splice(h,1),o+=d+".")}),o+=s,r.length!=0||s.length===0)return null;let c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(t,r){let i=Sq[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),VM.forEach(o=>{if(o!==i){let a=Dq[o];a(t)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(fe(Dt))};static \u0275prov=re({token:n,factory:n.\u0275fac})}return n})();function Ob(n,e,t){let r=j({rootComponent:n,platformRef:t?.platformRef},Aq(e));return bM(r)}function Aq(n){return{appProviders:[...xq,...n?.providers??[]],platformProviders:kq}}function Rq(){Sy.makeCurrent()}function Pq(){return new fi}function Nq(){return S0(document),document}var kq=[{provide:Za,useValue:NM},{provide:Yg,useValue:Rq,multi:!0},{provide:Dt,useFactory:Nq}];var xq=[{provide:bh,useValue:"root"},{provide:fi,useFactory:Pq},{provide:Cy,useClass:wy,multi:!0},{provide:Cy,useClass:UM,multi:!0},Mb,kb,Nb,{provide:Ya,useExisting:Mb},{provide:Yh,useClass:Cq},[]];var jM=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(fe(Dt))};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ye="primary",hf=Symbol("RouteTitle"),jb=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function ac(n){return new jb(n)}function QM(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function ky(n){return new Promise((e,t)=>{n.pipe(ns()).subscribe({next:r=>e(r),error:r=>t(r)})})}function Oq(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ci(n[t],e[t]))return!1;return!0}function Ci(n,e){let t=n?Bb(n):void 0,r=e?Bb(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!YM(n[i],e[i]))return!1;return!0}function Bb(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function YM(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function JM(n){return n.length>0?n[n.length-1]:null}function cc(n){return Km(n)?n:To(n)?ht(Promise.resolve(n)):we(n)}function XM(n){return Km(n)?ky(n):Promise.resolve(n)}var Lq={exact:e1,subset:t1},ZM={exact:Fq,subset:Vq,ignored:()=>!0};function BM(n,e,t){return Lq[t.paths](n.root,e.root,t.matrixParams)&&ZM[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function Fq(n,e){return Ci(n,e)}function e1(n,e,t){if(!sc(n.segments,e.segments)||!Ry(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!e1(n.children[r],e.children[r],t))return!1;return!0}function Vq(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>YM(n[t],e[t]))}function t1(n,e,t){return n1(n,e,e.segments,t)}function n1(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!sc(i,t)||e.hasChildren()||!Ry(i,t,r))}else if(n.segments.length===t.length){if(!sc(n.segments,t)||!Ry(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!t1(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!sc(n.segments,i)||!Ry(n.segments,i,r)||!n.children[ye]?!1:n1(n.children[ye],e,s,r)}}function Ry(n,e,t){return e.every((r,i)=>ZM[t](n[i].parameters,r.parameters))}var Zr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ze([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ac(this.queryParams),this._queryParamMap}toString(){return Bq.serialize(this)}},ze=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Py(this)}},Po=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=ac(this.parameters),this._parameterMap}toString(){return i1(this)}};function Uq(n,e){return sc(n,e)&&n.every((t,r)=>Ci(t.parameters,e[r].parameters))}function sc(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function jq(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ye&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ye&&(t=t.concat(e(i,r)))}),t}var uc=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:()=>new ls,providedIn:"root"})}return n})(),ls=class{parse(e){let t=new Hb(e);return new Zr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${tf(e.root,!0)}`,r=qq(e.queryParams),i=typeof e.fragment=="string"?`#${$q(e.fragment)}`:"";return`${t}${r}${i}`}},Bq=new ls;function Py(n){return n.segments.map(e=>i1(e)).join("/")}function tf(n,e){if(!n.hasChildren())return Py(n);if(e){let t=n.children[ye]?tf(n.children[ye],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==ye&&r.push(`${i}:${tf(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=jq(n,(r,i)=>i===ye?[tf(n.children[ye],!1)]:[`${i}:${tf(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ye]!=null?`${Py(n)}/${t[0]}`:`${Py(n)}/(${t.join("//")})`}}function r1(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dy(n){return r1(n).replace(/%3B/gi,";")}function $q(n){return encodeURI(n)}function $b(n){return r1(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ny(n){return decodeURIComponent(n)}function $M(n){return Ny(n.replace(/\+/g,"%20"))}function i1(n){return`${$b(n.path)}${Hq(n.parameters)}`}function Hq(n){return Object.entries(n).map(([e,t])=>`;${$b(e)}=${$b(t)}`).join("")}function qq(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Dy(t)}=${Dy(i)}`).join("&"):`${Dy(t)}=${Dy(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var zq=/^[^\/()?;#]+/;function Lb(n){let e=n.match(zq);return e?e[0]:""}var Gq=/^[^\/()?;=#]+/;function Wq(n){let e=n.match(Gq);return e?e[0]:""}var Kq=/^[^=?&#]+/;function Qq(n){let e=n.match(Kq);return e?e[0]:""}var Yq=/^[^&#]+/;function Jq(n){let e=n.match(Yq);return e?e[0]:""}var Hb=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ze([],{}):new ze([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ye]=new ze(e,t)),r}parseSegment(){let e=Lb(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ee(4009,!1);return this.capture(e),new Po(Ny(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=Wq(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Lb(this.remaining);i&&(r=i,this.capture(r))}e[Ny(t)]=Ny(r)}parseQueryParam(e){let t=Qq(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=Jq(this.remaining);o&&(r=o,this.capture(r))}let i=$M(t),s=$M(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Lb(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new ee(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ye);let o=this.parseChildren();t[s??ye]=Object.keys(o).length===1&&o[ye]?o[ye]:new ze([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ee(4011,!1)}};function s1(n){return n.segments.length>0?new ze([],{[ye]:n}):n}function o1(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=o1(i);if(r===ye&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new ze(n.segments,e);return Xq(t)}function Xq(n){if(n.numberOfChildren===1&&n.children[ye]){let e=n.children[ye];return new ze(n.segments.concat(e.segments),e.children)}return n}function No(n){return n instanceof Zr}function a1(n,e,t=null,r=null,i=new ls){let s=c1(n);return u1(s,e,t,r,i)}function c1(n){let e;function t(s){let o={};for(let c of s.children){let d=t(c);o[c.outlet]=d}let a=new ze(s.url,o);return s===n&&(e=a),a}let r=t(n.root),i=s1(r);return e??i}function u1(n,e,t,r,i){let s=n;for(;s.parent;)s=s.parent;if(e.length===0)return Fb(s,s,s,t,r,i);let o=Zq(e);if(o.toRoot())return Fb(s,s,new ze([],{}),t,r,i);let a=ez(o,s,n),c=a.processChildren?rf(a.segmentGroup,a.index,o.commands):d1(a.segmentGroup,a.index,o.commands);return Fb(s,a.segmentGroup,c,t,r,i)}function xy(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function of(n){return typeof n=="object"&&n!=null&&n.outlets}function HM(n,e,t){n||="\u0275";let r=new Zr;return r.queryParams={[n]:e},t.parse(t.serialize(r)).queryParams[n]}function Fb(n,e,t,r,i,s){let o={};for(let[d,h]of Object.entries(r??{}))o[d]=Array.isArray(h)?h.map(m=>HM(d,m,s)):HM(d,h,s);let a;n===e?a=t:a=l1(n,e,t);let c=s1(o1(a));return new Zr(c,o,i)}function l1(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=l1(s,e,t)}),new ze(n.segments,r)}var My=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&xy(r[0]))throw new ee(4003,!1);let i=r.find(of);if(i&&i!==JM(r))throw new ee(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Zq(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new My(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,d])=>{a[c]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new My(t,e,r)}var sl=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function ez(n,e,t){if(n.isAbsolute)return new sl(e,!0,0);if(!t)return new sl(e,!1,NaN);if(t.parent===null)return new sl(t,!0,0);let r=xy(n.commands[0])?0:1,i=t.segments.length-1+r;return tz(t,i,n.numberOfDoubleDots)}function tz(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new ee(4005,!1);i=r.segments.length}return new sl(r,!1,i-s)}function nz(n){return of(n[0])?n[0].outlets:{[ye]:n}}function d1(n,e,t){if(n??=new ze([],{}),n.segments.length===0&&n.hasChildren())return rf(n,e,t);let r=rz(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new ze(n.segments.slice(0,r.pathIndex),{});return s.children[ye]=new ze(n.segments.slice(r.pathIndex),n.children),rf(s,0,i)}else return r.match&&i.length===0?new ze(n.segments,{}):r.match&&!n.hasChildren()?qb(n,e,t):r.match?rf(n,0,i):qb(n,e,t)}function rf(n,e,t){if(t.length===0)return new ze(n.segments,{});{let r=nz(t),i={};if(Object.keys(r).some(s=>s!==ye)&&n.children[ye]&&n.numberOfChildren===1&&n.children[ye].segments.length===0){let s=rf(n.children[ye],e,t);return new ze(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=d1(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ze(n.segments,i)}}function rz(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let o=n.segments[i],a=t[r];if(of(a))break;let c=`${a}`,d=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&d&&typeof d=="object"&&d.outlets===void 0){if(!zM(c,d,o))return s;r+=2}else{if(!zM(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function qb(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(of(s)){let c=iz(s.outlets);return new ze(r,c)}if(i===0&&xy(t[0])){let c=n.segments[e];r.push(new Po(c.path,qM(t[0]))),i++;continue}let o=of(s)?s.outlets[ye]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&xy(a)?(r.push(new Po(o,qM(a))),i+=2):(r.push(new Po(o,{})),i++)}return new ze(r,{})}function iz(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=qb(new ze([],{}),0,r))}),e}function qM(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function zM(n,e,t){return n==t.path&&Ci(e,t.parameters)}var ol="imperative",Yt=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(Yt||{}),sr=class{id;url;constructor(e,t){this.id=e,this.url=t}},ko=class extends sr{type=Yt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ln=class extends sr{urlAfterRedirects;type=Yt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},On=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(On||{}),cl=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(cl||{}),Si=class extends sr{reason;code;type=Yt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Di=class extends sr{reason;code;type=Yt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},ul=class extends sr{error;target;type=Yt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},af=class extends sr{urlAfterRedirects;state;type=Yt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Oy=class extends sr{urlAfterRedirects;state;type=Yt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ly=class extends sr{urlAfterRedirects;state;shouldActivate;type=Yt.GuardsCheckEnd;constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Fy=class extends sr{urlAfterRedirects;state;type=Yt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vy=class extends sr{urlAfterRedirects;state;type=Yt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Uy=class{route;type=Yt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},jy=class{route;type=Yt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},By=class{snapshot;type=Yt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$y=class{snapshot;type=Yt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hy=class{snapshot;type=Yt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qy=class{snapshot;type=Yt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ll=class{routerEvent;position;anchor;type=Yt.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},cf=class{},dl=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function sz(n){return!(n instanceof cf)&&!(n instanceof dl)}function oz(n,e){return n.providers&&!n._injector&&(n._injector=Ju(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Xr(n){return n.outlet||ye}function az(n,e){let t=n.filter(r=>Xr(r)===e);return t.push(...n.filter(r=>Xr(r)!==e)),t}function pl(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var zy=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return pl(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new lc(this.rootInjector)}},lc=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new zy(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(fe(St))};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Gy=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=zb(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=zb(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Gb(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Gb(e,this._root).map(t=>t.value)}};function zb(n,e){if(n===e.value)return e;for(let t of e.children){let r=zb(n,t);if(r)return r}return null}function Gb(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Gb(n,t);if(r.length)return r.unshift(e),r}return[]}var ir=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function il(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var uf=class extends Gy{snapshot;constructor(e,t){super(e),this.snapshot=t,Xb(this,e)}toString(){return this.snapshot.toString()}};function h1(n){let e=cz(n),t=new pn([new Po("",{})]),r=new pn({}),i=new pn({}),s=new pn({}),o=new pn(""),a=new Ai(t,r,s,o,i,ye,n,e.root);return a.snapshot=e.root,new uf(new ir(a,[]),e)}function cz(n){let e={},t={},r={},s=new oc([],e,r,"",t,ye,n,null,{});return new lf("",new ir(s,[]))}var Ai=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(nt(d=>d[hf]))??we(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(nt(e=>ac(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(nt(e=>ac(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Wy(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:j(j({},e.params),n.params),data:j(j({},e.data),n.data),resolve:j(j(j(j({},n.data),e.data),i?.data),n._resolvedData)}:r={params:j({},n.params),data:j({},n.data),resolve:j(j({},n.data),n._resolvedData??{})},i&&p1(i)&&(r.resolve[hf]=i.title),r}var oc=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[hf]}constructor(e,t,r,i,s,o,a,c,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ac(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ac(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},lf=class extends Gy{url;constructor(e,t){super(t),this.url=e,Xb(this,t)}toString(){return f1(this._root)}};function Xb(n,e){e.value._routerState=n,e.children.forEach(t=>Xb(n,t))}function f1(n){let e=n.children.length>0?` { ${n.children.map(f1).join(", ")} } `:"";return`${n.value}${e}`}function Vb(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ci(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Ci(e.params,t.params)||n.paramsSubject.next(t.params),Oq(e.url,t.url)||n.urlSubject.next(t.url),Ci(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Wb(n,e){let t=Ci(n.params,e.params)&&Uq(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Wb(n.parent,e.parent))}function p1(n){return typeof n.title=="string"||n.title===null}var m1=new Z(""),ds=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ye;activateEvents=new Ct;deactivateEvents=new Ct;attachEvents=new Ct;detachEvents=new Ct;routerOutletData=wM();parentContexts=U(lc);location=U(Ii);changeDetector=U(us);inputBinder=U(ff,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ee(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ee(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ee(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new ee(4013,!1);this._activatedRoute=t;let i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Kb(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ze({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Kr]})}return n})(),Kb=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Ai?this.route:e===lc?this.childContexts:e===m1?this.outletData:this.parent.get(e,t)}},ff=new Z(""),Zb=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Xm([r.queryParams,r.params,r.data]).pipe(jr(([s,o,a],c)=>(a=j(j(j({},s),o),a),c===0?we(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let o=TM(r.component);if(!o){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:n.\u0275fac})}return n})(),eT=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=ue({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&K(0,"router-outlet")},dependencies:[ds],encapsulation:2})}return n})();function tT(n){let e=n.children&&n.children.map(tT),t=e?le(j({},n),{children:e}):j({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ye&&(t.component=eT),t}function uz(n,e,t){let r=df(n,e._root,t?t._root:void 0);return new uf(r,e)}function df(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=lz(n,e,t);return new ir(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>df(n,a)),o}}let r=dz(e.value),i=e.children.map(s=>df(n,s));return new ir(r,i)}}function lz(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return df(n,r,i);return df(n,r)})}function dz(n){return new Ai(new pn(n.url),new pn(n.params),new pn(n.queryParams),new pn(n.fragment),new pn(n.data),n.outlet,n.component,n)}var hl=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},g1="ngNavigationCancelingError";function Ky(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=No(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=y1(!1,On.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function y1(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[g1]=!0,t.cancellationCode=e,t}function hz(n){return _1(n)&&No(n.url)}function _1(n){return!!n&&n[g1]}var fz=(n,e,t,r)=>nt(i=>(new Qb(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Qb=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Vb(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=il(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=il(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=il(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=il(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new qy(s.value.snapshot))}),e.children.length&&this.forwardEvent(new $y(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(Vb(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Vb(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Qy=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},al=class{component;route;constructor(e,t){this.component=e,this.route=t}};function pz(n,e,t){let r=n._root,i=e?e._root:null;return nf(r,i,t,[r.value])}function mz(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ml(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!iw(n)?n:e.get(n):r}function nf(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=il(e);return n.children.forEach(o=>{gz(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>sf(a,t.getContext(o),i)),i}function gz(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=yz(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Qy(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?nf(n,e,a?a.children:null,r,i):nf(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new al(a.outlet.component,o))}else o&&sf(e,a,i),i.canActivateChecks.push(new Qy(r)),s.component?nf(n,null,a?a.children:null,r,i):nf(n,null,t,r,i);return i}function yz(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!sc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!sc(n.url,e.url)||!Ci(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wb(n,e)||!Ci(n.queryParams,e.queryParams);case"paramsChange":default:return!Wb(n,e)}}function sf(n,e,t){let r=il(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?e?sf(o,e.children.getContext(s),t):sf(o,null,t):sf(o,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new al(e.outlet.component,i)):t.canDeactivateChecks.push(new al(null,i)):t.canDeactivateChecks.push(new al(null,i))}function pf(n){return typeof n=="function"}function _z(n){return typeof n=="boolean"}function vz(n){return n&&pf(n.canLoad)}function Ez(n){return n&&pf(n.canActivate)}function Iz(n){return n&&pf(n.canActivateChild)}function wz(n){return n&&pf(n.canDeactivate)}function bz(n){return n&&pf(n.canMatch)}function v1(n){return n instanceof Oa||n?.name==="EmptyError"}var Ay=Symbol("INITIAL_VALUE");function fl(){return jr(n=>Xm(n.map(e=>e.pipe(ts(1),VI(Ay)))).pipe(nt(e=>{for(let t of e)if(t!==!0){if(t===Ay)return Ay;if(t===!1||Tz(t))return t}return!0}),Hn(e=>e!==Ay),ts(1)))}function Tz(n){return No(n)||n instanceof hl}function E1(n){return n.aborted?we(void 0).pipe(ts(1)):new De(e=>{let t=()=>{e.next(),e.complete()};return n.addEventListener("abort",t),()=>n.removeEventListener("abort",t)})}function I1(n){return mh(E1(n))}function Cz(n,e){return mn(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?we(le(j({},t),{guardsResult:!0})):Sz(o,r,i,n).pipe(mn(a=>a&&_z(a)?Dz(r,s,n,e):we(a)),nt(a=>le(j({},t),{guardsResult:a})))})}function Sz(n,e,t,r){return ht(n).pipe(mn(i=>kz(i.component,i.route,t,e,r)),ns(i=>i!==!0,!0))}function Dz(n,e,t,r){return ht(e).pipe(Pu(i=>Au(Rz(i.route.parent,r),Az(i.route,r),Nz(n,i.path,t),Pz(n,i.route,t))),ns(i=>i!==!0,!0))}function Az(n,e){return n!==null&&e&&e(new Hy(n)),we(!0)}function Rz(n,e){return n!==null&&e&&e(new By(n)),we(!0)}function Pz(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return we(!0);let i=r.map(s=>ph(()=>{let o=pl(e)??t,a=ml(s,o),c=Ez(a)?a.canActivate(e,n):Nt(o,()=>a(e,n));return cc(c).pipe(ns())}));return we(i).pipe(fl())}function Nz(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>mz(o)).filter(o=>o!==null).map(o=>ph(()=>{let a=o.guards.map(c=>{let d=pl(o.node)??t,h=ml(c,d),m=Iz(h)?h.canActivateChild(r,n):Nt(d,()=>h(r,n));return cc(m).pipe(ns())});return we(a).pipe(fl())}));return we(s).pipe(fl())}function kz(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return we(!0);let o=s.map(a=>{let c=pl(e)??i,d=ml(a,c),h=wz(d)?d.canDeactivate(n,e,t,r):Nt(c,()=>d(n,e,t,r));return cc(h).pipe(ns())});return we(o).pipe(fl())}function xz(n,e,t,r,i){let s=e.canLoad;if(s===void 0||s.length===0)return we(!0);let o=s.map(a=>{let c=ml(a,n),d=vz(c)?c.canLoad(e,t):Nt(n,()=>c(e,t)),h=cc(d);return i?h.pipe(I1(i)):h});return we(o).pipe(fl(),w1(r))}function w1(n){return DI(Pn(e=>{if(typeof e!="boolean")throw Ky(n,e)}),nt(e=>e===!0))}function Mz(n,e,t,r,i){let s=e.canMatch;if(!s||s.length===0)return we(!0);let o=s.map(a=>{let c=ml(a,n),d=bz(c)?c.canMatch(e,t):Nt(n,()=>c(e,t)),h=cc(d);return i?h.pipe(I1(i)):h});return we(o).pipe(fl(),w1(r))}var ic=class b1 extends Error{segmentGroup;constructor(e){super(),this.segmentGroup=e||null,Object.setPrototypeOf(this,b1.prototype)}},Yb=class T1 extends Error{urlTree;constructor(e){super(),this.urlTree=e,Object.setPrototypeOf(this,T1.prototype)}};function Oz(n){throw new ee(4e3,!1)}function Lz(n){throw y1(!1,On.GuardRejected)}var Fz=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}async lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[ye])throw Oz(`${e.redirectTo}`);i=i.children[ye]}}async applyRedirectCommands(e,t,r,i,s){let o=await Vz(t,i,s);if(o instanceof Zr)throw new Yb(o);let a=this.applyRedirectCreateUrlTree(o,this.urlSerializer.parse(o),e,r);if(o[0]==="/")throw new Yb(a);return a}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new Zr(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),o={};return Object.entries(t.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new ze(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new ee(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function Vz(n,e,t){if(typeof n=="string")return Promise.resolve(n);let r=n,{queryParams:i,fragment:s,routeConfig:o,url:a,outlet:c,params:d,data:h,title:m}=e;return ky(cc(Nt(t,()=>r({params:d,data:h,queryParams:i,fragment:s,routeConfig:o,url:a,outlet:c,title:m}))))}var Jb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Uz(n,e,t,r,i,s){let o=C1(n,e,t);return o.matched?(r=oz(e,r),Mz(r,e,t,i,s).pipe(nt(a=>a===!0?o:j({},Jb)))):we(o)}function C1(n,e,t){if(e.path==="**")return jz(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?j({},Jb):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||QM)(t,n,e);if(!i)return j({},Jb);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?j(j({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function jz(n){return{matched:!0,parameters:n.length>0?JM(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function GM(n,e,t,r){return t.length>0&&Hz(n,t,r)?{segmentGroup:new ze(e,$z(r,new ze(t,n.children))),slicedSegments:[]}:t.length===0&&qz(n,t,r)?{segmentGroup:new ze(n.segments,Bz(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new ze(n.segments,n.children),slicedSegments:t}}function Bz(n,e,t,r){let i={};for(let s of t)if(Jy(n,e,s)&&!r[Xr(s)]){let o=new ze([],{});i[Xr(s)]=o}return j(j({},r),i)}function $z(n,e){let t={};t[ye]=e;for(let r of n)if(r.path===""&&Xr(r)!==ye){let i=new ze([],{});t[Xr(r)]=i}return t}function Hz(n,e,t){return t.some(r=>Jy(n,e,r)&&Xr(r)!==ye)}function qz(n,e,t){return t.some(r=>Jy(n,e,r))}function Jy(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function zz(n,e,t){return e.length===0&&!n.children[t]}var Gz=class{};async function Wz(n,e,t,r,i,s,o="emptyOnly",a){return new Qz(n,e,t,r,i,o,s,a).recognize()}var Kz=31,Qz=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,s,o,a,c){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.abortSignal=c,this.applyRedirects=new Fz(this.urlSerializer,this.urlTree)}noMatchError(e){return new ee(4002,`'${e.segmentGroup}'`)}async recognize(){let e=GM(this.urlTree.root,[],[],this.config).segmentGroup,{children:t,rootSnapshot:r}=await this.match(e),i=new ir(r,t),s=new lf("",i),o=a1(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}async match(e){let t=new oc([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ye,this.rootComponentType,null,{});try{return{children:await this.processSegmentGroup(this.injector,this.config,e,ye,t),rootSnapshot:t}}catch(r){if(r instanceof Yb)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ic?this.noMatchError(r):r}}async processSegmentGroup(e,t,r,i,s){if(r.segments.length===0&&r.hasChildren())return this.processChildren(e,t,r,s);let o=await this.processSegment(e,t,r,r.segments,i,!0,s);return o instanceof ir?[o]:[]}async processChildren(e,t,r,i){let s=[];for(let c of Object.keys(r.children))c==="primary"?s.unshift(c):s.push(c);let o=[];for(let c of s){let d=r.children[c],h=az(t,c),m=await this.processSegmentGroup(e,h,d,c,i);o.push(...m)}let a=S1(o);return Yz(a),a}async processSegment(e,t,r,i,s,o,a){for(let c of t)try{return await this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,s,o,a)}catch(d){if(d instanceof ic||v1(d))continue;throw d}if(zz(r,i,s))return new Gz;throw new ic(r)}async processSegmentAgainstRoute(e,t,r,i,s,o,a,c){if(Xr(r)!==o&&(o===ye||!Jy(i,s,r)))throw new ic(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(e,i,r,s,o,c);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o,c);throw new ic(i)}async expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o,a){let{matched:c,parameters:d,consumedSegments:h,positionalParamSegments:m,remainingSegments:I}=C1(t,i,s);if(!c)throw new ic(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Kz&&(this.allowRedirects=!1));let R=new oc(s,d,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,WM(i),Xr(i),i.component??i._loadedComponent??null,i,KM(i)),k=Wy(R,a,this.paramsInheritanceStrategy);if(R.params=Object.freeze(k.params),R.data=Object.freeze(k.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let V=await this.applyRedirects.applyRedirectCommands(h,i.redirectTo,m,R,e),O=await this.applyRedirects.lineralizeSegments(i,V);return this.processSegment(e,r,t,O.concat(I),o,!1,a)}async matchSegmentAgainstRoute(e,t,r,i,s,o){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await ky(Uz(t,r,i,e,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(t.children={}),!a?.matched)throw new ic(t);e=r._injector??e;let{routes:c}=await this.getChildConfig(e,r,i),d=r._loadedInjector??e,{parameters:h,consumedSegments:m,remainingSegments:I}=a,R=new oc(m,h,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,WM(r),Xr(r),r.component??r._loadedComponent??null,r,KM(r)),k=Wy(R,o,this.paramsInheritanceStrategy);R.params=Object.freeze(k.params),R.data=Object.freeze(k.data);let{segmentGroup:V,slicedSegments:O}=GM(t,m,I,c);if(O.length===0&&V.hasChildren()){let ne=await this.processChildren(d,c,V,R);return new ir(R,ne)}if(c.length===0&&O.length===0)return new ir(R,[]);let q=Xr(r)===s,X=await this.processSegment(d,c,V,O,q?ye:s,!0,R);return new ir(R,X instanceof ir?[X]:[])}async getChildConfig(e,t,r){if(t.children)return{routes:t.children,injector:e};if(t.loadChildren){if(t._loadedRoutes!==void 0)return{routes:t._loadedRoutes,injector:t._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await ky(xz(e,t,r,this.urlSerializer,this.abortSignal))){let s=await this.configLoader.loadChildren(e,t);return t._loadedRoutes=s.routes,t._loadedInjector=s.injector,s}throw Lz(t)}return{routes:[],injector:e}}};function Yz(n){n.sort((e,t)=>e.value.outlet===ye?-1:t.value.outlet===ye?1:e.value.outlet.localeCompare(t.value.outlet))}function Jz(n){let e=n.value.routeConfig;return e&&e.path===""}function S1(n){let e=[],t=new Set;for(let r of n){if(!Jz(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=S1(r.children);e.push(new ir(r.value,i))}return e.filter(r=>!t.has(r))}function WM(n){return n.data||{}}function KM(n){return n.resolve||{}}var Xz=new Z("",{factory:()=>Wz});function Zz(n,e,t,r,i,s,o){let a=n.get(Xz);return mn(c=>we(c).pipe(jr(d=>a(n,e,t,r,d.extractedUrl,i,s,o)),nt(({state:d,tree:h})=>le(j({},c),{targetSnapshot:d,urlAfterRedirects:h}))))}function e5(n,e){return mn(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return we(t);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let d of D1(c))o.add(d);let a=0;return ht(o).pipe(Pu(c=>s.has(c)?t5(c,r,n,e):(c.data=Wy(c,c.parent,n).resolve,we(void 0))),Pn(()=>a++),Zm(1),mn(c=>a===o.size?we(t):Bn))})}function D1(n){let e=n.children.map(t=>D1(t)).flat();return[n,...e]}function t5(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!p1(i)&&(s[hf]=i.title),ph(()=>(n.data=Wy(n,n.parent,t).resolve,n5(s,n,e,r).pipe(nt(o=>(n._resolvedData=o,n.data=j(j({},n.data),o),null)))))}function n5(n,e,t,r){let i=Bb(n);if(i.length===0)return we({});let s={};return ht(i).pipe(mn(o=>r5(n[o],e,t,r).pipe(ns(),Pn(a=>{if(a instanceof hl)throw Ky(new ls,a);s[o]=a}))),Zm(1),nt(()=>s),Ru(o=>v1(o)?Bn:MI(o)))}function r5(n,e,t,r){let i=pl(e)??r,s=ml(n,i),o=s.resolve?s.resolve(e,t):Nt(i,()=>s(e,t));return cc(o)}function Ub(n){return jr(e=>{let t=n(e);return t?ht(t).pipe(nt(()=>e)):we(e)})}var nT=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ye);return r}getResolvedTitleForRoute(t){return t.data[hf]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:()=>U(A1),providedIn:"root"})}return n})(),A1=(()=>{class n extends nT{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(fe(jM))};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xo=new Z("",{factory:()=>({})}),dc=new Z(""),Xy=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=U(fb);async loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let s=await XM(Nt(t,()=>r.loadComponent())),o=await N1(P1(s));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o,o}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let s=await R1(r,this.compiler,t,this.onLoadEndListener);return r._loadedRoutes=s.routes,r._loadedInjector=s.injector,s}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();async function R1(n,e,t,r){let i=await XM(Nt(t,()=>n.loadChildren())),s=await N1(P1(i)),o;s instanceof cy||Array.isArray(s)?o=s:o=await e.compileModuleAsync(s),r&&r(n);let a,c,d=!1;return Array.isArray(o)?(c=o,d=!0):(a=o.create(t).injector,c=a.get(dc,[],{optional:!0,self:!0}).flat()),{routes:c.map(tT),injector:a}}function i5(n){return n&&typeof n=="object"&&"default"in n}function P1(n){return i5(n)?n.default:n}async function N1(n){return n}var Zy=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:()=>U(s5),providedIn:"root"})}return n})(),s5=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rT=new Z(""),iT=new Z("");function k1(n,e,t){let r=n.get(iT),i=n.get(Dt);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(d=>setTimeout(d));let s,o=new Promise(d=>{s=d}),a=i.startViewTransition(()=>(s(),o5(n)));a.ready.catch(d=>{}),a.finished.catch(d=>{});let{onViewTransitionCreated:c}=r;return c&&Nt(n,()=>c({transition:a,from:e,to:t})),o}function o5(n){return new Promise(e=>{Hh({read:()=>setTimeout(e)},{injector:n})})}var a5=()=>{},sT=new Z(""),e_=(()=>{class n{currentNavigation=er(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=er(null);events=new Rt;transitionAbortWithErrorSubject=new Rt;configLoader=U(Xy);environmentInjector=U(St);destroyRef=U(zr);urlSerializer=U(uc);rootContexts=U(lc);location=U(Ao);inputBindingEnabled=U(ff,{optional:!0})!==null;titleStrategy=U(nT);options=U(xo,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=U(Zy);createViewTransition=U(rT,{optional:!0});navigationErrorHandler=U(sT,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>we(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Uy(i)),r=i=>this.events.next(new jy(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;kt(()=>{this.transitions?.next(le(j({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(t){return this.transitions=new pn(null),this.transitions.pipe(Hn(r=>r!==null),jr(r=>{let i=!1,s=new AbortController;return we(r).pipe(jr(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",On.SupersededByNewNavigation),Bn;this.currentTransition=r;let a=this.lastSuccessfulNavigation();this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:a?le(j({},a),{previousNavigation:null}):null,abort:()=>s.abort()});let c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!c&&d!=="reload")return this.events.next(new Di(o.id,this.urlSerializer.serialize(o.rawUrl),"",cl.IgnoredSameUrlNavigation)),o.resolve(!1),Bn;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return we(o).pipe(jr(h=>(this.events.next(new ko(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),h.id!==this.navigationId?Bn:Promise.resolve(h))),Zz(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy,s.signal),Pn(h=>{r.targetSnapshot=h.targetSnapshot,r.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation.update(I=>(I.finalUrl=h.urlAfterRedirects,I));let m=new af(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(m)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:h,extractedUrl:m,source:I,restoredState:R,extras:k}=o,V=new ko(h,this.urlSerializer.serialize(m),I,R);this.events.next(V);let O=h1(this.rootComponentType).snapshot;return this.currentTransition=r=le(j({},o),{targetSnapshot:O,urlAfterRedirects:m,extras:le(j({},k),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(q=>(q.finalUrl=m,q)),we(r)}else return this.events.next(new Di(o.id,this.urlSerializer.serialize(o.extractedUrl),"",cl.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Bn}),Pn(o=>{let a=new Oy(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),nt(o=>(this.currentTransition=r=le(j({},o),{guards:pz(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),Cz(this.environmentInjector,o=>this.events.next(o)),Pn(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Ky(this.urlSerializer,o.guardsResult);let a=new Ly(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Hn(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",On.GuardRejected),!1)),Ub(o=>{if(o.guards.canActivateChecks.length!==0)return we(o).pipe(Pn(a=>{let c=new Fy(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),jr(a=>{let c=!1;return we(a).pipe(e5(this.paramsInheritanceStrategy,this.environmentInjector),Pn({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",On.NoDataFromResolver)}}))}),Pn(a=>{let c=new Vy(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),Ub(o=>{let a=d=>{let h=[];if(d.routeConfig?._loadedComponent)d.component=d.routeConfig?._loadedComponent;else if(d.routeConfig?.loadComponent){let m=pl(d)??this.environmentInjector;h.push(this.configLoader.loadComponent(m,d.routeConfig).then(I=>{d.component=I}))}for(let m of d.children)h.push(...a(m));return h},c=a(o.targetSnapshot.root);return c.length===0?we(o):ht(Promise.all(c).then(()=>o))}),Ub(()=>this.afterPreactivation()),jr(()=>{let{currentSnapshot:o,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,o.root,a.root);return c?ht(c).pipe(nt(()=>r)):we(r)}),nt(o=>{let a=uz(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=le(j({},o),{targetRouterState:a}),this.currentNavigation.update(c=>(c.targetRouterState=a,c)),r}),Pn(()=>{this.events.next(new cf)}),fz(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),ts(1),mh(E1(s.signal).pipe(Hn(()=>!i&&!r.targetRouterState),Pn(()=>{this.cancelNavigationTransition(r,s.signal.reason+"",On.Aborted)}))),Pn({next:o=>{i=!0,this.currentNavigation.update(a=>(a.abort=a5,a)),this.lastSuccessfulNavigation.set(kt(this.currentNavigation)),this.events.next(new Ln(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),mh(this.transitionAbortWithErrorSubject.pipe(Pn(o=>{throw o}))),FI(()=>{s.abort(),i||this.cancelNavigationTransition(r,"",On.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Ru(o=>{if(this.destroyed)return r.resolve(!1),Bn;if(i=!0,_1(o))this.events.next(new Si(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),hz(o)?this.events.next(new dl(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let a=new ul(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let c=Nt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof hl){let{message:d,cancellationCode:h}=Ky(this.urlSerializer,c);this.events.next(new Si(r.id,this.urlSerializer.serialize(r.extractedUrl),d,h)),this.events.next(new dl(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),o}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return Bn}))}))}cancelNavigationTransition(t,r,i){let s=new Si(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=kt(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function c5(n){return n!==ol}var x1=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:()=>U(u5),providedIn:"root"})}return n})(),Yy=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},u5=(()=>{class n extends Yy{static \u0275fac=(()=>{let t;return function(i){return(t||(t=wr(n)))(i||n)}})();static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),oT=(()=>{class n{urlSerializer=U(uc);options=U(xo,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=U(Ao);urlHandlingStrategy=U(Zy);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Zr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let s=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,o=i??s;return o instanceof Zr?this.urlSerializer.serialize(o):o}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=h1(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:()=>U(M1),providedIn:"root"})}return n})(),M1=(()=>{class n extends oT{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof ko?this.updateStateMemento():t instanceof Di?this.commitTransition(r):t instanceof af?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof cf?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Si&&t.code!==On.SupersededByNewNavigation&&t.code!==On.Redirect?this.restoreHistory(r):t instanceof ul?this.restoreHistory(r,!0):t instanceof Ln&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:s,state:o}=r;if(this.location.isCurrentPathEqualTo(t)||s){let a=this.browserPageId,c=j(j({},o),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=j(j({},o),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.getCurrentUrlTree()===t.finalUrl&&s===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=wr(n)))(i||n)}})();static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function t_(n,e){n.events.pipe(Hn(t=>t instanceof Ln||t instanceof Si||t instanceof ul||t instanceof Di),nt(t=>t instanceof Ln||t instanceof Di?0:(t instanceof Si?t.code===On.Redirect||t.code===On.SupersededByNewNavigation:!1)?2:1),Hn(t=>t!==2),ts(1)).subscribe(()=>{e()})}var l5={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},d5={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},at=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=U(tb);stateManager=U(oT);options=U(xo,{optional:!0})||{};pendingTasks=U(as);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=U(e_);urlSerializer=U(uc);location=U(Ao);urlHandlingStrategy=U(Zy);injector=U(St);_events=new Rt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=U(x1);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=U(dc,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!U(ff,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Wt;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=kt(this.navigationTransitions.currentNavigation);if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Si&&r.code!==On.Redirect&&r.code!==On.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ln)this.navigated=!0;else if(r instanceof dl){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=j({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||c5(i.source)},o);this.scheduleNavigation(a,ol,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}sz(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ol,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let c=j({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s).catch(c=>{this.disposed||this.injector.get(Ir)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return kt(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(tT),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,d=c?this.currentUrlTree.fragment:o,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=j(j({},this.currentUrlTree.queryParams),s);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}h!==null&&(h=this.removeEmptyProps(h));let m;try{let I=i?i.snapshot:this.routerState.snapshot.root;m=c1(I)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),m=this.currentUrlTree.root}return u1(m,t,h,d??null,this.urlSerializer)}navigateByUrl(t,r={skipLocationChange:!1}){let i=No(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,ol,null,r)}navigate(t,r={skipLocationChange:!1}){return h5(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(po(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=j({},l5):r===!1?i=j({},d5):i=r,No(t))return BM(this.currentUrlTree,t,i);let s=this.parseUrl(t);return BM(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,d;o?(a=o.resolve,c=o.reject,d=o.promise):d=new Promise((m,I)=>{a=m,c=I});let h=this.pendingTasks.add();return t_(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(m=>Promise.reject(m))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function h5(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new ee(4008,!1)}var Ri=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=er(null);get href(){return kt(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Rt;applicationErrorHandler=U(Ir);options=U(xo,{optional:!0});constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.reactiveHref.set(U(new my("href"),{optional:!0}));let c=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof Ln&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(No(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(d=>{this.applicationErrorHandler(d)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return this.routerLinkInput===null?null:No(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(se(at),se(Ai),Bh("tabindex"),se(rr),se(xn),se(Yr))};static \u0275dir=Ze({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&ie("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&Xu("href",i.reactiveHref(),k0)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Do],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Do],replaceUrl:[2,"replaceUrl","replaceUrl",Do],routerLink:"routerLink"},features:[Kr]})}return n})(),cT=(()=>{class n{router;element;renderer;cdr;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Ct;link=U(Ri,{optional:!0});constructor(t,r,i,s){this.router=t,this.element=r,this.renderer=i,this.cdr=s,this.routerEventsSubscription=t.events.subscribe(o=>{o instanceof Ln&&this.update()})}ngAfterContentInit(){we(this.links.changes,we(null)).pipe(co()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=ht(t).pipe(co()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=f5(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let s=i.urlTree;return s?t.isActive(s,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(se(at),se(xn),se(rr),se(us))};static \u0275dir=Ze({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,s){if(r&1&&dy(s,Ri,5),r&2){let o;tc(o=nc())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Kr]})}return n})();function f5(n){return!!n.paths}var mf=class{};var O1=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,s){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Hn(t=>t instanceof Ln),Pu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=Ju(s.providers,t,`Route: ${s.path}`));let o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return ht(i).pipe(co())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=ht(this.loader.loadChildren(t,r)):i=we(null);let s=i.pipe(mn(o=>o===null?we(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(t,r);return ht([s,o]).pipe(co())}else return s})}static \u0275fac=function(r){return new(r||n)(fe(at),fe(St),fe(mf),fe(Xy))};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),L1=new Z(""),p5=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=ol;restoredId=0;store={};constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ko?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ln?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Di&&t.code===cl.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{if(!(t instanceof ll))return;let r={behavior:"instant"};t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position,r):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(async()=>{await new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new ll(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){K0()};static \u0275prov=re({token:n,factory:n.\u0275fac})}return n})();function uT(n,...e){return mr([{provide:dc,multi:!0,useValue:n},[],{provide:Ai,useFactory:F1},{provide:zh,multi:!0,useFactory:V1},e.map(t=>t.\u0275providers)])}function F1(){return U(at).routerState.root}function gf(n,e){return{\u0275kind:n,\u0275providers:e}}function V1(){let n=U(vt);return e=>{let t=n.get(Co);if(e!==t.components[0])return;let r=n.get(at),i=n.get(U1);n.get(lT)===1&&r.initialNavigation(),n.get($1,null,{optional:!0})?.setUpPreloading(),n.get(L1,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var U1=new Z("",{factory:()=>new Rt}),lT=new Z("",{factory:()=>1});function j1(){let n=[{provide:D0,useValue:!0},{provide:lT,useValue:0},uy(()=>{let e=U(vt);return e.get(wb,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(at),s=e.get(U1);t_(i,()=>{r(!0)}),e.get(e_).afterPreactivation=()=>(r(!0),s.closed?we(void 0):s),i.initialNavigation()}))})];return gf(2,n)}function B1(){let n=[uy(()=>{U(at).setUpLocationChangeListener()}),{provide:lT,useValue:2}];return gf(3,n)}var $1=new Z("");function H1(n){return gf(0,[{provide:$1,useExisting:O1},{provide:mf,useExisting:n}])}function q1(){return gf(8,[Zb,{provide:ff,useExisting:Zb}])}function z1(n){Yu("NgRouterViewTransitions");let e=[{provide:rT,useValue:k1},{provide:iT,useValue:j({skipNextTransition:!!n?.skipInitialTransition},n)}];return gf(9,e)}var G1=[Ao,{provide:uc,useClass:ls},at,lc,{provide:Ai,useFactory:F1},Xy,[]],yn=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[G1,[],{provide:dc,multi:!0,useValue:t},[],r?.errorHandler?{provide:sT,useValue:r.errorHandler}:[],{provide:xo,useValue:r||{}},r?.useHash?g5():y5(),m5(),r?.preloadingStrategy?H1(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?_5(r):[],r?.bindToComponentInputs?q1().\u0275providers:[],r?.enableViewTransitions?z1().\u0275providers:[],v5()]}}static forChild(t){return{ngModule:n,providers:[{provide:dc,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=wi({type:n});static \u0275inj=Br({})}return n})();function m5(){return{provide:L1,useFactory:()=>{let n=U(kM),e=U(lt),t=U(xo),r=U(e_),i=U(uc);return t.scrollOffset&&n.setOffset(t.scrollOffset),new p5(i,r,n,e,t)}}}function g5(){return{provide:Yr,useClass:bb}}function y5(){return{provide:Yr,useClass:vy}}function _5(n){return[n.initialNavigation==="disabled"?B1().\u0275providers:[],n.initialNavigation==="enabledBlocking"?j1().\u0275providers:[]]}var aT=new Z("");function v5(){return[{provide:aT,useFactory:V1},{provide:zh,multi:!0,useExisting:aT}]}var n_=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ue({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){t&1&&K(0,"router-outlet")},dependencies:[ds],encapsulation:2})};function E5(n,e){n&1&&(P(0,"p"),D(1,"Dobrodo\u0161li u Dashboard! Odaberite opciju iz navigacije iznad da biste vidjeli sadr\u017Eaj."),N())}var r_=class n{constructor(e){this.router=e;this.router.events.pipe(Hn(t=>t instanceof Ln)).subscribe(t=>{this.showWelcome=t.urlAfterRedirects==="/dashboard"})}showWelcome=!0;logout(){this.router.navigate(["/"])}static \u0275fac=function(t){return new(t||n)(se(at))};static \u0275cmp=ue({type:n,selectors:[["app-dashboard"]],decls:20,vars:1,consts:[[1,"navbar"],["routerLink","profile","routerLinkActive","active"],["routerLink","trackers","routerLinkActive","active"],["routerLink","student-fun-zone","routerLinkActive","active"],[1,"logout-link",3,"click"],[1,"dashboard-content"],[4,"ngIf"]],template:function(t,r){t&1&&(P(0,"header",0)(1,"nav")(2,"ul")(3,"li")(4,"a",1),D(5,"Profile"),N()(),P(6,"li")(7,"a",2),D(8,"Trackers"),N()(),P(9,"li")(10,"a",3),D(11,"Student Fun Zone"),N()(),P(12,"li")(13,"a",4),ie("click",function(){return r.logout()}),D(14,"Logout"),N()()()()(),P(15,"section",5),pt(16,E5,2,0,"p",6),K(17,"router-outlet"),N(),P(18,"footer"),D(19,` Web programiranje 2025 \u2014 Internacionalna poslovno-informaciona akademija Tuzla
`),N()),t&2&&(J(16),st("ngIf",r.showWelcome))},dependencies:[yn,ds,Ri,cT,ve,Jr],styles:[".navbar[_ngcontent-%COMP%]{background-color:#1e73be;padding:15px 20px;display:flex;justify-content:center}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;display:flex;gap:40px;margin:0;padding:0}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-weight:700;font-family:Arial,sans-serif;font-size:18px}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}[_nghost-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.dashboard-content[_ngcontent-%COMP%]{padding:20px;font-family:Arial,sans-serif;flex:1}footer[_ngcontent-%COMP%]{margin-top:auto;text-align:center;padding:20px;color:#fff;background-color:#1e73be}.logout-link[_ngcontent-%COMP%]{color:#fff;text-transform:uppercase;font-weight:600;letter-spacing:.5px;text-decoration:none;padding:12px 15px;cursor:pointer;transition:background .3s ease,color .3s ease}.logout-link[_ngcontent-%COMP%]:hover{background-color:#0d47a1;border-radius:4px}"]})};var W1=()=>{};var Y1=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},I5=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],a=n[t++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},J1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,a=o?n[i+1]:0,c=i+2<n.length,d=c?n[i+2]:0,h=s>>2,m=(s&3)<<4|a>>4,I=(a&15)<<2|d>>6,R=d&63;c||(R=64,o||(I=64)),r.push(t[h],t[m],t[I],t[R])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Y1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):I5(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let d=i<n.length?t[n.charAt(i)]:64;++i;let m=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||d==null||m==null)throw new hT;let I=s<<2|a>>4;if(r.push(I),d!==64){let R=a<<4&240|d>>2;if(r.push(R),m!==64){let k=d<<6&192|m;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},hT=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},w5=function(n){let e=Y1(n);return J1.encodeByteArray(e,!0)},vf=function(n){return w5(n).replace(/\./g,"")},s_=function(n){try{return J1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function X1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var b5=()=>X1().__FIREBASE_DEFAULTS__,T5=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},C5=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&s_(n[1]);return e&&JSON.parse(e)},o_=()=>{try{return W1()||b5()||T5()||C5()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},pT=n=>o_()?.emulatorHosts?.[n],Z1=n=>{let e=pT(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},mT=()=>o_()?.config,gT=n=>o_()?.[`_${n}`];var i_=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Mo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function a_(n){return(await fetch(n,{credentials:"include"})).ok}function eO(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=j({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[vf(JSON.stringify(t)),vf(JSON.stringify(o)),""].join(".")}var _f={};function S5(){let n={prod:[],emulator:[]};for(let e of Object.keys(_f))_f[e]?n.emulator.push(e):n.prod.push(e);return n}function D5(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var K1=!1;function c_(n,e){if(typeof window>"u"||typeof document>"u"||!Mo(window.location.host)||_f[n]===e||_f[n]||K1)return;_f[n]=e;function t(I){return`__firebase__banner__${I}`}let r="__firebase__banner",s=S5().prod.length>0;function o(){let I=document.getElementById(r);I&&I.remove()}function a(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function c(I,R){I.setAttribute("width","24"),I.setAttribute("id",R),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function d(){let I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{K1=!0,o()},I}function h(I,R){I.setAttribute("id",R),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function m(){let I=D5(r),R=t("text"),k=document.getElementById(R)||document.createElement("span"),V=t("learnmore"),O=document.getElementById(V)||document.createElement("a"),q=t("preprendIcon"),X=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){let ne=I.element;a(ne),h(O,V);let Pe=d();c(X,q),ne.append(X,k,O,Pe),document.body.appendChild(ne)}s?(k.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function A5(){let n=o_()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rO(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function iO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sO(){let n=on();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function oO(){return!A5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yT(){try{return typeof indexedDB=="object"}catch{return!1}}function aO(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}var R5="FirebaseError",or=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=R5,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hs.prototype.create)}},hs=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?P5(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new or(i,a,r)}};function P5(n,e){return n.replace(N5,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var N5=/\{\$([^}]+)}/g;function cO(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Pi(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if(Q1(s)&&Q1(o)){if(!Pi(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function Q1(n){return n!==null&&typeof n=="object"}function Ef(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function uO(n,e){let t=new fT(n,e);return t.subscribe.bind(t)}var fT=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");k5(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=dT),i.error===void 0&&(i.error=dT),i.complete===void 0&&(i.complete=dT);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function k5(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function dT(){}var Rye=14400*1e3;function zn(n){return n&&n._delegate?n._delegate:n}var Sr=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var hc="[DEFAULT]";var _T=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new i_;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){let t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(M5(e))try{this.getOrInitializeService({instanceIdentifier:hc})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=hc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hc){return this.instances.has(e)}getOptions(e=hc){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){let r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);let s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:x5(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=hc){return this.component?this.component.multipleInstances?e:hc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function x5(n){return n===hc?void 0:n}function M5(n){return n.instantiationMode==="EAGER"}var u_=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new _T(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var O5=[],ke=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(ke||{}),L5={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},F5=ke.INFO,V5={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},U5=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=V5[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Oo=class{constructor(e){this.name=e,this._logLevel=F5,this._logHandler=U5,this._userLogHandler=null,O5.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?L5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}};var j5=(n,e)=>e.some(t=>n instanceof t),lO,dO;function B5(){return lO||(lO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $5(){return dO||(dO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var hO=new WeakMap,ET=new WeakMap,fO=new WeakMap,vT=new WeakMap,wT=new WeakMap;function H5(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Ni(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&hO.set(t,n)}).catch(()=>{}),wT.set(e,n),e}function q5(n){if(ET.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});ET.set(n,e)}var IT={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ET.get(n);if(e==="objectStoreNames")return n.objectStoreNames||fO.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ni(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function pO(n){IT=n(IT)}function z5(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(l_(this),e,...t);return fO.set(r,e.sort?e.sort():[e]),Ni(r)}:$5().includes(n)?function(...e){return n.apply(l_(this),e),Ni(hO.get(this))}:function(...e){return Ni(n.apply(l_(this),e))}}function G5(n){return typeof n=="function"?z5(n):(n instanceof IDBTransaction&&q5(n),j5(n,B5())?new Proxy(n,IT):n)}function Ni(n){if(n instanceof IDBRequest)return H5(n);if(vT.has(n))return vT.get(n);let e=G5(n);return e!==n&&(vT.set(n,e),wT.set(e,n)),e}var l_=n=>wT.get(n);function d_(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,e),a=Ni(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ni(o.result),c.oldVersion,c.newVersion,Ni(o.transaction),c)}),t&&o.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}var W5=["get","getKey","getAll","getAllKeys","count"],K5=["put","add","delete","clear"],bT=new Map;function mO(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(bT.get(e))return bT.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=K5.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||W5.includes(t)))return;let s=async function(o,...a){let c=this.transaction(o,i?"readwrite":"readonly"),d=c.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[t](...a),i&&c.done]))[0]};return bT.set(e,s),s}pO(n=>le(j({},n),{get:(e,t,r)=>mO(e,t)||n.get(e,t,r),has:(e,t)=>!!mO(e,t)||n.has(e,t)}));var CT=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Q5(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function Q5(n){return n.getComponent()?.type==="VERSION"}var ST="@firebase/app",gO="0.14.6";var ps=new Oo("@firebase/app"),Y5="@firebase/app-compat",J5="@firebase/analytics-compat",X5="@firebase/analytics",Z5="@firebase/app-check-compat",e9="@firebase/app-check",t9="@firebase/auth",n9="@firebase/auth-compat",r9="@firebase/database",i9="@firebase/data-connect",s9="@firebase/database-compat",o9="@firebase/functions",a9="@firebase/functions-compat",c9="@firebase/installations",u9="@firebase/installations-compat",l9="@firebase/messaging",d9="@firebase/messaging-compat",h9="@firebase/performance",f9="@firebase/performance-compat",p9="@firebase/remote-config",m9="@firebase/remote-config-compat",g9="@firebase/storage",y9="@firebase/storage-compat",_9="@firebase/firestore",v9="@firebase/ai",E9="@firebase/firestore-compat",I9="firebase",w9="12.6.0";var DT="[DEFAULT]",b9={[ST]:"fire-core",[Y5]:"fire-core-compat",[X5]:"fire-analytics",[J5]:"fire-analytics-compat",[e9]:"fire-app-check",[Z5]:"fire-app-check-compat",[t9]:"fire-auth",[n9]:"fire-auth-compat",[r9]:"fire-rtdb",[i9]:"fire-data-connect",[s9]:"fire-rtdb-compat",[o9]:"fire-fn",[a9]:"fire-fn-compat",[c9]:"fire-iid",[u9]:"fire-iid-compat",[l9]:"fire-fcm",[d9]:"fire-fcm-compat",[h9]:"fire-perf",[f9]:"fire-perf-compat",[p9]:"fire-rc",[m9]:"fire-rc-compat",[g9]:"fire-gcs",[y9]:"fire-gcs-compat",[_9]:"fire-fst",[E9]:"fire-fst-compat",[v9]:"fire-vertex","fire-js":"fire-js",[I9]:"fire-js-all"};var h_=new Map,T9=new Map,AT=new Map;function yO(n,e){try{n.container.addComponent(e)}catch(t){ps.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Fo(n){let e=n.name;if(AT.has(e))return ps.debug(`There were multiple attempts to register component ${e}.`),!1;AT.set(e,n);for(let t of h_.values())yO(t,n);for(let t of T9.values())yO(t,n);return!0}function wf(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ar(n){return n==null?!1:n.settings!==void 0}var C9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Lo=new hs("app","Firebase",C9);var RT=class{constructor(e,t,r){this._isDeleted=!1,this._options=j({},e),this._config=j({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Sr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Lo.create("app-deleted",{appName:this._name})}};var Vo=w9;function S9(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=j({name:DT,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Lo.create("bad-app-name",{appName:String(i)});if(t||(t=mT()),!t)throw Lo.create("no-options");let s=h_.get(i);if(s){if(Pi(t,s.options)&&Pi(r,s.config))return s;throw Lo.create("duplicate-app",{appName:i})}let o=new u_(i);for(let c of AT.values())o.addComponent(c);let a=new RT(t,r,o);return h_.set(i,a),a}function f_(n=DT){let e=h_.get(n);if(!e&&n===DT&&mT())return S9();if(!e)throw Lo.create("no-app",{appName:n});return e}function fs(n,e,t){let r=b9[n]??n;t&&(r+=`-${t}`);let i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){let o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ps.warn(o.join(" "));return}Fo(new Sr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var D9="firebase-heartbeat-database",A9=1,If="firebase-heartbeat-store",TT=null;function IO(){return TT||(TT=d_(D9,A9,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(If)}catch(t){console.warn(t)}}}}).catch(n=>{throw Lo.create("idb-open",{originalErrorMessage:n.message})})),TT}async function R9(n){try{let t=(await IO()).transaction(If),r=await t.objectStore(If).get(wO(n));return await t.done,r}catch(e){if(e instanceof or)ps.warn(e.message);else{let t=Lo.create("idb-get",{originalErrorMessage:e?.message});ps.warn(t.message)}}}async function _O(n,e){try{let r=(await IO()).transaction(If,"readwrite");await r.objectStore(If).put(e,wO(n)),await r.done}catch(t){if(t instanceof or)ps.warn(t.message);else{let r=Lo.create("idb-set",{originalErrorMessage:t?.message});ps.warn(r.message)}}}function wO(n){return`${n.name}!${n.options.appId}`}var P9=1024,N9=30,PT=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new NT(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{let t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=vO();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>N9){let i=x9(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ps.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=vO(),{heartbeatsToSend:t,unsentEntries:r}=k9(this._heartbeatsCache.heartbeats),i=vf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return ps.warn(e),""}}};function vO(){return new Date().toISOString().substring(0,10)}function k9(n,e=P9){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),EO(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),EO(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var NT=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yT()?aO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let t=await R9(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return _O(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return _O(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}};function EO(n){return vf(JSON.stringify({version:2,heartbeats:n})).length}function x9(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function M9(n){Fo(new Sr("platform-logger",e=>new CT(e),"PRIVATE")),Fo(new Sr("heartbeat",e=>new PT(e),"PRIVATE")),fs(ST,gO,n),fs(ST,gO,"esm2020"),fs("fire-js","")}M9("");function VO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var UO=VO,jO=new hs("auth","Firebase",VO());var v_=new Oo("@firebase/auth");function O9(n,...e){v_.logLevel<=ke.WARN&&v_.warn(`Auth (${Vo}): ${n}`,...e)}function m_(n,...e){v_.logLevel<=ke.ERROR&&v_.error(`Auth (${Vo}): ${n}`,...e)}function $o(n,...e){throw tC(n,...e)}function fc(n,...e){return tC(n,...e)}function BO(n,e,t){let r=le(j({},UO()),{[e]:t});return new hs("auth","Firebase",r).create(e,{appName:n.name})}function Bo(n){return BO(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tC(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return jO.create(n,...e)}function pe(n,e,...t){if(!n)throw tC(e,...t)}function ms(n){let e="INTERNAL ASSERTION FAILED: "+n;throw m_(e),new Error(e)}function Ho(n,e){n||ms(e)}function OT(){return typeof self<"u"&&self.location?.href||""}function L9(){return bO()==="http:"||bO()==="https:"}function bO(){return typeof self<"u"&&self.location?.protocol||null}function F9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(L9()||rO()||"connection"in navigator)?navigator.onLine:!0}function V9(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var pc=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ho(t>e,"Short delay should be less than long delay!"),this.isMobile=tO()||iO()}get(){return F9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function nC(n,e){Ho(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var E_=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var U9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var j9=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],B9=new pc(3e4,6e4);function Af(n,e){return n.tenantId&&!e.tenantId?le(j({},e),{tenantId:n.tenantId}):e}async function qo(n,e,t,r,i={}){return $O(n,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});let a=Ef(j({key:n.config.apiKey},o)).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);let d=j({method:e,headers:c},s);return nO()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&Mo(n.emulatorConfig.host)&&(d.credentials="include"),E_.fetch()(await qO(n,n.config.apiHost,t,a),d)})}async function $O(n,e,t){n._canInitEmulator=!1;let r=j(j({},U9),e);try{let i=new LT(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=await s.json();if("needConfirmation"in o)throw p_(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,d]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw p_(n,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw p_(n,"email-already-in-use",o);if(c==="USER_DISABLED")throw p_(n,"user-disabled",o);let h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw BO(n,h,d);$o(n,h)}}catch(i){if(i instanceof or)throw i;$o(n,"network-request-failed",{message:String(i)})}}async function HO(n,e,t,r,i={}){let s=await qo(n,e,t,r,i);return"mfaPendingCredential"in s&&$o(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function qO(n,e,t,r){let i=`${e}${t}?${r}`,s=n,o=s.config.emulator?nC(n.config,i):`${n.config.apiScheme}://${i}`;return j9.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function $9(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var LT=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(fc(this.auth,"network-request-failed")),B9.get())})}};function p_(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=fc(n,e,r);return i.customData._tokenResponse=t,i}function TO(n){return n!==void 0&&n.enterprise!==void 0}var FT=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return $9(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};async function H9(n,e){return qo(n,"GET","/v2/recaptchaConfig",Af(n,e))}async function q9(n,e){return qo(n,"POST","/v1/accounts:delete",e)}async function I_(n,e){return qo(n,"POST","/v1/accounts:lookup",e)}function Tf(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zO(n,e=!1){let t=zn(n),r=await t.getIdToken(e),i=rC(r);pe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Tf(kT(i.auth_time)),issuedAtTime:Tf(kT(i.iat)),expirationTime:Tf(kT(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function kT(n){return Number(n)*1e3}function rC(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return m_("JWT malformed, contained fewer than 3 sections"),null;try{let i=s_(t);return i?JSON.parse(i):(m_("Failed to decode base64 JWT payload"),null)}catch(i){return m_("Caught error parsing JWT payload as JSON",i?.toString()),null}}function CO(n){let e=rC(n);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function gl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof or&&z9(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function z9({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var VT=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){let t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;let r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var Sf=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tf(this.lastLoginAt),this.creationTime=Tf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function w_(n){let e=n.auth,t=await n.getIdToken(),r=await gl(n,I_(e,{idToken:t}));pe(r?.users.length,e,"internal-error");let i=r.users[0];n._notifyReloadListener(i);let s=i.providerUserInfo?.length?WO(i.providerUserInfo):[],o=G9(n.providerData,s),a=n.isAnonymous,c=!(n.email&&i.passwordHash)&&!o?.length,d=a?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Sf(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(n,h)}async function GO(n){let e=zn(n);await w_(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function G9(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function WO(n){return n.map(r=>{var i=r,{providerId:e}=i,t=cI(i,["providerId"]);return{providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}})}async function W9(n,e){let t=await $O(n,{},async()=>{let r=Ef({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=await qO(n,i,"/v1/token",`key=${s}`),a=await n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return n.emulatorConfig&&Mo(n.emulatorConfig.host)&&(c.credentials="include"),E_.fetch()(o,c)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function K9(n,e){return qo(n,"POST","/v2/accounts:revokeToken",Af(n,e))}var Cf=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):CO(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){pe(e.length!==0,"internal-error");let t=CO(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:r,refreshToken:i,expiresIn:s}=await W9(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(pe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(pe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(pe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return ms("not implemented")}};function Uo(n,e){pe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var jo=class n{constructor(s){var o=s,{uid:e,auth:t,stsTokenManager:r}=o,i=cI(o,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new VT(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Sf(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){let t=await gl(this,this.stsTokenManager.getToken(this.auth,e));return pe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return zO(this,e)}reload(){return GO(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>j({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(le(j({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await w_(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ar(this.auth.app))return Promise.reject(Bo(this.auth));let e=await this.getIdToken();return await gl(this,q9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return le(j({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>j({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){let r=t.displayName??void 0,i=t.email??void 0,s=t.phoneNumber??void 0,o=t.photoURL??void 0,a=t.tenantId??void 0,c=t._redirectEventId??void 0,d=t.createdAt??void 0,h=t.lastLoginAt??void 0,{uid:m,emailVerified:I,isAnonymous:R,providerData:k,stsTokenManager:V}=t;pe(m&&V,e,"internal-error");let O=Cf.fromJSON(this.name,V);pe(typeof m=="string",e,"internal-error"),Uo(r,e.name),Uo(i,e.name),pe(typeof I=="boolean",e,"internal-error"),pe(typeof R=="boolean",e,"internal-error"),Uo(s,e.name),Uo(o,e.name),Uo(a,e.name),Uo(c,e.name),Uo(d,e.name),Uo(h,e.name);let q=new n({uid:m,auth:e,email:i,emailVerified:I,displayName:r,isAnonymous:R,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:O,createdAt:d,lastLoginAt:h});return k&&Array.isArray(k)&&(q.providerData=k.map(X=>j({},X))),c&&(q._redirectEventId=c),q}static async _fromIdTokenResponse(e,t,r=!1){let i=new Cf;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await w_(s),s}static async _fromGetAccountInfoResponse(e,t,r){let i=t.users[0];pe(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?WO(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Cf;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Sf(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,d),c}};var SO=new Map;function gs(n){Ho(n instanceof Function,"Expected a class definition");let e=SO.get(n);return e?(Ho(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,SO.set(n,e),e)}var Q9=(()=>{class n{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){let r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),UT=Q9;function g_(n,e,t){return`firebase:${n}:${e}:${t}`}var b_=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=g_(this.userKey,i.apiKey,s),this.fullPersistenceKey=g_("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=await I_(this.auth,{idToken:e}).catch(()=>{});return t?jo._fromGetAccountInfoResponse(this.auth,t,e):null}return jo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new n(gs(UT),e,r);let i=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d),s=i[0]||gs(UT),o=g_(r,e.config.apiKey,e.name),a=null;for(let d of t)try{let h=await d._get(o);if(h){let m;if(typeof h=="string"){let I=await I_(e,{idToken:h}).catch(()=>{});if(!I)break;m=await jo._fromGetAccountInfoResponse(e,I,h)}else m=jo._fromJSON(e,h);d!==s&&(a=m),s=d;break}}catch{}let c=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new n(s,e,r):(s=c[0],a&&await s._set(o,a.toJSON()),await Promise.all(t.map(async d=>{if(d!==s)try{await d._remove(o)}catch{}})),new n(s,e,r))}};function DO(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(KO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ZO(e))return"Blackberry";if(eL(e))return"Webos";if(QO(e))return"Safari";if((e.includes("chrome/")||YO(e))&&!e.includes("edge/"))return"Chrome";if(XO(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function KO(n=on()){return/firefox\//i.test(n)}function QO(n=on()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function YO(n=on()){return/crios\//i.test(n)}function JO(n=on()){return/iemobile/i.test(n)}function XO(n=on()){return/android/i.test(n)}function ZO(n=on()){return/blackberry/i.test(n)}function eL(n=on()){return/webos/i.test(n)}function iC(n=on()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Y9(n=on()){return iC(n)&&!!window.navigator?.standalone}function J9(){return sO()&&document.documentMode===10}function tL(n=on()){return iC(n)||XO(n)||eL(n)||ZO(n)||/windows phone/i.test(n)||JO(n)}function nL(n,e=[]){let t;switch(n){case"Browser":t=DO(on());break;case"Worker":t=`${DO(on())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Vo}/${r}`}var jT=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function X9(n,e={}){return qo(n,"GET","/v2/passwordPolicy",Af(n,e))}var Z9=6,BT=class{constructor(e){let t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??Z9,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var $T=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new T_(this),this.idTokenSubscription=new T_(this),this.beforeStateQueue=new jT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=gs(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await b_.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await I_(this,{idToken:e}),r=await jo._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ar(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}let t=await this.assertedPersistence.getCurrentUser(),r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let s=this.redirectUser?._redirectEventId,o=r?._redirectEventId,a=await this.tryRedirectSignIn(e);(!s||s===o)&&a?.user&&(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await w_(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=V9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ar(this.app))return Promise.reject(Bo(this));let t=e?zn(e):null;return t&&pe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ar(this.app)?Promise.reject(Bo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ar(this.app)?Promise.reject(Bo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await X9(this),t=new BT(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hs("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await K9(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){let r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&gs(e)||this._popupRedirectResolver;pe(t,this,"argument-error"),this.redirectPersistenceManager=await b_.create(this,[gs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(t);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);let r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ar(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&O9(`Error while retrieving App Check token: ${e.error}`),e?.token}};function _l(n){return zn(n)}var T_=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=uO(t=>this.observer=t)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var N_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eG(n){N_=n}function rL(n){return N_.loadJS(n)}function tG(){return N_.recaptchaEnterpriseScript}function nG(){return N_.gapiScript}function iL(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var HT=class{constructor(){this.enterprise=new qT}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},qT=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var rG="recaptcha-enterprise",sL="NO_RECAPTCHA",zT=class{constructor(e){this.type=rG,this.auth=_l(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{H9(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let d=new FT(c);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,o(d.siteKey)}}).catch(c=>{a(c)})})}function i(s,o,a){let c=window.grecaptcha;TO(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(d=>{o(d)}).catch(()=>{o(sL)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HT().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!t&&TO(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=tG();c.length!==0&&(c+=a),rL(c).then(()=>{i(a,s,o)}).catch(d=>{o(d)})}}).catch(a=>{o(a)})})}};async function bf(n,e,t,r=!1,i=!1){let s=new zT(n),o;if(i)o=sL;else try{o=await s.verify(t)}catch{o=await s.verify(t,!0)}let a=j({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,d=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function iG(n,e,t,r,i){if(i==="EMAIL_PASSWORD_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=await bf(n,e,t,t==="getOobCode");return r(n,s)}else return r(n,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=await bf(n,e,t,t==="getOobCode");return r(n,o)}else return Promise.reject(s)});else if(i==="PHONE_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){let s=await bf(n,e,t);return r(n,s).catch(async o=>{if(n._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(o.code==="auth/missing-recaptcha-token"||o.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let a=await bf(n,e,t,!1,!0);return r(n,a)}return Promise.reject(o)})}else{let s=await bf(n,e,t,!1,!0);return r(n,s)}else return Promise.reject(i+" provider is not supported.")}function oL(n,e){let t=wf(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(Pi(s,e??{}))return i;$o(i,"already-initialized")}return t.initialize({options:e})}function sG(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(gs);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function aL(n,e,t){let r=_l(n);pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=cL(e),{host:o,port:a}=oG(e),c=a===null?"":`:${a}`,d={url:`${s}//${o}${c}/`},h=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){pe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),pe(Pi(d,r.config.emulator)&&Pi(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Mo(o)?(a_(`${s}//${o}${c}`),c_("Auth",!0)):i||aG()}function cL(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function oG(n){let e=cL(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:AO(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:AO(o)}}}function AO(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function aG(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var C_=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ms("not implemented")}_getIdTokenResponse(e){return ms("not implemented")}_linkToIdToken(e,t){return ms("not implemented")}_getReauthenticationResolver(e){return ms("not implemented")}};async function xT(n,e){return HO(n,"POST","/v1/accounts:signInWithIdp",Af(n,e))}var S_=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var GT=class extends S_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};async function cG(n,e){return HO(n,"POST","/v1/accounts:signUp",Af(n,e))}var yl=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){let s=await jo._fromIdTokenResponse(e,r,i),o=RO(r);return new n({user:s,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);let i=RO(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})}};function RO(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var WT=class n extends or{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function uL(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?WT._fromErrorAndOperation(n,s,e,r):s})}async function uG(n,e,t=!1){let r=await gl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return yl._forOperation(n,"link",r)}async function lG(n,e,t=!1){let{auth:r}=n;if(ar(r.app))return Promise.reject(Bo(r));let i="reauthenticate";try{let s=await gl(n,uL(r,i,e,n),t);pe(s.idToken,r,"internal-error");let o=rC(s.idToken);pe(o,r,"internal-error");let{sub:a}=o;return pe(n.uid===a,r,"user-mismatch"),yl._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&$o(r,"user-mismatch"),s}}async function dG(n,e,t=!1){if(ar(n.app))return Promise.reject(Bo(n));let r="signIn",i=await uL(n,r,e),s=await yl._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function hG(n){let e=_l(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function sC(n,e,t){if(ar(n.app))return Promise.reject(Bo(n));let r=_l(n),o=await iG(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cG,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&hG(n),c}),a=await yl._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}async function fG(n,e){return qo(n,"POST","/v1/accounts:update",e)}async function oC(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;let r=zn(n),s={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},o=await gl(r,fG(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;let a=r.providerData.find(({providerId:c})=>c==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function lL(n,e,t,r){return zn(n).onIdTokenChanged(e,t,r)}function dL(n,e,t){return zn(n).beforeAuthStateChanged(e,t)}function aC(n,e,t,r){return zn(n).onAuthStateChanged(e,t,r)}var D_="__sak";var A_=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(D_,"1"),this.storage.removeItem(D_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var pG=1e3,mG=10,gG=(()=>{class n extends A_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tL(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,d)=>{this.notifyListeners(a,d)});return}let i=t.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);J9()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,mG):s()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},pG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){let r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}return n.type="LOCAL",n})(),hL=gG;var yG=(()=>{class n extends A_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),cC=yG;function _G(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}var vG=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){let r=t,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(async h=>h(r.origin,o)),d=await _G(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:d})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function fL(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var KT=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let d=fL("",20);i.port1.start();let h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){let I=m;if(I.data.eventId===d)switch(I.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(I.data.response);break;default:clearTimeout(h),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}};function ki(){return window}function EG(n){ki().location.href=n}function pL(){return typeof ki().WorkerGlobalScope<"u"&&typeof ki().importScripts=="function"}async function IG(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wG(){return navigator?.serviceWorker?.controller||null}function bG(){return pL()?self:null}var mL="firebaseLocalStorageDb",TG=1,R_="firebaseLocalStorage",gL="fbase_key",mc=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function k_(n,e){return n.transaction([R_],e?"readwrite":"readonly").objectStore(R_)}function CG(){let n=indexedDB.deleteDatabase(mL);return new mc(n).toPromise()}function QT(){let n=indexedDB.open(mL,TG);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(R_,{keyPath:gL})}catch(i){t(i)}}),n.addEventListener("success",async()=>{let r=n.result;r.objectStoreNames.contains(R_)?e(r):(r.close(),await CG(),e(await QT()))})})}async function PO(n,e,t){let r=k_(n,!0).put({[gL]:e,value:t});return new mc(r).toPromise()}async function SG(n,e){let t=k_(n,!1).get(e),r=await new mc(t).toPromise();return r===void 0?null:r.value}function NO(n,e){let t=k_(n,!0).delete(e);return new mc(t).toPromise()}var DG=800,AG=3,RG=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await QT(),this.db)}async _withRetries(t){let r=0;for(;;)try{let i=await this._openDb();return await t(i)}catch(i){if(r++>AG)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pL()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vG._getInstance(bG()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await IG(),!this.activeServiceWorker)return;this.sender=new KT(this.activeServiceWorker);let t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||wG()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let t=await QT();return await PO(t,D_,"1"),await NO(t,D_),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>PO(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){let r=await this._withRetries(i=>SG(i,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>NO(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){let t=await this._withRetries(s=>{let o=k_(s,!1).getAll();return new mc(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),yL=RG;var r_e=iL("rcb"),i_e=new pc(3e4,6e4);function PG(n,e){return e?gs(e):(pe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Df=class extends C_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xT(e,this._buildIdpRequest())}_linkToIdToken(e,t){return xT(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return xT(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function NG(n){return dG(n.auth,new Df(n),n.bypassAuthState)}function kG(n){let{auth:e,user:t}=n;return pe(t,e,"internal-error"),lG(t,new Df(n),n.bypassAuthState)}async function xG(n){let{auth:e,user:t}=n;return pe(t,e,"internal-error"),uG(t,new Df(n),n.bypassAuthState)}var YT=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return NG;case"linkViaPopup":case"linkViaRedirect":return xG;case"reauthViaPopup":case"reauthViaRedirect":return kG;default:$o(this.auth,"internal-error")}}resolve(e){Ho(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ho(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var s_e=new pc(2e3,1e4);var MG="pendingRedirect",y_=new Map,JT=class extends YT{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=y_.get(this.auth._key());if(!e){try{let r=await OG(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}y_.set(this.auth._key(),e)}return this.bypassAuthState||y_.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function OG(n,e){let t=VG(e),r=FG(n);if(!await r._isAvailable())return!1;let i=await r._get(t)==="true";return await r._remove(t),i}function LG(n,e){y_.set(n._key(),e)}function FG(n){return gs(n._redirectPersistence)}function VG(n){return g_(MG,n.config.apiKey,n.name)}async function UG(n,e,t=!1){if(ar(n.app))return Promise.reject(Bo(n));let r=_l(n),i=PG(r,e),o=await new JT(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}var jG=600*1e3,XT=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!BG(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!_L(e)){let r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(fc(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jG&&this.cachedEventUids.clear(),this.cachedEventUids.has(kO(e))}saveEventToCache(e){this.cachedEventUids.add(kO(e)),this.lastProcessedEventTime=Date.now()}};function kO(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function _L({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function BG(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _L(n);default:return!1}}async function $G(n,e={}){return qo(n,"GET","/v1/projects",e)}var HG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qG=/^https?/;async function zG(n){if(n.config.emulator)return;let{authorizedDomains:e}=await $G(n);for(let t of e)try{if(GG(t))return}catch{}$o(n,"unauthorized-domain")}function GG(n){let e=OT(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!qG.test(t))return!1;if(HG.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var WG=new pc(3e4,6e4);function xO(){let n=ki().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function KG(n){return new Promise((e,t)=>{function r(){xO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xO(),t(fc(n,"network-request-failed"))},timeout:WG.get()})}if(ki().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ki().gapi?.load)r();else{let i=iL("iframefcb");return ki()[i]=()=>{gapi.load?r():t(fc(n,"network-request-failed"))},rL(`${nG()}?onload=${i}`).catch(s=>t(s))}}).catch(e=>{throw __=null,e})}var __=null;function QG(n){return __=__||KG(n),__}var YG=new pc(5e3,15e3),JG="__/auth/iframe",XG="emulator/auth/iframe",ZG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},e8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function t8(n){let e=n.config;pe(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?nC(e,XG):`https://${n.config.authDomain}/${JG}`,r={apiKey:e.apiKey,appName:n.name,v:Vo},i=e8.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Ef(r).slice(1)}`}async function n8(n){let e=await QG(n),t=ki().gapi;return pe(t,n,"internal-error"),e.open({where:document.body,url:t8(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZG,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});let o=fc(n,"network-request-failed"),a=ki().setTimeout(()=>{s(o)},YG.get());function c(){ki().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})}))}var r8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},i8=500,s8=600,o8="_blank",a8="http://localhost",P_=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function c8(n,e,t,r=i8,i=s8){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=le(j({},r8),{width:r.toString(),height:i.toString(),top:s,left:o}),d=on().toLowerCase();t&&(a=YO(d)?o8:t),KO(d)&&(e=e||a8,c.scrollbars="yes");let h=Object.entries(c).reduce((I,[R,k])=>`${I}${R}=${k},`,"");if(Y9(d)&&a!=="_self")return u8(e||"",a),new P_(null);let m=window.open(e||"",a,h);pe(m,n,"popup-blocked");try{m.focus()}catch{}return new P_(m)}function u8(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var l8="__/auth/handler",d8="emulator/auth/handler",h8=encodeURIComponent("fac");async function MO(n,e,t,r,i,s){pe(n.config.authDomain,n,"auth-domain-config-required"),pe(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Vo,eventId:i};if(e instanceof S_){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",cO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,m]of Object.entries(s||{}))o[h]=m}if(e instanceof GT){let h=e.getScopes().filter(m=>m!=="");h.length>0&&(o.scopes=h.join(","))}n.tenantId&&(o.tid=n.tenantId);let a=o;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let c=await n._getAppCheckToken(),d=c?`#${h8}=${encodeURIComponent(c)}`:"";return`${f8(n)}?${Ef(a).slice(1)}${d}`}function f8({config:n}){return n.emulator?nC(n,d8):`https://${n.authDomain}/${l8}`}var MT="webStorageSupport",ZT=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cC,this._completeRedirectFn=UG,this._overrideRedirectResult=LG}async _openPopup(e,t,r,i){Ho(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");let s=await MO(e,t,r,OT(),i);return c8(e,s,fL())}async _openRedirect(e,t,r,i){await this._originValidation(e);let s=await MO(e,t,r,OT(),i);return EG(s),new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Ho(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){let t=await n8(e),r=new XT(e);return t.register("authEvent",i=>(pe(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(MT,{type:MT},i=>{let s=i?.[0]?.[MT];s!==void 0&&t(!!s),$o(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=zG(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return tL()||QO()||iC()}},vL=ZT;var OO="@firebase/auth",LO="1.12.0";var eC=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function p8(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function m8(n){Fo(new Sr("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;pe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nL(n)},d=new $T(r,i,s,c);return sG(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Fo(new Sr("auth-internal",e=>{let t=_l(e.getProvider("auth").getImmediate());return(r=>new eC(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),fs(OO,LO,p8(n)),fs(OO,LO,"esm2020")}var g8=300,y8=gT("authIdTokenMaxAge")||g8,FO=null,_8=n=>async e=>{let t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>y8)return;let i=t?.token;FO!==i&&(FO=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function uC(n=f_()){let e=wf(n,"auth");if(e.isInitialized())return e.getImmediate();let t=oL(n,{popupRedirectResolver:vL,persistence:[yL,hL,cC]}),r=gT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=_8(s.toString());dL(t,o,()=>o(t.currentUser)),lL(t,a=>o(a))}}let i=pT("auth");return i&&aL(t,`http://${i}`),t}function v8(){return document.getElementsByTagName("head")?.[0]??document}eG({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=fc("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",v8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});m8("Browser");var EL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},IL={};var ys,lC;(function(){var n;function e(T,_){function E(){}E.prototype=_.prototype,T.F=_.prototype,T.prototype=new E,T.prototype.constructor=T,T.D=function(b,w,A){for(var v=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)v[dt-2]=arguments[dt];return _.prototype[w].apply(b,v)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,_,E){E||(E=0);let b=Array(16);if(typeof _=="string")for(var w=0;w<16;++w)b[w]=_.charCodeAt(E++)|_.charCodeAt(E++)<<8|_.charCodeAt(E++)<<16|_.charCodeAt(E++)<<24;else for(w=0;w<16;++w)b[w]=_[E++]|_[E++]<<8|_[E++]<<16|_[E++]<<24;_=T.g[0],E=T.g[1],w=T.g[2];let A=T.g[3],v;v=_+(A^E&(w^A))+b[0]+3614090360&4294967295,_=E+(v<<7&4294967295|v>>>25),v=A+(w^_&(E^w))+b[1]+3905402710&4294967295,A=_+(v<<12&4294967295|v>>>20),v=w+(E^A&(_^E))+b[2]+606105819&4294967295,w=A+(v<<17&4294967295|v>>>15),v=E+(_^w&(A^_))+b[3]+3250441966&4294967295,E=w+(v<<22&4294967295|v>>>10),v=_+(A^E&(w^A))+b[4]+4118548399&4294967295,_=E+(v<<7&4294967295|v>>>25),v=A+(w^_&(E^w))+b[5]+1200080426&4294967295,A=_+(v<<12&4294967295|v>>>20),v=w+(E^A&(_^E))+b[6]+2821735955&4294967295,w=A+(v<<17&4294967295|v>>>15),v=E+(_^w&(A^_))+b[7]+4249261313&4294967295,E=w+(v<<22&4294967295|v>>>10),v=_+(A^E&(w^A))+b[8]+1770035416&4294967295,_=E+(v<<7&4294967295|v>>>25),v=A+(w^_&(E^w))+b[9]+2336552879&4294967295,A=_+(v<<12&4294967295|v>>>20),v=w+(E^A&(_^E))+b[10]+4294925233&4294967295,w=A+(v<<17&4294967295|v>>>15),v=E+(_^w&(A^_))+b[11]+2304563134&4294967295,E=w+(v<<22&4294967295|v>>>10),v=_+(A^E&(w^A))+b[12]+1804603682&4294967295,_=E+(v<<7&4294967295|v>>>25),v=A+(w^_&(E^w))+b[13]+4254626195&4294967295,A=_+(v<<12&4294967295|v>>>20),v=w+(E^A&(_^E))+b[14]+2792965006&4294967295,w=A+(v<<17&4294967295|v>>>15),v=E+(_^w&(A^_))+b[15]+1236535329&4294967295,E=w+(v<<22&4294967295|v>>>10),v=_+(w^A&(E^w))+b[1]+4129170786&4294967295,_=E+(v<<5&4294967295|v>>>27),v=A+(E^w&(_^E))+b[6]+3225465664&4294967295,A=_+(v<<9&4294967295|v>>>23),v=w+(_^E&(A^_))+b[11]+643717713&4294967295,w=A+(v<<14&4294967295|v>>>18),v=E+(A^_&(w^A))+b[0]+3921069994&4294967295,E=w+(v<<20&4294967295|v>>>12),v=_+(w^A&(E^w))+b[5]+3593408605&4294967295,_=E+(v<<5&4294967295|v>>>27),v=A+(E^w&(_^E))+b[10]+38016083&4294967295,A=_+(v<<9&4294967295|v>>>23),v=w+(_^E&(A^_))+b[15]+3634488961&4294967295,w=A+(v<<14&4294967295|v>>>18),v=E+(A^_&(w^A))+b[4]+3889429448&4294967295,E=w+(v<<20&4294967295|v>>>12),v=_+(w^A&(E^w))+b[9]+568446438&4294967295,_=E+(v<<5&4294967295|v>>>27),v=A+(E^w&(_^E))+b[14]+3275163606&4294967295,A=_+(v<<9&4294967295|v>>>23),v=w+(_^E&(A^_))+b[3]+4107603335&4294967295,w=A+(v<<14&4294967295|v>>>18),v=E+(A^_&(w^A))+b[8]+1163531501&4294967295,E=w+(v<<20&4294967295|v>>>12),v=_+(w^A&(E^w))+b[13]+2850285829&4294967295,_=E+(v<<5&4294967295|v>>>27),v=A+(E^w&(_^E))+b[2]+4243563512&4294967295,A=_+(v<<9&4294967295|v>>>23),v=w+(_^E&(A^_))+b[7]+1735328473&4294967295,w=A+(v<<14&4294967295|v>>>18),v=E+(A^_&(w^A))+b[12]+2368359562&4294967295,E=w+(v<<20&4294967295|v>>>12),v=_+(E^w^A)+b[5]+4294588738&4294967295,_=E+(v<<4&4294967295|v>>>28),v=A+(_^E^w)+b[8]+2272392833&4294967295,A=_+(v<<11&4294967295|v>>>21),v=w+(A^_^E)+b[11]+1839030562&4294967295,w=A+(v<<16&4294967295|v>>>16),v=E+(w^A^_)+b[14]+4259657740&4294967295,E=w+(v<<23&4294967295|v>>>9),v=_+(E^w^A)+b[1]+2763975236&4294967295,_=E+(v<<4&4294967295|v>>>28),v=A+(_^E^w)+b[4]+1272893353&4294967295,A=_+(v<<11&4294967295|v>>>21),v=w+(A^_^E)+b[7]+4139469664&4294967295,w=A+(v<<16&4294967295|v>>>16),v=E+(w^A^_)+b[10]+3200236656&4294967295,E=w+(v<<23&4294967295|v>>>9),v=_+(E^w^A)+b[13]+681279174&4294967295,_=E+(v<<4&4294967295|v>>>28),v=A+(_^E^w)+b[0]+3936430074&4294967295,A=_+(v<<11&4294967295|v>>>21),v=w+(A^_^E)+b[3]+3572445317&4294967295,w=A+(v<<16&4294967295|v>>>16),v=E+(w^A^_)+b[6]+76029189&4294967295,E=w+(v<<23&4294967295|v>>>9),v=_+(E^w^A)+b[9]+3654602809&4294967295,_=E+(v<<4&4294967295|v>>>28),v=A+(_^E^w)+b[12]+3873151461&4294967295,A=_+(v<<11&4294967295|v>>>21),v=w+(A^_^E)+b[15]+530742520&4294967295,w=A+(v<<16&4294967295|v>>>16),v=E+(w^A^_)+b[2]+3299628645&4294967295,E=w+(v<<23&4294967295|v>>>9),v=_+(w^(E|~A))+b[0]+4096336452&4294967295,_=E+(v<<6&4294967295|v>>>26),v=A+(E^(_|~w))+b[7]+1126891415&4294967295,A=_+(v<<10&4294967295|v>>>22),v=w+(_^(A|~E))+b[14]+2878612391&4294967295,w=A+(v<<15&4294967295|v>>>17),v=E+(A^(w|~_))+b[5]+4237533241&4294967295,E=w+(v<<21&4294967295|v>>>11),v=_+(w^(E|~A))+b[12]+1700485571&4294967295,_=E+(v<<6&4294967295|v>>>26),v=A+(E^(_|~w))+b[3]+2399980690&4294967295,A=_+(v<<10&4294967295|v>>>22),v=w+(_^(A|~E))+b[10]+4293915773&4294967295,w=A+(v<<15&4294967295|v>>>17),v=E+(A^(w|~_))+b[1]+2240044497&4294967295,E=w+(v<<21&4294967295|v>>>11),v=_+(w^(E|~A))+b[8]+1873313359&4294967295,_=E+(v<<6&4294967295|v>>>26),v=A+(E^(_|~w))+b[15]+4264355552&4294967295,A=_+(v<<10&4294967295|v>>>22),v=w+(_^(A|~E))+b[6]+2734768916&4294967295,w=A+(v<<15&4294967295|v>>>17),v=E+(A^(w|~_))+b[13]+1309151649&4294967295,E=w+(v<<21&4294967295|v>>>11),v=_+(w^(E|~A))+b[4]+4149444226&4294967295,_=E+(v<<6&4294967295|v>>>26),v=A+(E^(_|~w))+b[11]+3174756917&4294967295,A=_+(v<<10&4294967295|v>>>22),v=w+(_^(A|~E))+b[2]+718787259&4294967295,w=A+(v<<15&4294967295|v>>>17),v=E+(A^(w|~_))+b[9]+3951481745&4294967295,T.g[0]=T.g[0]+_&4294967295,T.g[1]=T.g[1]+(w+(v<<21&4294967295|v>>>11))&4294967295,T.g[2]=T.g[2]+w&4294967295,T.g[3]=T.g[3]+A&4294967295}r.prototype.v=function(T,_){_===void 0&&(_=T.length);let E=_-this.blockSize,b=this.C,w=this.h,A=0;for(;A<_;){if(w==0)for(;A<=E;)i(this,T,A),A+=this.blockSize;if(typeof T=="string"){for(;A<_;)if(b[w++]=T.charCodeAt(A++),w==this.blockSize){i(this,b),w=0;break}}else for(;A<_;)if(b[w++]=T[A++],w==this.blockSize){i(this,b),w=0;break}}this.h=w,this.o+=_},r.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var _=1;_<T.length-8;++_)T[_]=0;_=this.o*8;for(var E=T.length-8;E<T.length;++E)T[E]=_&255,_/=256;for(this.v(T),T=Array(16),_=0,E=0;E<4;++E)for(let b=0;b<32;b+=8)T[_++]=this.g[E]>>>b&255;return T};function s(T,_){var E=a;return Object.prototype.hasOwnProperty.call(E,T)?E[T]:E[T]=_(T)}function o(T,_){this.h=_;let E=[],b=!0;for(let w=T.length-1;w>=0;w--){let A=T[w]|0;b&&A==_||(E[w]=A,b=!1)}this.g=E}var a={};function c(T){return-128<=T&&T<128?s(T,function(_){return new o([_|0],_<0?-1:0)}):new o([T|0],T<0?-1:0)}function d(T){if(isNaN(T)||!isFinite(T))return m;if(T<0)return O(d(-T));let _=[],E=1;for(let b=0;T>=E;b++)_[b]=T/E|0,E*=4294967296;return new o(_,0)}function h(T,_){if(T.length==0)throw Error("number format error: empty string");if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(T.charAt(0)=="-")return O(h(T.substring(1),_));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');let E=d(Math.pow(_,8)),b=m;for(let A=0;A<T.length;A+=8){var w=Math.min(8,T.length-A);let v=parseInt(T.substring(A,A+w),_);w<8?(w=d(Math.pow(_,w)),b=b.j(w).add(d(v))):(b=b.j(E),b=b.add(d(v)))}return b}var m=c(0),I=c(1),R=c(16777216);n=o.prototype,n.m=function(){if(V(this))return-O(this).m();let T=0,_=1;for(let E=0;E<this.g.length;E++){let b=this.i(E);T+=(b>=0?b:4294967296+b)*_,_*=4294967296}return T},n.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(k(this))return"0";if(V(this))return"-"+O(this).toString(T);let _=d(Math.pow(T,6));var E=this;let b="";for(;;){let w=Pe(E,_).g;E=q(E,w.j(_));let A=((E.g.length>0?E.g[0]:E.h)>>>0).toString(T);if(E=w,k(E))return A+b;for(;A.length<6;)A="0"+A;b=A+b}},n.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function k(T){if(T.h!=0)return!1;for(let _=0;_<T.g.length;_++)if(T.g[_]!=0)return!1;return!0}function V(T){return T.h==-1}n.l=function(T){return T=q(this,T),V(T)?-1:k(T)?0:1};function O(T){let _=T.g.length,E=[];for(let b=0;b<_;b++)E[b]=~T.g[b];return new o(E,~T.h).add(I)}n.abs=function(){return V(this)?O(this):this},n.add=function(T){let _=Math.max(this.g.length,T.g.length),E=[],b=0;for(let w=0;w<=_;w++){let A=b+(this.i(w)&65535)+(T.i(w)&65535),v=(A>>>16)+(this.i(w)>>>16)+(T.i(w)>>>16);b=v>>>16,A&=65535,v&=65535,E[w]=v<<16|A}return new o(E,E[E.length-1]&-2147483648?-1:0)};function q(T,_){return T.add(O(_))}n.j=function(T){if(k(this)||k(T))return m;if(V(this))return V(T)?O(this).j(O(T)):O(O(this).j(T));if(V(T))return O(this.j(O(T)));if(this.l(R)<0&&T.l(R)<0)return d(this.m()*T.m());let _=this.g.length+T.g.length,E=[];for(var b=0;b<2*_;b++)E[b]=0;for(b=0;b<this.g.length;b++)for(let w=0;w<T.g.length;w++){let A=this.i(b)>>>16,v=this.i(b)&65535,dt=T.i(w)>>>16,Vn=T.i(w)&65535;E[2*b+2*w]+=v*Vn,X(E,2*b+2*w),E[2*b+2*w+1]+=A*Vn,X(E,2*b+2*w+1),E[2*b+2*w+1]+=v*dt,X(E,2*b+2*w+1),E[2*b+2*w+2]+=A*dt,X(E,2*b+2*w+2)}for(T=0;T<_;T++)E[T]=E[2*T+1]<<16|E[2*T];for(T=_;T<2*_;T++)E[T]=0;return new o(E,0)};function X(T,_){for(;(T[_]&65535)!=T[_];)T[_+1]+=T[_]>>>16,T[_]&=65535,_++}function ne(T,_){this.g=T,this.h=_}function Pe(T,_){if(k(_))throw Error("division by zero");if(k(T))return new ne(m,m);if(V(T))return _=Pe(O(T),_),new ne(O(_.g),O(_.h));if(V(_))return _=Pe(T,O(_)),new ne(O(_.g),_.h);if(T.g.length>30){if(V(T)||V(_))throw Error("slowDivide_ only works with positive integers.");for(var E=I,b=_;b.l(T)<=0;)E=ut(E),b=ut(b);var w=Ne(E,1),A=Ne(b,1);for(b=Ne(b,2),E=Ne(E,2);!k(b);){var v=A.add(b);v.l(T)<=0&&(w=w.add(E),A=v),b=Ne(b,1),E=Ne(E,1)}return _=q(T,w.j(_)),new ne(w,_)}for(w=m;T.l(_)>=0;){for(E=Math.max(1,Math.floor(T.m()/_.m())),b=Math.ceil(Math.log(E)/Math.LN2),b=b<=48?1:Math.pow(2,b-48),A=d(E),v=A.j(_);V(v)||v.l(T)>0;)E-=b,A=d(E),v=A.j(_);k(A)&&(A=I),w=w.add(A),T=q(T,v)}return new ne(w,T)}n.B=function(T){return Pe(this,T).h},n.and=function(T){let _=Math.max(this.g.length,T.g.length),E=[];for(let b=0;b<_;b++)E[b]=this.i(b)&T.i(b);return new o(E,this.h&T.h)},n.or=function(T){let _=Math.max(this.g.length,T.g.length),E=[];for(let b=0;b<_;b++)E[b]=this.i(b)|T.i(b);return new o(E,this.h|T.h)},n.xor=function(T){let _=Math.max(this.g.length,T.g.length),E=[];for(let b=0;b<_;b++)E[b]=this.i(b)^T.i(b);return new o(E,this.h^T.h)};function ut(T){let _=T.g.length+1,E=[];for(let b=0;b<_;b++)E[b]=T.i(b)<<1|T.i(b-1)>>>31;return new o(E,T.h)}function Ne(T,_){let E=_>>5;_%=32;let b=T.g.length-E,w=[];for(let A=0;A<b;A++)w[A]=_>0?T.i(A+E)>>>_|T.i(A+E+1)<<32-_:T.i(A+E);return new o(w,T.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,lC=IL.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,ys=IL.Integer=o}).apply(typeof EL<"u"?EL:typeof self<"u"?self:typeof window<"u"?window:{});var x_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_s={};var dC,E8,vl,hC,Rf,M_,fC,pC,mC;(function(){var n,e=Object.defineProperty;function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof x_=="object"&&x_];for(var p=0;p<l.length;++p){var y=l[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=t(this);function i(l,p){if(p)e:{var y=r;l=l.split(".");for(var S=0;S<l.length-1;S++){var x=l[S];if(!(x in y))break e;y=y[x]}l=l[l.length-1],S=y[l],p=p(S),p!=S&&p!=null&&e(y,l,{configurable:!0,writable:!0,value:p})}}i("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(l){return l||function(p){var y=[],S;for(S in p)Object.prototype.hasOwnProperty.call(p,S)&&y.push([S,p[S]]);return y}});var s=s||{},o=this||self;function a(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function c(l,p,y){return l.call.apply(l.bind,arguments)}function d(l,p,y){return d=c,d.apply(null,arguments)}function h(l,p){var y=Array.prototype.slice.call(arguments,1);return function(){var S=y.slice();return S.push.apply(S,arguments),l.apply(this,S)}}function m(l,p){function y(){}y.prototype=p.prototype,l.Z=p.prototype,l.prototype=new y,l.prototype.constructor=l,l.Ob=function(S,x,L){for(var W=Array(arguments.length-2),he=2;he<arguments.length;he++)W[he-2]=arguments[he];return p.prototype[x].apply(S,W)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function R(l){let p=l.length;if(p>0){let y=Array(p);for(let S=0;S<p;S++)y[S]=l[S];return y}return[]}function k(l,p){for(let S=1;S<arguments.length;S++){let x=arguments[S];var y=typeof x;if(y=y!="object"?y:x?Array.isArray(x)?"array":y:"null",y=="array"||y=="object"&&typeof x.length=="number"){y=l.length||0;let L=x.length||0;l.length=y+L;for(let W=0;W<L;W++)l[y+W]=x[W]}else l.push(x)}}class V{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function O(l){o.setTimeout(()=>{throw l},0)}function q(){var l=T;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class X{constructor(){this.h=this.g=null}add(p,y){let S=ne.get();S.set(p,y),this.h?this.h.next=S:this.g=S,this.h=S}}var ne=new V(()=>new Pe,l=>l.reset());class Pe{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let ut,Ne=!1,T=new X,_=()=>{let l=Promise.resolve(void 0);ut=()=>{l.then(E)}};function E(){for(var l;l=q();){try{l.h.call(l.g)}catch(y){O(y)}var p=ne;p.j(l),p.h<100&&(p.h++,l.next=p.g,p.g=l)}Ne=!1}function b(){this.u=this.u,this.C=this.C}b.prototype.u=!1,b.prototype.dispose=function(){this.u||(this.u=!0,this.N())},b.prototype[Symbol.dispose]=function(){this.dispose()},b.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function w(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}w.prototype.h=function(){this.defaultPrevented=!0};var A=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let y=()=>{};o.addEventListener("test",y,p),o.removeEventListener("test",y,p)}catch{}return l})();function v(l){return/^[\s\xa0]*$/.test(l)}function dt(l,p){w.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,p)}m(dt,w),dt.prototype.init=function(l,p){let y=this.type=l.type,S=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget,p||(y=="mouseover"?p=l.fromElement:y=="mouseout"&&(p=l.toElement)),this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&dt.Z.h.call(this)},dt.prototype.h=function(){dt.Z.h.call(this);let l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Vn="closure_listenable_"+(Math.random()*1e6|0),iI=0;function fa(l,p,y,S,x){this.listener=l,this.proxy=null,this.src=p,this.type=y,this.capture=!!S,this.ha=x,this.key=++iI,this.da=this.fa=!1}function si(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Ls(l,p,y){for(let S in l)p.call(y,l[S],S,l)}function Kp(l,p){for(let y in l)p.call(void 0,l[y],y,l)}function Qp(l){let p={};for(let y in l)p[y]=l[y];return p}let Nr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $t(l,p){let y,S;for(let x=1;x<arguments.length;x++){S=arguments[x];for(y in S)l[y]=S[y];for(let L=0;L<Nr.length;L++)y=Nr[L],Object.prototype.hasOwnProperty.call(S,y)&&(l[y]=S[y])}}function Wc(l){this.src=l,this.g={},this.h=0}Wc.prototype.add=function(l,p,y,S,x){let L=l.toString();l=this.g[L],l||(l=this.g[L]=[],this.h++);let W=Vd(l,p,S,x);return W>-1?(p=l[W],y||(p.fa=!1)):(p=new fa(p,this.src,L,!!S,x),p.fa=y,l.push(p)),p};function Wi(l,p){let y=p.type;if(y in l.g){var S=l.g[y],x=Array.prototype.indexOf.call(S,p,void 0),L;(L=x>=0)&&Array.prototype.splice.call(S,x,1),L&&(si(p),l.g[y].length==0&&(delete l.g[y],l.h--))}}function Vd(l,p,y,S){for(let x=0;x<l.length;++x){let L=l[x];if(!L.da&&L.listener==p&&L.capture==!!y&&L.ha==S)return x}return-1}var Ki="closure_lm_"+(Math.random()*1e6|0),Ud={};function Yp(l,p,y,S,x){if(S&&S.once)return Qc(l,p,y,S,x);if(Array.isArray(p)){for(let L=0;L<p.length;L++)Yp(l,p[L],y,S,x);return null}return y=Zc(y),l&&l[Vn]?l.J(p,y,a(S)?!!S.capture:!!S,x):pa(l,p,y,!1,S,x)}function pa(l,p,y,S,x,L){if(!p)throw Error("Invalid event type");let W=a(x)?!!x.capture:!!x,he=Xc(l);if(he||(l[Ki]=he=new Wc(l)),y=he.add(p,y,S,W,L),y.proxy)return y;if(S=Kc(),y.proxy=S,S.src=l,S.listener=y,l.addEventListener)A||(x=W),x===void 0&&(x=!1),l.addEventListener(p.toString(),S,x);else if(l.attachEvent)l.attachEvent(Jc(p.toString()),S);else if(l.addListener&&l.removeListener)l.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Kc(){function l(y){return p.call(l.src,l.listener,y)}let p=Jp;return l}function Qc(l,p,y,S,x){if(Array.isArray(p)){for(let L=0;L<p.length;L++)Qc(l,p[L],y,S,x);return null}return y=Zc(y),l&&l[Vn]?l.K(p,y,a(S)?!!S.capture:!!S,x):pa(l,p,y,!0,S,x)}function Yc(l,p,y,S,x){if(Array.isArray(p))for(var L=0;L<p.length;L++)Yc(l,p[L],y,S,x);else S=a(S)?!!S.capture:!!S,y=Zc(y),l&&l[Vn]?(l=l.i,L=String(p).toString(),L in l.g&&(p=l.g[L],y=Vd(p,y,S,x),y>-1&&(si(p[y]),Array.prototype.splice.call(p,y,1),p.length==0&&(delete l.g[L],l.h--)))):l&&(l=Xc(l))&&(p=l.g[p.toString()],l=-1,p&&(l=Vd(p,y,S,x)),(y=l>-1?p[l]:null)&&ma(y))}function ma(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[Vn])Wi(p.i,l);else{var y=l.type,S=l.proxy;p.removeEventListener?p.removeEventListener(y,S,l.capture):p.detachEvent?p.detachEvent(Jc(y),S):p.addListener&&p.removeListener&&p.removeListener(S),(y=Xc(p))?(Wi(y,l),y.h==0&&(y.src=null,p[Ki]=null)):si(l)}}}function Jc(l){return l in Ud?Ud[l]:Ud[l]="on"+l}function Jp(l,p){if(l.da)l=!0;else{p=new dt(p,this);let y=l.listener,S=l.ha||l.src;l.fa&&ma(l),l=y.call(S,p)}return l}function Xc(l){return l=l[Ki],l instanceof Wc?l:null}var jd="__closure_events_fn_"+(Math.random()*1e9>>>0);function Zc(l){return typeof l=="function"?l:(l[jd]||(l[jd]=function(p){return l.handleEvent(p)}),l[jd])}function Ht(){b.call(this),this.i=new Wc(this),this.M=this,this.G=null}m(Ht,b),Ht.prototype[Vn]=!0,Ht.prototype.removeEventListener=function(l,p,y,S){Yc(this,l,p,y,S)};function qt(l,p){var y,S=l.G;if(S)for(y=[];S;S=S.G)y.push(S);if(l=l.M,S=p.type||p,typeof p=="string")p=new w(p,l);else if(p instanceof w)p.target=p.target||l;else{var x=p;p=new w(S,l),$t(p,x)}x=!0;let L,W;if(y)for(W=y.length-1;W>=0;W--)L=p.g=y[W],x=ga(L,S,!0,p)&&x;if(L=p.g=l,x=ga(L,S,!0,p)&&x,x=ga(L,S,!1,p)&&x,y)for(W=0;W<y.length;W++)L=p.g=y[W],x=ga(L,S,!1,p)&&x}Ht.prototype.N=function(){if(Ht.Z.N.call(this),this.i){var l=this.i;for(let p in l.g){let y=l.g[p];for(let S=0;S<y.length;S++)si(y[S]);delete l.g[p],l.h--}}this.G=null},Ht.prototype.J=function(l,p,y,S){return this.i.add(String(l),p,!1,y,S)},Ht.prototype.K=function(l,p,y,S){return this.i.add(String(l),p,!0,y,S)};function ga(l,p,y,S){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();let x=!0;for(let L=0;L<p.length;++L){let W=p[L];if(W&&!W.da&&W.capture==y){let he=W.listener,u=W.ha||W.src;W.fa&&Wi(l.i,W),x=he.call(u,S)!==!1&&x}}return x&&!S.defaultPrevented}function sI(l,p){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=d(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:o.setTimeout(l,p||0)}function eu(l){l.g=sI(()=>{l.g=null,l.i&&(l.i=!1,eu(l))},l.l);let p=l.h;l.h=null,l.m.apply(null,p)}class Bd extends b{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:eu(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qi(l){b.call(this),this.h=l,this.g={}}m(Qi,b);var zt=[];function tn(l){Ls(l.g,function(p,y){this.g.hasOwnProperty(y)&&ma(p)},l),l.g={}}Qi.prototype.N=function(){Qi.Z.N.call(this),tn(this)},Qi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fs=o.JSON.stringify,Xp=o.JSON.parse,Zp=class{stringify(l){return o.JSON.stringify(l,void 0)}parse(l){return o.JSON.parse(l,void 0)}};function em(){}function Vs(){}var Us={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function tu(){w.call(this,"d")}m(tu,w);function ya(){w.call(this,"c")}m(ya,w);var Yi={},tm=null;function js(){return tm=tm||new Ht}Yi.Ia="serverreachability";function $d(l){w.call(this,Yi.Ia,l)}m($d,w);function Bs(l){let p=js();qt(p,new $d(p))}Yi.STAT_EVENT="statevent";function $s(l,p){w.call(this,Yi.STAT_EVENT,l),this.stat=p}m($s,w);function Gt(l){let p=js();qt(p,new $s(p,l))}Yi.Ja="timingevent";function nu(l,p){w.call(this,Yi.Ja,l),this.size=p}m(nu,w);function Wn(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){l()},p)}function Hs(){this.g=!0}Hs.prototype.ua=function(){this.g=!1};function ru(l,p,y,S,x,L){l.info(function(){if(l.g)if(L){var W="",he=L.split("&");for(let f=0;f<he.length;f++){var u=he[f].split("=");if(u.length>1){let g=u[0];u=u[1];let C=g.split("_");W=C.length>=2&&C[1]=="type"?W+(g+"="+u+"&"):W+(g+"=redacted&")}}}else W=null;else W=L;return"XMLHTTP REQ ("+S+") [attempt "+x+"]: "+p+`
`+y+`
`+W})}function nm(l,p,y,S,x,L,W){l.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+x+"]: "+p+`
`+y+`
`+L+" "+W})}function fr(l,p,y,S){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+fn(l,y)+(S?" "+S:"")})}function rm(l,p){l.info(function(){return"TIMEOUT: "+p})}Hs.prototype.info=function(){};function fn(l,p){if(!l.g)return p;if(!p)return null;try{let L=JSON.parse(p);if(L){for(l=0;l<L.length;l++)if(Array.isArray(L[l])){var y=L[l];if(!(y.length<2)){var S=y[1];if(Array.isArray(S)&&!(S.length<1)){var x=S[0];if(x!="noop"&&x!="stop"&&x!="close")for(let W=1;W<S.length;W++)S[W]=""}}}}return Fs(L)}catch{return p}}var _a={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},qs={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},zs;function Hd(){}m(Hd,em),Hd.prototype.g=function(){return new XMLHttpRequest},zs=new Hd;function va(l){return encodeURIComponent(String(l))}function Gs(l){var p=1;l=l.split(":");let y=[];for(;p>0&&l.length;)y.push(l.shift()),p--;return l.length&&y.push(l.join(":")),y}function oi(l,p,y,S){this.j=l,this.i=p,this.l=y,this.S=S||1,this.V=new Qi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new im}function im(){this.i=null,this.g="",this.h=!1}var Ea={},iu={};function Ia(l,p,y){l.M=1,l.A=Ca(Kn(p)),l.u=y,l.R=!0,wa(l,null)}function wa(l,p){l.F=Date.now(),Ws(l),l.B=Kn(l.A);var y=l.B,S=l.S;Array.isArray(S)||(S=[String(S)]),lm(y.i,"t",S),l.C=0,y=l.j.L,l.h=new im,l.g=yu(l.j,y?p:null,!l.u),l.P>0&&(l.O=new Bd(d(l.Y,l,l.g),l.P)),p=l.V,y=l.g,S=l.ba;var x="readystatechange";Array.isArray(x)||(x&&(zt[0]=x.toString()),x=zt);for(let L=0;L<x.length;L++){let W=Yp(y,x[L],S||p.handleEvent,!1,p.h||p);if(!W)break;p.g[W.key]=W}p=l.J?Qp(l.J):{},l.u?(l.v||(l.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,p)):(l.v="GET",l.g.ea(l.B,l.v,null,p)),Bs(),ru(l.i,l.v,l.B,l.l,l.S,l.u)}oi.prototype.ba=function(l){l=l.target;let p=this.O;p&&qe(l)==3?p.j():this.Y(l)},oi.prototype.Y=function(l){try{if(l==this.g)e:{let he=qe(this.g),u=this.g.ya(),f=this.g.ca();if(!(he<3)&&(he!=3||this.g&&(this.h.h||this.g.la()||ym(this.g)))){this.K||he!=4||u==7||(u==8||f<=0?Bs(3):Bs(2)),ou(this);var p=this.g.ca();this.X=p;var y=ai(this);if(this.o=p==200,nm(this.i,this.v,this.B,this.l,this.S,he,p),this.o){if(this.U&&!this.L){t:{if(this.g){var S,x=this.g;if((S=x.g?x.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(S)){var L=S;break t}}L=null}if(l=L)fr(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Qs(this,l);else{this.o=!1,this.m=3,Gt(12),Ji(this),Ks(this);break e}}if(this.R){l=!0;let g;for(;!this.K&&this.C<y.length;)if(g=sm(this,y),g==iu){he==4&&(this.m=4,Gt(14),l=!1),fr(this.i,this.l,null,"[Incomplete Response]");break}else if(g==Ea){this.m=4,Gt(15),fr(this.i,this.l,y,"[Invalid Chunk]"),l=!1;break}else fr(this.i,this.l,g,null),Qs(this,g);if(qd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),he!=4||y.length!=0||this.h.h||(this.m=1,Gt(16),l=!1),this.o=this.o&&l,!l)fr(this.i,this.l,y,"[Invalid Chunked Response]"),Ji(this),Ks(this);else if(y.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),pu(W),W.P=!0,Gt(11))}}else fr(this.i,this.l,y,null),Qs(this,y);he==4&&Ji(this),this.o&&!this.K&&(he==4?rh(this.j,this):(this.o=!1,Ws(this)))}else oI(this.g),p==400&&y.indexOf("Unknown SID")>0?(this.m=3,Gt(12)):(this.m=0,Gt(13)),Ji(this),Ks(this)}}}catch{}finally{}};function ai(l){if(!qd(l))return l.g.la();let p=ym(l.g);if(p==="")return"";let y="",S=p.length,x=qe(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return Ji(l),Ks(l),"";l.h.i=new o.TextDecoder}for(let L=0;L<S;L++)l.h.h=!0,y+=l.h.i.decode(p[L],{stream:!(x&&L==S-1)});return p.length=0,l.h.g+=y,l.C=0,l.h.g}function qd(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function sm(l,p){var y=l.C,S=p.indexOf(`
`,y);return S==-1?iu:(y=Number(p.substring(y,S)),isNaN(y)?Ea:(S+=1,S+y>p.length?iu:(p=p.slice(S,S+y),l.C=S+y,p)))}oi.prototype.cancel=function(){this.K=!0,Ji(this)};function Ws(l){l.T=Date.now()+l.H,su(l,l.H)}function su(l,p){if(l.D!=null)throw Error("WatchDog timer not null");l.D=Wn(d(l.aa,l),p)}function ou(l){l.D&&(o.clearTimeout(l.D),l.D=null)}oi.prototype.aa=function(){this.D=null;let l=Date.now();l-this.T>=0?(rm(this.i,this.B),this.M!=2&&(Bs(),Gt(17)),Ji(this),this.m=2,Ks(this)):su(this,this.T-l)};function Ks(l){l.j.I==0||l.K||rh(l.j,l)}function Ji(l){ou(l);var p=l.O;p&&typeof p.dispose=="function"&&p.dispose(),l.O=null,tn(l.V),l.g&&(p=l.g,l.g=null,p.abort(),p.dispose())}function Qs(l,p){try{var y=l.j;if(y.I!=0&&(y.g==l||ba(y.h,l))){if(!l.L&&ba(y.h,l)&&y.I==3){try{var S=y.Ba.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var x=S;if(x[0]==0){e:if(!y.v){if(y.g)if(y.g.F+3e3<l.F)mu(y),Xi(y);else break e;ro(y),Gt(18)}}else y.xa=x[1],0<y.xa-y.K&&x[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=Wn(d(y.Va,y),6e3));ci(y.h)<=1&&y.ta&&(y.ta=void 0)}else li(y,11)}else if((l.L||y.g==l)&&mu(y),!v(p))for(x=y.Ba.g.parse(p),p=0;p<x.length;p++){let f=x[p],g=f[0];if(!(g<=y.K))if(y.K=g,f=f[1],y.I==2)if(f[0]=="c"){y.M=f[1],y.ba=f[2];let C=f[3];C!=null&&(y.ka=C,y.j.info("VER="+y.ka));let M=f[4];M!=null&&(y.za=M,y.j.info("SVER="+y.za));let F=f[5];F!=null&&typeof F=="number"&&F>0&&(S=1.5*F,y.O=S,y.j.info("backChannelRequestTimeoutMs_="+S)),S=y;let G=l.g;if(G){let $e=G.g?G.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($e){var L=S.h;L.g||$e.indexOf("spdy")==-1&&$e.indexOf("quic")==-1&&$e.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(zd(L,L.h),L.h=null))}if(S.G){let Tt=G.g?G.g.getResponseHeader("X-HTTP-Session-Id"):null;Tt&&(S.wa=Tt,Ye(S.J,S.G,Tt))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-l.F,y.j.info("Handshake RTT: "+y.T+"ms")),S=y;var W=l;if(S.na=gu(S,S.L?S.ba:null,S.W),W.L){Gd(S.h,W);var he=W,u=S.O;u&&(he.H=u),he.D&&(ou(he),Ws(he)),S.g=W}else fu(S);y.i.length>0&&jn(y)}else f[0]!="stop"&&f[0]!="close"||li(y,7);else y.I==3&&(f[0]=="stop"||f[0]=="close"?f[0]=="stop"?li(y,7):hu(y):f[0]!="noop"&&y.l&&y.l.qa(f),y.A=0)}}Bs(4)}catch{}}var om=class{constructor(l,p){this.g=l,this.map=p}};function au(l){this.l=l||10,o.PerformanceNavigationTiming?(l=o.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ys(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function ci(l){return l.h?1:l.g?l.g.size:0}function ba(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function zd(l,p){l.g?l.g.add(p):l.h=p}function Gd(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}au.prototype.cancel=function(){if(this.i=Wd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function Wd(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let p=l.i;for(let y of l.g.values())p=p.concat(y.G);return p}return R(l.i)}var Kd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qd(l,p){if(l){l=l.split("&");for(let y=0;y<l.length;y++){let S=l[y].indexOf("="),x,L=null;S>=0?(x=l[y].substring(0,S),L=l[y].substring(S+1)):x=l[y],p(x,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function pr(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;l instanceof pr?(this.l=l.l,Js(this,l.j),this.o=l.o,this.g=l.g,Ta(this,l.u),this.h=l.h,Yd(this,dm(l.i)),this.m=l.m):l&&(p=String(l).match(Kd))?(this.l=!1,Js(this,p[1]||"",!0),this.o=Sa(p[2]||""),this.g=Sa(p[3]||"",!0),Ta(this,p[4]),this.h=Sa(p[5]||"",!0),Yd(this,p[6]||"",!0),this.m=Sa(p[7]||"")):(this.l=!1,this.i=new xr(null,this.l))}pr.prototype.toString=function(){let l=[];var p=this.j;p&&l.push(Qn(p,Da,!0),":");var y=this.g;return(y||p=="file")&&(l.push("//"),(p=this.o)&&l.push(Qn(p,Da,!0),"@"),l.push(va(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&l.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(Qn(y,y.charAt(0)=="/"?am:cu,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",Qn(y,uu)),l.join("")},pr.prototype.resolve=function(l){let p=Kn(this),y=!!l.j;y?Js(p,l.j):y=!!l.o,y?p.o=l.o:y=!!l.g,y?p.g=l.g:y=l.u!=null;var S=l.h;if(y)Ta(p,l.u);else if(y=!!l.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var x=p.h.lastIndexOf("/");x!=-1&&(S=p.h.slice(0,x+1)+S)}if(x=S,x==".."||x==".")S="";else if(x.indexOf("./")!=-1||x.indexOf("/.")!=-1){S=x.lastIndexOf("/",0)==0,x=x.split("/");let L=[];for(let W=0;W<x.length;){let he=x[W++];he=="."?S&&W==x.length&&L.push(""):he==".."?((L.length>1||L.length==1&&L[0]!="")&&L.pop(),S&&W==x.length&&L.push("")):(L.push(he),S=!0)}S=L.join("/")}else S=x}return y?p.h=S:y=l.i.toString()!=="",y?Yd(p,dm(l.i)):y=!!l.m,y&&(p.m=l.m),p};function Kn(l){return new pr(l)}function Js(l,p,y){l.j=y?Sa(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function Ta(l,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);l.u=p}else l.u=null}function Yd(l,p,y){p instanceof xr?(l.i=p,Aa(l.i,l.l)):(y||(p=Qn(p,Xe)),l.i=new xr(p,l.l))}function Ye(l,p,y){l.i.set(p,y)}function Ca(l){return Ye(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function Sa(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Qn(l,p,y){return typeof l=="string"?(l=encodeURI(l).replace(p,kr),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function kr(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Da=/[#\/\?@]/g,cu=/[#\?:]/g,am=/[#\?]/g,Xe=/[#\?@]/g,uu=/#/g;function xr(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function Yn(l){l.g||(l.g=new Map,l.h=0,l.i&&Qd(l.i,function(p,y){l.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}n=xr.prototype,n.add=function(l,p){Yn(this),this.i=null,l=Xs(this,l);let y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(p),this.h+=1,this};function cm(l,p){Yn(l),p=Xs(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function Jd(l,p){return Yn(l),p=Xs(l,p),l.g.has(p)}n.forEach=function(l,p){Yn(this),this.g.forEach(function(y,S){y.forEach(function(x){l.call(p,x,S,this)},this)},this)};function um(l,p){Yn(l);let y=[];if(typeof p=="string")Jd(l,p)&&(y=y.concat(l.g.get(Xs(l,p))));else for(l=Array.from(l.g.values()),p=0;p<l.length;p++)y=y.concat(l[p]);return y}n.set=function(l,p){return Yn(this),this.i=null,l=Xs(this,l),Jd(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},n.get=function(l,p){return l?(l=um(this,l),l.length>0?String(l[0]):p):p};function lm(l,p,y){cm(l,p),y.length>0&&(l.i=null,l.g.set(Xs(l,p),R(y)),l.h+=y.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],p=Array.from(this.g.keys());for(let S=0;S<p.length;S++){var y=p[S];let x=va(y);y=um(this,y);for(let L=0;L<y.length;L++){let W=x;y[L]!==""&&(W+="="+va(y[L])),l.push(W)}}return this.i=l.join("&")};function dm(l){let p=new xr;return p.i=l.i,l.g&&(p.g=new Map(l.g),p.h=l.h),p}function Xs(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function Aa(l,p){p&&!l.j&&(Yn(l),l.i=null,l.g.forEach(function(y,S){let x=S.toLowerCase();S!=x&&(cm(this,S),lm(this,x,y))},l)),l.j=p}function ui(l,p){let y=new Hs;if(o.Image){let S=new Image;S.onload=h(Mr,y,"TestLoadImage: loaded",!0,p,S),S.onerror=h(Mr,y,"TestLoadImage: error",!1,p,S),S.onabort=h(Mr,y,"TestLoadImage: abort",!1,p,S),S.ontimeout=h(Mr,y,"TestLoadImage: timeout",!1,p,S),o.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=l}else p(!1)}function hm(l,p){let y=new Hs,S=new AbortController,x=setTimeout(()=>{S.abort(),Mr(y,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:S.signal}).then(L=>{clearTimeout(x),L.ok?Mr(y,"TestPingServer: ok",!0,p):Mr(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(x),Mr(y,"TestPingServer: error",!1,p)})}function Mr(l,p,y,S,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),S(y)}catch{}}function fm(){this.g=new Zp}function Or(l){this.i=l.Sb||null,this.h=l.ab||!1}m(Or,em),Or.prototype.g=function(){return new lu(this.i,this.h)};function lu(l,p){Ht.call(this),this.H=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(lu,Ht),n=lu.prototype,n.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=p,this.readyState=1,Un(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;let p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(p.body=l),(this.H||o).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ra(this)),this.readyState=0},n.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Un(this)),this.g&&(this.readyState=3,Un(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;pm(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function pm(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}n.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?Ra(this):Un(this),this.readyState==3&&pm(this)}},n.Oa=function(l){this.g&&(this.response=this.responseText=l,Ra(this))},n.Na=function(l){this.g&&(this.response=l,Ra(this))},n.ga=function(){this.g&&Ra(this)};function Ra(l){l.readyState=4,l.l=null,l.j=null,l.B=null,Un(l)}n.setRequestHeader=function(l,p){this.A.append(l,p)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=p.next();return l.join(`\r
`)};function Un(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(lu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function mm(l){let p="";return Ls(l,function(y,S){p+=S,p+=":",p+=y,p+=`\r
`}),p}function Xd(l,p,y){e:{for(S in y){var S=!1;break e}S=!0}S||(y=mm(y),typeof l=="string"?y!=null&&va(y):Ye(l,p,y))}function Je(l){Ht.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(Je,Ht);var du=/^https?$/i,gm=["POST","PUT"];n=Je.prototype,n.Fa=function(l){this.H=l},n.ea=function(l,p,y,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():zs.g(),this.g.onreadystatechange=I(d(this.Ca,this));try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(L){Zs(this,L);return}if(l=y||"",y=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var x in S)y.set(x,S[x]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(let L of S.keys())y.set(L,S.get(L));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(y.keys()).find(L=>L.toLowerCase()=="content-type"),x=o.FormData&&l instanceof o.FormData,!(Array.prototype.indexOf.call(gm,p,void 0)>=0)||S||x||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[L,W]of y)this.g.setRequestHeader(L,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(L){Zs(this,L)}};function Zs(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.o=5,eo(l),to(l)}function eo(l){l.A||(l.A=!0,qt(l,"complete"),qt(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,qt(this,"complete"),qt(this,"abort"),to(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),to(this,!0)),Je.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Zd(this):this.Xa())},n.Xa=function(){Zd(this)};function Zd(l){if(l.h&&typeof s<"u"){if(l.v&&qe(l)==4)setTimeout(l.Ca.bind(l),0);else if(qt(l,"readystatechange"),qe(l)==4){l.h=!1;try{let L=l.ca();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var S;if(S=L===0){let W=String(l.D).match(Kd)[1]||null;!W&&o.self&&o.self.location&&(W=o.self.location.protocol.slice(0,-1)),S=!du.test(W?W.toLowerCase():"")}y=S}if(y)qt(l,"complete"),qt(l,"success");else{l.o=6;try{var x=qe(l)>2?l.g.statusText:""}catch{x=""}l.l=x+" ["+l.ca()+"]",eo(l)}}finally{to(l)}}}}function to(l,p){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);let y=l.g;l.g=null,p||qt(l,"ready");try{y.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function qe(l){return l.g?l.g.readyState:0}n.ca=function(){try{return qe(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),Xp(p)}};function ym(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function oI(l){let p={};l=(l.g&&qe(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<l.length;S++){if(v(l[S]))continue;var y=Gs(l[S]);let x=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();let L=p[x]||[];p[x]=L,L.push(y)}Kp(p,function(S){return S.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function no(l,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||p}function eh(l){this.za=0,this.i=[],this.j=new Hs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=no("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=no("baseRetryDelayMs",5e3,l),this.Za=no("retryDelaySeedMs",1e4,l),this.Ta=no("forwardChannelMaxRetries",2,l),this.va=no("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new au(l&&l.concurrentRequestLimit),this.Ba=new fm,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=eh.prototype,n.ka=8,n.I=1,n.connect=function(l,p,y,S){Gt(0),this.W=l,this.H=p||{},y&&S!==void 0&&(this.H.OSID=y,this.H.OAID=S),this.F=this.X,this.J=gu(this,null,this.W),jn(this)};function hu(l){if(th(l),l.I==3){var p=l.V++,y=Kn(l.J);if(Ye(y,"SID",l.M),Ye(y,"RID",p),Ye(y,"TYPE","terminate"),Lr(l,y),p=new oi(l,l.j,p),p.M=2,p.A=Ca(Kn(y)),y=!1,o.navigator&&o.navigator.sendBeacon)try{y=o.navigator.sendBeacon(p.A.toString(),"")}catch{}!y&&o.Image&&(new Image().src=p.A,y=!0),y||(p.g=yu(p.j,null),p.g.ea(p.A)),p.F=Date.now(),Ws(p)}ih(l)}function Xi(l){l.g&&(pu(l),l.g.cancel(),l.g=null)}function th(l){Xi(l),l.v&&(o.clearTimeout(l.v),l.v=null),mu(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&o.clearTimeout(l.m),l.m=null)}function jn(l){if(!Ys(l.h)&&!l.m){l.m=!0;var p=l.Ea;ut||_(),Ne||(ut(),Ne=!0),T.add(p,l),l.D=0}}function _m(l,p){return ci(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=p.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=Wn(d(l.Ea,l,p),io(l,l.D)),l.D++,!0)}n.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;let x=new oi(this,this.j,l),L=this.o;if(this.U&&(L?(L=Qp(L),$t(L,this.U)):L=this.U),this.u!==null||this.R||(x.J=L,L=null),this.S)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var S=this.i[y];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(p+=S,p>4096){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=nh(this,x,p),y=Kn(this.J),Ye(y,"RID",l),Ye(y,"CVER",22),this.G&&Ye(y,"X-HTTP-Session-Id",this.G),Lr(this,y),L&&(this.R?p="headers="+va(mm(L))+"&"+p:this.u&&Xd(y,this.u,L)),zd(this.h,x),this.Ra&&Ye(y,"TYPE","init"),this.S?(Ye(y,"$req",p),Ye(y,"SID","null"),x.U=!0,Ia(x,y,null)):Ia(x,y,p),this.I=2}}else this.I==3&&(l?vm(this,l):this.i.length==0||Ys(this.h)||vm(this))};function vm(l,p){var y;p?y=p.l:y=l.V++;let S=Kn(l.J);Ye(S,"SID",l.M),Ye(S,"RID",y),Ye(S,"AID",l.K),Lr(l,S),l.u&&l.o&&Xd(S,l.u,l.o),y=new oi(l,l.j,y,l.D+1),l.u===null&&(y.J=l.o),p&&(l.i=p.G.concat(l.i)),p=nh(l,y,1e3),y.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),zd(l.h,y),Ia(y,S,p)}function Lr(l,p){l.H&&Ls(l.H,function(y,S){Ye(p,S,y)}),l.l&&Ls({},function(y,S){Ye(p,S,y)})}function nh(l,p,y){y=Math.min(l.i.length,y);let S=l.l?d(l.l.Ka,l.l,l):null;e:{var x=l.i;let he=-1;for(;;){let u=["count="+y];he==-1?y>0?(he=x[0].g,u.push("ofs="+he)):he=0:u.push("ofs="+he);let f=!0;for(let g=0;g<y;g++){var L=x[g].g;let C=x[g].map;if(L-=he,L<0)he=Math.max(0,x[g].g-100),f=!1;else try{L="req"+L+"_"||"";try{var W=C instanceof Map?C:Object.entries(C);for(let[M,F]of W){let G=F;a(F)&&(G=Fs(F)),u.push(L+M+"="+encodeURIComponent(G))}}catch(M){throw u.push(L+"type="+encodeURIComponent("_badmap")),M}}catch{S&&S(C)}}if(f){W=u.join("&");break e}}W=void 0}return l=l.i.splice(0,y),p.G=l,W}function fu(l){if(!l.g&&!l.v){l.Y=1;var p=l.Da;ut||_(),Ne||(ut(),Ne=!0),T.add(p,l),l.A=0}}function ro(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=Wn(d(l.Da,l),io(l,l.A)),l.A++,!0)}n.Da=function(){if(this.v=null,Pa(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=Wn(d(this.Wa,this),l)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Gt(10),Xi(this),Pa(this))};function pu(l){l.B!=null&&(o.clearTimeout(l.B),l.B=null)}function Pa(l){l.g=new oi(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var p=Kn(l.na);Ye(p,"RID","rpc"),Ye(p,"SID",l.M),Ye(p,"AID",l.K),Ye(p,"CI",l.F?"0":"1"),!l.F&&l.ia&&Ye(p,"TO",l.ia),Ye(p,"TYPE","xmlhttp"),Lr(l,p),l.u&&l.o&&Xd(p,l.u,l.o),l.O&&(l.g.H=l.O);var y=l.g;l=l.ba,y.M=1,y.A=Ca(Kn(p)),y.u=null,y.R=!0,wa(y,l)}n.Va=function(){this.C!=null&&(this.C=null,Xi(this),ro(this),Gt(19))};function mu(l){l.C!=null&&(o.clearTimeout(l.C),l.C=null)}function rh(l,p){var y=null;if(l.g==p){mu(l),pu(l),l.g=null;var S=2}else if(ba(l.h,p))y=p.G,Gd(l.h,p),S=1;else return;if(l.I!=0){if(p.o)if(S==1){y=p.u?p.u.length:0,p=Date.now()-p.F;var x=l.D;S=js(),qt(S,new nu(S,y)),jn(l)}else fu(l);else if(x=p.m,x==3||x==0&&p.X>0||!(S==1&&_m(l,p)||S==2&&ro(l)))switch(y&&y.length>0&&(p=l.h,p.i=p.i.concat(y)),x){case 1:li(l,5);break;case 4:li(l,10);break;case 3:li(l,6);break;default:li(l,2)}}}function io(l,p){let y=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(y*=2),y*p}function li(l,p){if(l.j.info("Error code "+p),p==2){var y=d(l.bb,l),S=l.Ua;let x=!S;S=new pr(S||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Js(S,"https"),Ca(S),x?ui(S.toString(),y):hm(S.toString(),y)}else Gt(2);l.I=0,l.l&&l.l.pa(p),ih(l),th(l)}n.bb=function(l){l?(this.j.info("Successfully pinged google.com"),Gt(2)):(this.j.info("Failed to ping google.com"),Gt(1))};function ih(l){if(l.I=0,l.ja=[],l.l){let p=Wd(l.h);(p.length!=0||l.i.length!=0)&&(k(l.ja,p),k(l.ja,l.i),l.h.i.length=0,R(l.i),l.i.length=0),l.l.oa()}}function gu(l,p,y){var S=y instanceof pr?Kn(y):new pr(y);if(S.g!="")p&&(S.g=p+"."+S.g),Ta(S,S.u);else{var x=o.location;S=x.protocol,p=p?p+"."+x.hostname:x.hostname,x=+x.port;let L=new pr(null);S&&Js(L,S),p&&(L.g=p),x&&Ta(L,x),y&&(L.h=y),S=L}return y=l.G,p=l.wa,y&&p&&Ye(S,y,p),Ye(S,"VER",l.ka),Lr(l,S),S}function yu(l,p,y){if(p&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Aa&&!l.ma?new Je(new Or({ab:y})):new Je(l.ma),p.Fa(l.L),p}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function sh(){}n=sh.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Zi(){}Zi.prototype.g=function(l,p){return new _n(l,p)};function _n(l,p){Ht.call(this),this.g=new eh(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(l?l["X-WebChannel-Client-Profile"]=p.sa:l={"X-WebChannel-Client-Profile":p.sa}),this.g.U=l,(l=p&&p.Qb)&&!v(l)&&(this.g.u=l),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!v(p)&&(this.g.G=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new es(this)}m(_n,Ht),_n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){hu(this.g)},_n.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.v&&(y={},y.__data__=Fs(l),l=y);p.i.push(new om(p.Ya++,l)),p.I==3&&jn(p)},_n.prototype.N=function(){this.g.l=null,delete this.j,hu(this.g),delete this.g,_n.Z.N.call(this)};function oh(l){tu.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(let y in p){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}m(oh,tu);function di(){ya.call(this),this.status=1}m(di,ya);function es(l){this.g=l}m(es,sh),es.prototype.ra=function(){qt(this.g,"a")},es.prototype.qa=function(l){qt(this.g,new oh(l))},es.prototype.pa=function(l){qt(this.g,new di)},es.prototype.oa=function(){qt(this.g,"b")},Zi.prototype.createWebChannel=Zi.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,mC=_s.createWebChannelTransport=function(){return new Zi},pC=_s.getStatEventTarget=function(){return js()},fC=_s.Event=Yi,M_=_s.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_a.NO_ERROR=0,_a.TIMEOUT=8,_a.HTTP_ERROR=6,Rf=_s.ErrorCode=_a,qs.COMPLETE="complete",hC=_s.EventType=qs,Vs.EventType=Us,Us.OPEN="a",Us.CLOSE="b",Us.ERROR="c",Us.MESSAGE="d",Ht.prototype.listen=Ht.prototype.J,vl=_s.WebChannel=Vs,E8=_s.FetchXmlHttpFactory=Or,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,dC=_s.XhrIo=Je}).apply(typeof x_<"u"?x_:typeof self<"u"?self:typeof window<"u"?window:{});var wL="@firebase/firestore",bL="4.9.3";var an=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");var Gl="12.7.0";var vc=new Oo("@firebase/firestore");function El(){return vc.logLevel}function Q(n,...e){if(vc.logLevel<=ke.DEBUG){let t=e.map(sD);vc.debug(`Firestore (${Gl}): ${n}`,...t)}}function Is(n,...e){if(vc.logLevel<=ke.ERROR){let t=e.map(sD);vc.error(`Firestore (${Gl}): ${n}`,...t)}}function kl(n,...e){if(vc.logLevel<=ke.WARN){let t=e.map(sD);vc.warn(`Firestore (${Gl}): ${n}`,...t)}}function sD(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function ge(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,hF(n,r,t)}function hF(n,e,t){let r=`FIRESTORE (${Gl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Is(r),new Error(r)}function _t(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||hF(e,i,r)}function Le(n,e){return n}var z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Y=class extends or{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Es=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var j_=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},wC=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(an.UNAUTHENTICATED))}shutdown(){}},bC=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},TC=class{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){_t(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),s=new Es;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Es,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Es)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_t(typeof r.accessToken=="string",31837,{l:r}),new j_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return _t(e===null||typeof e=="string",2055,{h:e}),new an(e)}},CC=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},SC=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new CC(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}},B_=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},DC=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ar(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){_t(this.o===void 0,3512);let r=s=>{s.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.m;return this.m=s.token,Q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.V.getImmediate({optional:!0});s?i(s):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new B_(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(_t(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new B_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function I8(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var $_=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=I8(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}};function Me(n,e){return n<e?-1:n>e?1:0}function AC(n,e){let t=Math.min(n.length,e.length);for(let r=0;r<t;r++){let i=n.charAt(r),s=e.charAt(r);if(i!==s)return gC(i)===gC(s)?Me(i,s):gC(i)?1:-1}return Me(n.length,e.length)}var w8=55296,b8=57343;function gC(n){let e=n.charCodeAt(0);return e>=w8&&e<=b8}function xl(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var TL="__name__",H_=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ge(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ge(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=n.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return Me(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):AC(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ys.fromString(e.substring(4,e.length-2))}},Et=class n extends H_{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new Y(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},T8=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ar=class n extends H_{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return T8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===TL}static keyField(){return new n([TL])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new Y(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new Y(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Y(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Y(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var ae=class n{constructor(e){this.path=e}static fromPath(e){return new n(Et.fromString(e))}static fromName(e){return new n(Et.fromString(e).popFirst(5))}static empty(){return new n(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Et(e.slice()))}};function C8(n,e,t){if(!t)throw new Y(z.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function S8(n,e,t,r){if(e===!0&&r===!0)throw new Y(z.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function CL(n){if(ae.isDocumentKey(n))throw new Y(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function fF(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function gv(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ge(12329,{type:typeof n})}function RC(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Y(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=gv(n);throw new Y(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Lt(n,e){let t={typeString:n};return e&&(t.value=e),t}function Yf(n,e){if(!fF(n))throw new Y(z.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let o=n[r];if(i&&typeof o!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){t=`Expected '${r}' field to equal '${s.value}'`;break}}if(t)throw new Y(z.INVALID_ARGUMENT,t);return!0}var SL=-62135596800,DL=1e6,Jt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*DL);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Y(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Y(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<SL)throw new Y(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/DL}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Yf(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-SL;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Jt._jsonSchemaVersion="firestore/timestamp/1.0",Jt._jsonSchema={type:Lt("string",Jt._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};var Ee=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new Jt(0,0))}static max(){return new n(new Jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Lf=-1,PC=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};PC.UNKNOWN_ID=-1;function D8(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ee.fromTimestamp(r===1e9?new Jt(t+1,0):new Jt(t,r));return new Ec(i,ae.empty(),e)}function A8(n){return new Ec(n.readTime,n.key,Lf)}var Ec=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(Ee.min(),ae.empty(),Lf)}static max(){return new n(Ee.max(),ae.empty(),Lf)}};function R8(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ae.comparator(n.documentKey,e.documentKey),t!==0?t:Me(n.largestBatchId,e.largestBatchId))}var P8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",NC=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function yv(n){if(n.code!==z.FAILED_PRECONDITION||n.message!==P8)throw n;Q("LocalStore","Unexpectedly lost primary lease")}var B=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},c=>r(c))}),o=!0,s===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let d=c;t(e[d]).next(h=>{o[d]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};function N8(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Wl(n){return n.name==="IndexedDbTransactionError"}var oD=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>r.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ue&&this.ue(t),t}}n.ce=-1;return n})(),k8=-1;function _v(n){return n==null}function Ff(n){return n===0&&1/n==-1/0}function x8(n){return typeof n=="number"&&Number.isInteger(n)&&!Ff(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var pF="";function M8(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=AL(e)),e=O8(n.get(t),e);return AL(e)}function O8(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let s=n.charAt(i);switch(s){case"\0":t+="";break;case pF:t+="";break;default:t+=s}}return t}function AL(n){return n+pF+""}var L8="remoteDocuments",mF="owner";var gF="mutationQueues";var yF="mutations";var _F="documentMutations",F8="remoteDocumentsV14";var vF="remoteDocumentGlobal";var EF="targets";var IF="targetDocuments";var wF="targetGlobal",bF="collectionParents";var TF="clientMetadata";var CF="bundles";var SF="namedQueries";var V8="indexConfiguration";var U8="indexState";var j8="indexEntries";var DF="documentOverlays";var B8="globals";var $8=[gF,yF,_F,L8,EF,mF,wF,IF,TF,vF,bF,CF,SF],$ve=[...$8,DF],H8=[gF,yF,_F,F8,EF,mF,wF,IF,TF,vF,bF,CF,SF,DF],q8=H8,z8=[...q8,V8,U8,j8];var Hve=[...z8,B8];function RL(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Kl(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function AF(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var At=class n{constructor(e,t){this.comparator=e,this.root=t||xi.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xi.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tl(this.root,e,this.comparator,!0)}},Tl=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},xi=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ge(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw ge(27949);return e+(this.isRed()?0:1)}};xi.EMPTY=null,xi.RED=!0,xi.BLACK=!1;xi.EMPTY=new class{constructor(){this.size=0}get key(){throw ge(57766)}get value(){throw ge(16141)}get color(){throw ge(16727)}get left(){throw ge(29726)}get right(){throw ge(36894)}copy(e,t,r,i,s){return this}insert(e,t,r){return new xi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var cn=class n{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new q_(this.data.getIterator())}getIteratorFrom(e){return new q_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},q_=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var gc=class n{constructor(e){this.fields=e,e.sort(Ar.comparator)}static empty(){return new n([])}unionWith(e){let t=new cn(Ar.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return xl(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var z_=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Cn=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new z_("Invalid base64 string: "+s):s}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Cn.EMPTY_BYTE_STRING=new Cn("");var G8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ws(n){if(_t(!!n,39018),typeof n=="string"){let e=0,t=G8.exec(n);if(_t(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mt(n.seconds),nanos:mt(n.nanos)}}function mt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function bs(n){return typeof n=="string"?Cn.fromBase64String(n):Cn.fromUint8Array(n)}var RF="server_timestamp",PF="__type__",NF="__previous_value__",kF="__local_write_time__";function aD(n){return(n?.mapValue?.fields||{})[PF]?.stringValue===RF}function vv(n){let e=n.mapValue.fields[NF];return aD(e)?vv(e):e}function Vf(n){let e=ws(n.mapValue.fields[kF].timestampValue);return new Jt(e.seconds,e.nanos)}var kC=class{constructor(e,t,r,i,s,o,a,c,d,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=h}},G_="(default)",W_=class n{constructor(e,t){this.projectId=e,this.database=t||G_}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===G_}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var cD="__type__",xF="__max__",O_={mapValue:{fields:{__type__:{stringValue:xF}}}},uD="__vector__",Ml="value";function Ko(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?aD(n)?4:OF(n)?9007199254740991:MF(n)?10:11:ge(28295,{value:n})}function Oi(n,e){if(n===e)return!0;let t=Ko(n);if(t!==Ko(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Vf(n).isEqual(Vf(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=ws(i.timestampValue),a=ws(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,s){return bs(i.bytesValue).isEqual(bs(s.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,s){return mt(i.geoPointValue.latitude)===mt(s.geoPointValue.latitude)&&mt(i.geoPointValue.longitude)===mt(s.geoPointValue.longitude)})(n,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return mt(i.integerValue)===mt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=mt(i.doubleValue),a=mt(s.doubleValue);return o===a?Ff(o)===Ff(a):isNaN(o)&&isNaN(a)}return!1})(n,e);case 9:return xl(n.arrayValue.values||[],e.arrayValue.values||[],Oi);case 10:case 11:return(function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(RL(o)!==RL(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Oi(o[c],a[c])))return!1;return!0})(n,e);default:return ge(52216,{left:n})}}function Uf(n,e){return(n.values||[]).find(t=>Oi(t,e))!==void 0}function Ol(n,e){if(n===e)return 0;let t=Ko(n),r=Ko(e);if(t!==r)return Me(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Me(n.booleanValue,e.booleanValue);case 2:return(function(s,o){let a=mt(s.integerValue||s.doubleValue),c=mt(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1})(n,e);case 3:return PL(n.timestampValue,e.timestampValue);case 4:return PL(Vf(n),Vf(e));case 5:return AC(n.stringValue,e.stringValue);case 6:return(function(s,o){let a=bs(s),c=bs(o);return a.compareTo(c)})(n.bytesValue,e.bytesValue);case 7:return(function(s,o){let a=s.split("/"),c=o.split("/");for(let d=0;d<a.length&&d<c.length;d++){let h=Me(a[d],c[d]);if(h!==0)return h}return Me(a.length,c.length)})(n.referenceValue,e.referenceValue);case 8:return(function(s,o){let a=Me(mt(s.latitude),mt(o.latitude));return a!==0?a:Me(mt(s.longitude),mt(o.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return NL(n.arrayValue,e.arrayValue);case 10:return(function(s,o){let a=s.fields||{},c=o.fields||{},d=a[Ml]?.arrayValue,h=c[Ml]?.arrayValue,m=Me(d?.values?.length||0,h?.values?.length||0);return m!==0?m:NL(d,h)})(n.mapValue,e.mapValue);case 11:return(function(s,o){if(s===O_.mapValue&&o===O_.mapValue)return 0;if(s===O_.mapValue)return 1;if(o===O_.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),d=o.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let m=0;m<c.length&&m<h.length;++m){let I=AC(c[m],h[m]);if(I!==0)return I;let R=Ol(a[c[m]],d[h[m]]);if(R!==0)return R}return Me(c.length,h.length)})(n.mapValue,e.mapValue);default:throw ge(23264,{he:t})}}function PL(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Me(n,e);let t=ws(n),r=ws(e),i=Me(t.seconds,r.seconds);return i!==0?i:Me(t.nanos,r.nanos)}function NL(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let s=Ol(t[i],r[i]);if(s)return s}return Me(t.length,r.length)}function Ll(n){return xC(n)}function xC(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=ws(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return bs(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ae.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let s of t.values||[])i?i=!1:r+=",",r+=xC(s);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${xC(t.fields[o])}`;return i+"}"})(n.mapValue):ge(61005,{value:n})}function V_(n){switch(Ko(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=vv(n);return e?16+V_(e):16;case 5:return 2*n.stringValue.length;case 6:return bs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,s)=>i+V_(s),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Kl(r.fields,(s,o)=>{i+=s.length+V_(o)}),i})(n.mapValue);default:throw ge(13486,{value:n})}}function kL(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function MC(n){return!!n&&"integerValue"in n}function lD(n){return!!n&&"arrayValue"in n}function xL(n){return!!n&&"nullValue"in n}function ML(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function yC(n){return!!n&&"mapValue"in n}function MF(n){return(n?.mapValue?.fields||{})[cD]?.stringValue===uD}function Nf(n){if(n.geoPointValue)return{geoPointValue:j({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:j({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Kl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Nf(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Nf(n.arrayValue.values[t]);return e}return j({},n)}function OF(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===xF}var zve={mapValue:{fields:{[cD]:{stringValue:uD},[Ml]:{arrayValue:{}}}}};var vs=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!yC(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nf(t)}setAll(e){let t=Ar.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Nf(o):i.push(a.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());yC(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Oi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];yC(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Kl(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n(Nf(this.value))}};var ei=class n{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new n(e,0,Ee.min(),Ee.min(),Ee.min(),vs.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,Ee.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,Ee.min(),Ee.min(),vs.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,Ee.min(),Ee.min(),vs.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Fl=class{constructor(e,t){this.position=e,this.inclusive=t}};function OL(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],o=n.position[i];if(s.field.isKeyField()?r=ae.comparator(ae.fromName(o.referenceValue),t.key):r=Ol(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function LL(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Oi(n.position[t],e.position[t]))return!1;return!0}var Vl=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function W8(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var K_=class{},Ot=class n extends K_{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new LC(e,t,r):t==="array-contains"?new UC(e,r):t==="in"?new jC(e,r):t==="not-in"?new BC(e,r):t==="array-contains-any"?new $C(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new FC(e,r):new VC(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ol(t,this.value)):t!==null&&Ko(this.value)===Ko(t)&&this.matchesComparison(Ol(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},ti=class n extends K_{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new n(e,t)}matches(e){return LF(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function LF(n){return n.op==="and"}function FF(n){return K8(n)&&LF(n)}function K8(n){for(let e of n.filters)if(e instanceof ti)return!1;return!0}function OC(n){if(n instanceof Ot)return n.field.canonicalString()+n.op.toString()+Ll(n.value);if(FF(n))return n.filters.map(e=>OC(e)).join(",");{let e=n.filters.map(t=>OC(t)).join(",");return`${n.op}(${e})`}}function VF(n,e){return n instanceof Ot?(function(r,i){return i instanceof Ot&&r.op===i.op&&r.field.isEqual(i.field)&&Oi(r.value,i.value)})(n,e):n instanceof ti?(function(r,i){return i instanceof ti&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&VF(o,i.filters[a]),!0):!1})(n,e):void ge(19439)}function UF(n){return n instanceof Ot?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ll(t.value)}`})(n):n instanceof ti?(function(t){return t.op.toString()+" {"+t.getFilters().map(UF).join(" ,")+"}"})(n):"Filter"}var LC=class extends Ot{constructor(e,t,r){super(e,t,r),this.key=ae.fromName(r.referenceValue)}matches(e){let t=ae.comparator(e.key,this.key);return this.matchesComparison(t)}},FC=class extends Ot{constructor(e,t){super(e,"in",t),this.keys=jF("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},VC=class extends Ot{constructor(e,t){super(e,"not-in",t),this.keys=jF("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function jF(n,e){return(e.arrayValue?.values||[]).map(t=>ae.fromName(t.referenceValue))}var UC=class extends Ot{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return lD(t)&&Uf(t.arrayValue,this.value)}},jC=class extends Ot{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Uf(this.value.arrayValue,t)}},BC=class extends Ot{constructor(e,t){super(e,"not-in",t)}matches(e){if(Uf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Uf(this.value.arrayValue,t)}},$C=class extends Ot{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!lD(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Uf(this.value.arrayValue,r))}};var HC=class{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}};function FL(n,e=null,t=[],r=[],i=null,s=null,o=null){return new HC(n,e,t,r,i,s,o)}function dD(n){let e=Le(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>OC(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(s){return s.field.canonicalString()+s.dir})(r)).join(","),_v(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ll(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ll(r)).join(",")),e.Te=t}return e.Te}function hD(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!W8(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!VF(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!LL(n.startAt,e.startAt)&&LL(n.endAt,e.endAt)}function qC(n){return ae.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Ic=class{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}};function Q8(n,e,t,r,i,s,o,a){return new Ic(n,e,t,r,i,s,o,a)}function BF(n){return new Ic(n)}function VL(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function $F(n){return n.collectionGroup!==null}function kf(n){let e=Le(n);if(e.Ie===null){e.Ie=[];let t=new Set;for(let s of e.explicitOrderBy)e.Ie.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new cn(Ar.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Vl(s,r))}),t.has(Ar.keyField().canonicalString())||e.Ie.push(new Vl(Ar.keyField(),r))}return e.Ie}function Mi(n){let e=Le(n);return e.Ee||(e.Ee=Y8(e,kf(n))),e.Ee}function Y8(n,e){if(n.limitType==="F")return FL(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Vl(i.field,s)});let t=n.endAt?new Fl(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Fl(n.startAt.position,n.startAt.inclusive):null;return FL(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function zC(n,e){let t=n.filters.concat([e]);return new Ic(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function GC(n,e,t){return new Ic(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ev(n,e){return hD(Mi(n),Mi(e))&&n.limitType===e.limitType}function HF(n){return`${dD(Mi(n))}|lt:${n.limitType}`}function Il(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>UF(i)).join(", ")}]`),_v(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ll(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ll(i)).join(",")),`Target(${r})`})(Mi(n))}; limitType=${n.limitType})`}function Iv(n,e){return e.isFoundDocument()&&(function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ae.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(n,e)&&(function(r,i){for(let s of kf(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(o,a,c){let d=OL(o,a,c);return o.inclusive?d<=0:d<0})(r.startAt,kf(r),i)||r.endAt&&!(function(o,a,c){let d=OL(o,a,c);return o.inclusive?d>=0:d>0})(r.endAt,kf(r),i))})(n,e)}function J8(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function qF(n){return(e,t)=>{let r=!1;for(let i of kf(n)){let s=X8(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function X8(n,e,t){let r=n.field.isKeyField()?ae.comparator(e.key,t.key):(function(s,o,a){let c=o.data.field(s),d=a.data.field(s);return c!==null&&d!==null?Ol(c,d):ge(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ge(19790,{direction:n.dir})}}var Ts=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Kl(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return AF(this.inner)}size(){return this.innerSize}};var Z8=new At(ae.comparator);function Qo(){return Z8}var zF=new At(ae.comparator);function Pf(...n){let e=zF;for(let t of n)e=e.insert(t.key,t);return e}function eW(n){let e=zF;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function yc(){return xf()}function GF(){return xf()}function xf(){return new Ts(n=>n.toString(),(n,e)=>n.isEqual(e))}var Gve=new At(ae.comparator),tW=new cn(ae.comparator);function je(...n){let e=tW;for(let t of n)e=e.add(t);return e}var nW=new cn(Me);function rW(){return nW}function fD(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ff(e)?"-0":e}}function WF(n){return{integerValue:""+n}}function iW(n,e){return x8(e)?WF(e):fD(n,e)}var Ul=class{constructor(){this._=void 0}};function sW(n,e,t){return n instanceof jf?(function(i,s){let o={fields:{[PF]:{stringValue:RF},[kF]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&aD(s)&&(s=vv(s)),s&&(o.fields[NF]=s),{mapValue:o}})(t,e):n instanceof jl?KF(n,e):n instanceof Bl?QF(n,e):(function(i,s){let o=aW(i,s),a=UL(o)+UL(i.Ae);return MC(o)&&MC(i.Ae)?WF(a):fD(i.serializer,a)})(n,e)}function oW(n,e,t){return n instanceof jl?KF(n,e):n instanceof Bl?QF(n,e):t}function aW(n,e){return n instanceof Bf?(function(r){return MC(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}var jf=class extends Ul{},jl=class extends Ul{constructor(e){super(),this.elements=e}};function KF(n,e){let t=YF(e);for(let r of n.elements)t.some(i=>Oi(i,r))||t.push(r);return{arrayValue:{values:t}}}var Bl=class extends Ul{constructor(e){super(),this.elements=e}};function QF(n,e){let t=YF(e);for(let r of n.elements)t=t.filter(i=>!Oi(i,r));return{arrayValue:{values:t}}}var Bf=class extends Ul{constructor(e,t){super(),this.serializer=e,this.Ae=t}};function UL(n){return mt(n.integerValue||n.doubleValue)}function YF(n){return lD(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function cW(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof jl&&i instanceof jl||r instanceof Bl&&i instanceof Bl?xl(r.elements,i.elements,Oi):r instanceof Bf&&i instanceof Bf?Oi(r.Ae,i.Ae):r instanceof jf&&i instanceof jf})(n.transform,e.transform)}var Mf=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function U_(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var $f=class{};function JF(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new WC(n.key,Mf.none()):new Hf(n.key,n.data,Mf.none());{let t=n.data,r=vs.empty(),i=new cn(Ar.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new $l(n.key,r,new gc(i.toArray()),Mf.none())}}function uW(n,e,t){n instanceof Hf?(function(i,s,o){let a=i.value.clone(),c=BL(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()})(n,e,t):n instanceof $l?(function(i,s,o){if(!U_(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=BL(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(XF(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(n,e,t):(function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,t)}function Of(n,e,t,r){return n instanceof Hf?(function(s,o,a,c){if(!U_(s.precondition,o))return a;let d=s.value.clone(),h=$L(s.fieldTransforms,c,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null})(n,e,t,r):n instanceof $l?(function(s,o,a,c){if(!U_(s.precondition,o))return a;let d=$L(s.fieldTransforms,c,o),h=o.data;return h.setAll(XF(s)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))})(n,e,t,r):(function(s,o,a){return U_(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a})(n,e,t)}function jL(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&xl(r,i,(s,o)=>cW(s,o))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Hf=class extends $f{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},$l=class extends $f{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function XF(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function BL(n,e,t){let r=new Map;_t(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let i=0;i<t.length;i++){let s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,oW(o,a,t[i]))}return r}function $L(n,e,t){let r=new Map;for(let i of n){let s=i.transform,o=t.data.field(i.field);r.set(i.field,sW(s,o,e))}return r}var WC=class extends $f{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var KC=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&uW(s,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Of(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Of(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=GF();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;let c=JF(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Ee.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),je())}isEqual(e){return this.batchId===e.batchId&&xl(this.mutations,e.mutations,(t,r)=>jL(t,r))&&xl(this.baseMutations,e.baseMutations,(t,r)=>jL(t,r))}};var QC=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var YC=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var xt,Oe;function ZF(n){if(n===void 0)return Is("GRPC error has no .code"),z.UNKNOWN;switch(n){case xt.OK:return z.OK;case xt.CANCELLED:return z.CANCELLED;case xt.UNKNOWN:return z.UNKNOWN;case xt.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case xt.INTERNAL:return z.INTERNAL;case xt.UNAVAILABLE:return z.UNAVAILABLE;case xt.UNAUTHENTICATED:return z.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case xt.NOT_FOUND:return z.NOT_FOUND;case xt.ALREADY_EXISTS:return z.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return z.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case xt.ABORTED:return z.ABORTED;case xt.OUT_OF_RANGE:return z.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return z.UNIMPLEMENTED;case xt.DATA_LOSS:return z.DATA_LOSS;default:return ge(39323,{code:n})}}(Oe=xt||(xt={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";var lW=null;function dW(){return new TextEncoder}var hW=new ys([4294967295,4294967295],0);function HL(n){let e=dW().encode(n),t=new lC;return t.update(e),new Uint8Array(t.digest())}function qL(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ys([t,r],0),new ys([i,s],0)]}var JC=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new _c(`Invalid padding: ${t}`);if(r<0)throw new _c(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _c(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new _c(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ys.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(ys.fromNumber(r)));return i.compare(hW)===1&&(i=new ys([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;let t=HL(e),[r,i]=qL(t);for(let s=0;s<this.hashCount;s++){let o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;let t=HL(e),[r,i]=qL(t);for(let s=0;s<this.hashCount;s++){let o=this.ye(r,i,s);this.Se(o)}}Se(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},_c=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Q_=class n{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,qf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(Ee.min(),i,new At(Me),Qo(),je())}},qf=class n{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,je(),je(),je())}};var Sl=class{constructor(e,t,r,i){this.be=e,this.removedTargetIds=t,this.key=r,this.De=i}},Y_=class{constructor(e,t){this.targetId=e,this.Ce=t}},J_=class{constructor(e,t,r=Cn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},X_=class{constructor(){this.ve=0,this.Fe=zL(),this.Me=Cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),t=je(),r=je();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ge(38017,{changeType:s})}}),new qf(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=zL()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,_t(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}},XC=class{constructor(e){this.Ge=e,this.ze=new Map,this.je=Qo(),this.Je=L_(),this.He=L_(),this.Ye=new At(Me)}Ze(e){for(let t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(let t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{let r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:ge(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((r,i)=>{this.rt(i)&&t(i)})}st(e){let t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){let s=i.target;if(qC(s))if(r===0){let o=new ae(s.path);this.et(t,o,ei.newNoDocument(o,Ee.min()))}else _t(r===1,20013,{expectedCount:r});else{let o=this._t(t);if(o!==r){let a=this.ut(e),c=a?this.ct(a,e,o):1;if(c!==0){this.it(t);let d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,d)}lW?.lt((function(h,m,I,R,k){let V={localCacheCount:h,existenceFilterCount:m.count,databaseId:I.database,projectId:I.projectId},O=m.unchangedNames;return O&&(V.bloomFilter={applied:k===0,hashCount:O?.hashCount??0,bitmapLength:O?.bits?.bitmap?.length??0,padding:O?.bits?.padding??0,mightContain:q=>R?.mightContain(q)??!1}),V})(o,e.Ce,this.Ge.ht(),a,c))}}}}ut(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t,o,a;try{o=bs(r).toUint8Array()}catch(c){if(c instanceof z_)return kl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new JC(o,i,s)}catch(c){return kl(c instanceof _c?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){let r=this.Ge.getRemoteKeysForTarget(t),i=0;return r.forEach(s=>{let o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(t,s,null),i++)}),i}Tt(e){let t=new Map;this.ze.forEach((s,o)=>{let a=this.ot(o);if(a){if(s.current&&qC(a.target)){let c=new ae(a.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,ei.newNoDocument(c,e))}s.Be&&(t.set(o,s.ke()),s.qe())}});let r=je();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));let i=new Q_(e,t,this.Ye,this.je,r);return this.je=Qo(),this.Je=L_(),this.He=L_(),this.Ye=new At(Me),i}Xe(e,t){if(!this.rt(e))return;let r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;let i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){let t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new X_,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new cn(Me),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new cn(Me),this.Je=this.Je.insert(e,t)),t}rt(e){let t=this.ot(e)!==null;return t||Q("WatchChangeAggregator","Detected inactive target",e),t}ot(e){let t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new X_),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}};function L_(){return new At(ae.comparator)}function zL(){return new At(ae.comparator)}var fW={asc:"ASCENDING",desc:"DESCENDING"},pW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mW={and:"AND",or:"OR"},ZC=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function eS(n,e){return n.useProto3Json||_v(e)?e:{value:e}}function tS(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eV(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Dl(n){return _t(!!n,49232),Ee.fromTimestamp((function(t){let r=ws(t);return new Jt(r.seconds,r.nanos)})(n))}function tV(n,e){return nS(n,e).canonicalString()}function nS(n,e){let t=(function(i){return new Et(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function nV(n){let e=Et.fromString(n);return _t(aV(e),10190,{key:e.toString()}),e}function _C(n,e){let t=nV(e);if(t.get(1)!==n.databaseId.projectId)throw new Y(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Y(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ae(iV(t))}function rV(n,e){return tV(n.databaseId,e)}function gW(n){let e=nV(n);return e.length===4?Et.emptyPath():iV(e)}function GL(n){return new Et(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function iV(n){return _t(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function yW(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ge(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(d,h){return d.useProto3Json?(_t(h===void 0||typeof h=="string",58123),Cn.fromBase64String(h||"")):(_t(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Cn.fromUint8Array(h||new Uint8Array))})(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&(function(d){let h=d.code===void 0?z.UNKNOWN:ZF(d.code);return new Y(h,d.message||"")})(o);t=new J_(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=_C(n,r.document.name),s=Dl(r.document.updateTime),o=r.document.createTime?Dl(r.document.createTime):Ee.min(),a=new vs({mapValue:{fields:r.document.fields}}),c=ei.newFoundDocument(i,s,o,a),d=r.targetIds||[],h=r.removedTargetIds||[];t=new Sl(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=_C(n,r.document),s=r.readTime?Dl(r.readTime):Ee.min(),o=ei.newNoDocument(i,s),a=r.removedTargetIds||[];t=new Sl([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=_C(n,r.document),s=r.removedTargetIds||[];t=new Sl([],s,i,null)}else{if(!("filter"in e))return ge(11601,{Rt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new YC(i,s),a=r.targetId;t=new Y_(a,o)}}return t}function _W(n,e){return{documents:[rV(n,e.path)]}}function vW(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=rV(n,i);let s=(function(d){if(d.length!==0)return oV(ti.create(d,"and"))})(e.filters);s&&(t.structuredQuery.where=s);let o=(function(d){if(d.length!==0)return d.map(h=>(function(I){return{field:wl(I.field),direction:wW(I.dir)}})(h))})(e.orderBy);o&&(t.structuredQuery.orderBy=o);let a=eS(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:t,parent:i}}function EW(n){let e=gW(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){_t(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];t.where&&(s=(function(m){let I=sV(m);return I instanceof ti&&FF(I)?I.getFilters():[I]})(t.where));let o=[];t.orderBy&&(o=(function(m){return m.map(I=>(function(k){return new Vl(bl(k.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(I))})(t.orderBy));let a=null;t.limit&&(a=(function(m){let I;return I=typeof m=="object"?m.value:m,_v(I)?null:I})(t.limit));let c=null;t.startAt&&(c=(function(m){let I=!!m.before,R=m.values||[];return new Fl(R,I)})(t.startAt));let d=null;return t.endAt&&(d=(function(m){let I=!m.before,R=m.values||[];return new Fl(R,I)})(t.endAt)),Q8(e,i,o,s,a,"F",c,d)}function IW(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function sV(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=bl(t.unaryFilter.field);return Ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=bl(t.unaryFilter.field);return Ot.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=bl(t.unaryFilter.field);return Ot.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=bl(t.unaryFilter.field);return Ot.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ge(61313);default:return ge(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Ot.create(bl(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ge(58110);default:return ge(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return ti.create(t.compositeFilter.filters.map(r=>sV(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ge(1026)}})(t.compositeFilter.op))})(n):ge(30097,{filter:n})}function wW(n){return fW[n]}function bW(n){return pW[n]}function TW(n){return mW[n]}function wl(n){return{fieldPath:n.canonicalString()}}function bl(n){return Ar.fromServerFormat(n.fieldPath)}function oV(n){return n instanceof Ot?(function(t){if(t.op==="=="){if(ML(t.value))return{unaryFilter:{field:wl(t.field),op:"IS_NAN"}};if(xL(t.value))return{unaryFilter:{field:wl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(ML(t.value))return{unaryFilter:{field:wl(t.field),op:"IS_NOT_NAN"}};if(xL(t.value))return{unaryFilter:{field:wl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wl(t.field),op:bW(t.op),value:t.value}}})(n):n instanceof ti?(function(t){let r=t.getFilters().map(i=>oV(i));return r.length===1?r[0]:{compositeFilter:{op:TW(t.op),filters:r}}})(n):ge(54877,{filter:n})}function aV(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var zf=class n{constructor(e,t,r,i,s=Ee.min(),o=Ee.min(),a=Cn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var rS=class{constructor(e){this.yt=e}};function CW(n){let e=EW({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?GC(e,e.limit,"L"):e}var Z_=class{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(mt(e.integerValue));else if("doubleValue"in e){let r=mt(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),Ff(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=ws(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(bs(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?OF(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):MF(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):ge(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){let r=e.fields||{};this.Ft(t,55);for(let i of Object.keys(r))this.Ot(i,t),this.Ct(r[i],t)}kt(e,t){let r=e.fields||{};this.Ft(t,53);let i=Ml,s=r[i].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(mt(s)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){let r=e.values||[];this.Ft(t,50);for(let i of r)this.Ct(i,t)}Lt(e,t){this.Ft(t,37),ae.fromName(e).path.forEach(r=>{this.Ft(t,60),this.Ut(r,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}};Z_.Kt=new Z_;var iS=class{constructor(){this.Cn=new sS}addToCollectionParentIndex(e,t){return this.Cn.add(t),B.resolve()}getCollectionParents(e,t){return B.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return B.resolve()}deleteFieldIndex(e,t){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,t){return B.resolve()}getDocumentsMatchingTarget(e,t){return B.resolve(null)}getIndexType(e,t){return B.resolve(0)}getFieldIndexes(e,t){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,t){return B.resolve(Ec.min())}getMinOffsetFromCollectionGroup(e,t){return B.resolve(Ec.min())}updateCollectionGroup(e,t,r){return B.resolve()}updateIndexEntries(e,t){return B.resolve()}},sS=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new cn(Et.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new cn(Et.comparator)).toArray()}};var Wve=new Uint8Array(0);var WL={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cV=41943040,Dr=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Dr.DEFAULT_COLLECTION_PERCENTILE=10,Dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dr.DEFAULT=new Dr(cV,Dr.DEFAULT_COLLECTION_PERCENTILE,Dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dr.DISABLED=new Dr(-1,0,0);var Gf=class n{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new n(0)}static cr(){return new n(-1)}};var KL="LruGarbageCollector",SW=1048576;function QL([n,e],[t,r]){let i=Me(n,t);return i===0?Me(e,r):i}var oS=class{constructor(e){this.Ir=e,this.buffer=new cn(QL),this.Er=0}dr(){return++this.Er}Ar(e){let t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();QL(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},aS=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Q(KL,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Wl(t)?Q(KL,"Ignoring IndexedDB error during garbage collection: ",t):await yv(t)}await this.Vr(3e5)})}},cS=class{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return B.resolve(oD.ce);let r=new oS(t);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Q("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(WL)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),WL):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,i,s,o,a,c,d,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(Q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,o=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,a=Date.now(),this.removeTargets(e,r,t))).next(m=>(s=m,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(d=Date.now(),El()<=ke.DEBUG&&Q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(c-a)+`ms
	Removed ${m} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})))}};function DW(n,e){return new cS(n,e)}var uS=class{constructor(){this.changes=new Ts(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ei.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?B.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var lS=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var dS=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Of(r.mutation,i,gc.empty(),Jt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,je()).next(()=>r))}getLocalViewOfDocuments(e,t,r=je()){let i=yc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Pf();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let r=yc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,je()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Qo(),o=xf(),a=(function(){return xf()})();return t.forEach((c,d)=>{let h=r.get(d.key);i.has(d.key)&&(h===void 0||h.mutation instanceof $l)?s=s.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),Of(h.mutation,d,h.mutation.getFieldMask(),Jt.now())):o.set(d.key,gc.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((d,h)=>o.set(d,h)),t.forEach((d,h)=>a.set(d,new lS(h,o.get(d)??null))),a))}recalculateAndSaveOverlays(e,t){let r=xf(),i=new At((o,a)=>o-a),s=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let a of o)a.keys().forEach(c=>{let d=t.get(c);if(d===null)return;let h=r.get(c)||gc.empty();h=a.applyToLocalView(d,h),r.set(c,h);let m=(i.get(a.batchId)||je()).add(c);i=i.insert(a.batchId,m)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),d=c.key,h=c.value,m=GF();h.forEach(I=>{if(!s.has(I)){let R=JF(t.get(I),r.get(I));R!==null&&m.set(I,R),s=s.add(I)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,m))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(o){return ae.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):$F(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):B.resolve(yc()),a=Lf,c=s;return o.next(d=>B.forEach(d,(h,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),s.get(h)?B.resolve():this.remoteDocumentCache.getEntry(e,h).next(I=>{c=c.insert(h,I)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,c,d,je())).next(h=>({batchId:a,changes:eW(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ae(t)).next(r=>{let i=Pf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let s=t.collectionGroup,o=Pf();return this.indexManager.getCollectionParents(e,s).next(a=>B.forEach(a,c=>{let d=(function(m,I){return new Ic(I,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(t,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(h=>{h.forEach((m,I)=>{o=o.insert(m,I)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((c,d)=>{let h=d.getKey();o.get(h)===null&&(o=o.insert(h,ei.newInvalidDocument(h)))});let a=Pf();return o.forEach((c,d)=>{let h=s.get(c);h!==void 0&&Of(h.mutation,d,gc.empty(),Jt.now()),Iv(t,d)&&(a=a.insert(c,d))}),a})}};var hS=class{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return B.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Dl(i.createTime)}})(t)),B.resolve()}getNamedQuery(e,t){return B.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(i){return{name:i.name,query:CW(i.bundledQuery),readTime:Dl(i.readTime)}})(t)),B.resolve()}};var fS=class{constructor(){this.overlays=new At(ae.comparator),this.qr=new Map}getOverlay(e,t){return B.resolve(this.overlays.get(t))}getOverlays(e,t){let r=yc();return B.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.St(e,t,s)}),B.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),B.resolve()}getOverlaysForCollection(e,t,r){let i=yc(),s=t.length+1,o=new ae(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,d=c.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return B.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new At((d,h)=>d-h),o=this.overlays.getIterator();for(;o.hasNext();){let d=o.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let h=s.get(d.largestBatchId);h===null&&(h=yc(),s=s.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}let a=yc(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=i)););return B.resolve(a)}St(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new QC(t,r));let s=this.qr.get(t);s===void 0&&(s=je(),this.qr.set(t,s)),this.qr.set(t,s.add(r.key))}};var pS=class{constructor(){this.sessionToken=Cn.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,B.resolve()}};var Wf=class{constructor(){this.Qr=new cn(Mt.$r),this.Ur=new cn(Mt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){let r=new Mt(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Gr(new Mt(e,t))}zr(e,t){e.forEach(r=>this.removeReference(r,t))}jr(e){let t=new ae(new Et([])),r=new Mt(t,e),i=new Mt(t,e+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){let t=new ae(new Et([])),r=new Mt(t,e),i=new Mt(t,e+1),s=je();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new Mt(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Mt=class{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ae.comparator(e.key,t.key)||Me(e.Yr,t.Yr)}static Kr(e,t){return Me(e.Yr,t.Yr)||ae.comparator(e.key,t.key)}};var mS=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new cn(Mt.$r)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new KC(s,t,r,i);this.mutationQueue.push(o);for(let a of i)this.Zr=this.Zr.add(new Mt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,t){return B.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.ei(r),s=i<0?0:i;return B.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?k8:this.tr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Mt(t,0),i=new Mt(t,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{let a=this.Xr(o.Yr);s.push(a)}),B.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new cn(Me);return t.forEach(i=>{let s=new Mt(i,0),o=new Mt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{r=r.add(a.Yr)})}),B.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;ae.isDocumentKey(s)||(s=s.child(""));let o=new Mt(new ae(s),0),a=new cn(Me);return this.Zr.forEachWhile(c=>{let d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(a=a.add(c.Yr)),!0)},o),B.resolve(this.ti(a))}ti(e){let t=[];return e.forEach(r=>{let i=this.Xr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){_t(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return B.forEach(t.mutations,i=>{let s=new Mt(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,t){let r=new Mt(t,0),i=this.Zr.firstAfterOrEqual(r);return B.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){let t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var gS=class{constructor(e){this.ri=e,this.docs=(function(){return new At(ae.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return B.resolve(r?r.document.mutableCopy():ei.newInvalidDocument(t))}getEntries(e,t){let r=Qo();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ei.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Qo(),o=t.path,a=new ae(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:d,value:{document:h}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||R8(A8(h),r)<=0||(i.has(h.key)||Iv(t,h))&&(s=s.insert(h.key,h.mutableCopy()))}return B.resolve(s)}getAllFromCollectionGroup(e,t,r,i){ge(9500)}ii(e,t){return B.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new yS(this)}getSize(e){return B.resolve(this.size)}},yS=class extends uS{constructor(e){super(),this.Nr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),B.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}};var _S=class{constructor(e){this.persistence=e,this.si=new Ts(t=>dD(t),hD),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.oi=0,this._i=new Wf,this.targetCount=0,this.ai=Gf.ur()}forEachTarget(e,t){return this.si.forEach((r,i)=>t(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),B.resolve()}Pr(e){this.si.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ai=new Gf(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,B.resolve()}updateTargetData(e,t){return this.Pr(t),B.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),B.waitFor(s).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,t){let r=this.si.get(t)||null;return B.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),B.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),B.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),B.resolve()}getMatchingKeysForTargetId(e,t){let r=this._i.Hr(t);return B.resolve(r)}containsKey(e,t){return B.resolve(this._i.containsKey(t))}};var ev=class{constructor(e,t){this.ui={},this.overlays={},this.ci=new oD(0),this.li=!1,this.li=!0,this.hi=new pS,this.referenceDelegate=e(this),this.Pi=new _S(this),this.indexManager=new iS,this.remoteDocumentCache=(function(i){return new gS(i)})(r=>this.referenceDelegate.Ti(r)),this.serializer=new rS(t),this.Ii=new hS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new fS,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new mS(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){Q("MemoryPersistence","Starting transaction:",e);let i=new vS(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,t){return B.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,t)))}},vS=class extends NC{constructor(e){super(),this.currentSequenceNumber=e}},ES=class n{constructor(e){this.persistence=e,this.Ri=new Wf,this.Vi=null}static mi(e){return new n(e)}get fi(){if(this.Vi)return this.Vi;throw ge(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),B.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),B.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(i=>this.fi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.fi,r=>{let i=ae.fromPath(r);return this.gi(e,i).next(s=>{s||t.removeEntry(i,Ee.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return B.or([()=>B.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}},tv=class n{constructor(e,t){this.persistence=e,this.pi=new Ts(r=>M8(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=DW(this,t)}static mi(e,t){return new n(e,t)}Ei(){}di(e){return B.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){let t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}wr(e){let t=0;return this.pr(e,r=>{t++}).next(()=>t)}pr(e,t){return B.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?B.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,t).next(a=>{a||(r++,s.removeEntry(o,Ee.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),B.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),B.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=V_(e.data.value)),t}br(e,t,r){return B.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.pi.get(t);return B.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var IS=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=i}static As(e,t){let r=je(),i=je();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n(e,t.fromCache,r,i)}};var wS=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var bS=class{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return oO()?8:N8(on())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){let s={result:null};return this.ys(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new wS;return this.Ss(e,t,o).next(a=>{if(s.result=a,this.Vs)return this.bs(e,t,o,a.size)})}).next(()=>s.result)}bs(e,t,r,i){return r.documentReadCount<this.fs?(El()<=ke.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",Il(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),B.resolve()):(El()<=ke.DEBUG&&Q("QueryEngine","Query:",Il(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(El()<=ke.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",Il(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mi(t))):B.resolve())}ys(e,t){if(VL(t))return B.resolve(null);let r=Mi(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=GC(t,null,"F"),r=Mi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=je(...s);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let d=this.Ds(t,a);return this.Cs(t,d,o,c.readTime)?this.ys(e,GC(t,null,"F")):this.vs(e,d,t,c)}))})))}ws(e,t,r,i){return VL(t)||i.isEqual(Ee.min())?B.resolve(null):this.ps.getDocuments(e,r).next(s=>{let o=this.Ds(t,s);return this.Cs(t,o,r,i)?B.resolve(null):(El()<=ke.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Il(t)),this.vs(e,o,t,D8(i,Lf)).next(a=>a))})}Ds(e,t){let r=new cn(qF(e));return t.forEach((i,s)=>{Iv(e,s)&&(r=r.add(s))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,t,r){return El()<=ke.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",Il(t)),this.ps.getDocumentsMatchingQuery(e,t,Ec.min(),r)}vs(e,t,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var pD="LocalStore",AW=3e8,TS=class{constructor(e,t,r,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new At(Me),this.xs=new Ts(s=>dD(s),hD),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}};function RW(n,e,t,r){return new TS(n,e,t,r)}async function uV(n,e){let t=Le(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Bs(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=je();for(let d of i){o.push(d.batchId);for(let h of d.mutations)c=c.add(h.key)}for(let d of s){a.push(d.batchId);for(let h of d.mutations)c=c.add(h.key)}return t.localDocuments.getDocuments(r,c).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:a}))})})}function lV(n){let e=Le(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function PW(n,e){let t=Le(n),r=e.snapshotVersion,i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;let a=[];e.targetChanges.forEach((h,m)=>{let I=i.get(m);if(!I)return;a.push(t.Pi.removeMatchingKeys(s,h.removedDocuments,m).next(()=>t.Pi.addMatchingKeys(s,h.addedDocuments,m)));let R=I.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?R=R.withResumeToken(Cn.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):h.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(h.resumeToken,r)),i=i.insert(m,R),(function(V,O,q){return V.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=AW?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0})(I,R,h)&&a.push(t.Pi.updateTargetData(s,R))});let c=Qo(),d=je();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(NW(s,o,e.documentUpdates).next(h=>{c=h.ks,d=h.qs})),!r.isEqual(Ee.min())){let h=t.Pi.getLastRemoteSnapshotVersion(s).next(m=>t.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return B.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,c,d)).next(()=>c)}).then(s=>(t.Ms=i,s))}function NW(n,e,t){let r=je(),i=je();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Qo();return t.forEach((a,c)=>{let d=s.get(a);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Ee.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):Q(pD,"Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",c.version)}),{ks:o,qs:i}})}function kW(n,e){let t=Le(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Pi.getTargetData(r,e).next(s=>s?(i=s,B.resolve(i)):t.Pi.allocateTargetId(r).next(o=>(i=new zf(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r})}async function CS(n,e,t){let r=Le(n),i=r.Ms.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Wl(o))throw o;Q(pD,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function YL(n,e,t){let r=Le(n),i=Ee.min(),s=je();return r.persistence.runTransaction("Execute query","readwrite",o=>(function(c,d,h){let m=Le(c),I=m.xs.get(h);return I!==void 0?B.resolve(m.Ms.get(I)):m.Pi.getTargetData(d,h)})(r,o,Mi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,t?i:Ee.min(),t?s:je())).next(a=>(xW(r,J8(e),a),{documents:a,Qs:s})))}function xW(n,e,t){let r=n.Os.get(e)||Ee.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Os.set(e,r)}var nv=class{constructor(){this.activeTargetIds=rW()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var SS=class{constructor(){this.Mo=new nv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new nv,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var DS=class{Oo(e){}shutdown(){}};var JL="ConnectivityMonitor",rv=class{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Q(JL,"Network connectivity changed: AVAILABLE");for(let e of this.qo)e(0)}ko(){Q(JL,"Network connectivity changed: UNAVAILABLE");for(let e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var F_=null;function AS(){return F_===null?F_=(function(){return 268435456+Math.round(2147483648*Math.random())})():F_++,"0x"+F_.toString(16)}var vC="RestConnection",MW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},RS=class{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===G_?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,t,r,i,s){let o=AS(),a=this.zo(e,t.toUriEncodedString());Q(vC,`Sending RPC '${e}' ${o}:`,a,r);let c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,s);let{host:d}=new URL(a),h=Mo(d);return this.Jo(e,a,c,r,h).then(m=>(Q(vC,`Received RPC '${e}' ${o}: `,m),m),m=>{throw kl(vC,`RPC '${e}' ${o} failed with error: `,m,"url: ",a,"request:",r),m})}Ho(e,t,r,i,s,o){return this.Go(e,t,r,i,s)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Gl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,t){let r=MW[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}};var PS=class{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}};var Tn="WebChannelConnection",NS=class extends RS{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,s){let o=AS();return new Promise((a,c)=>{let d=new dC;d.setWithCredentials(!0),d.listenOnce(hC.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Rf.NO_ERROR:let m=d.getResponseJson();Q(Tn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),a(m);break;case Rf.TIMEOUT:Q(Tn,`RPC '${e}' ${o} timed out`),c(new Y(z.DEADLINE_EXCEEDED,"Request time out"));break;case Rf.HTTP_ERROR:let I=d.getStatus();if(Q(Tn,`RPC '${e}' ${o} failed with status:`,I,"response text:",d.getResponseText()),I>0){let R=d.getResponseJson();Array.isArray(R)&&(R=R[0]);let k=R?.error;if(k&&k.status&&k.message){let V=(function(q){let X=q.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(X)>=0?X:z.UNKNOWN})(k.status);c(new Y(V,k.message))}else c(new Y(z.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Y(z.UNAVAILABLE,"Connection failed."));break;default:ge(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Q(Tn,`RPC '${e}' ${o} completed.`)}});let h=JSON.stringify(i);Q(Tn,`RPC '${e}' ${o} sending request:`,i),d.send(t,"POST",h,r,15)})}T_(e,t,r){let i=AS(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=mC(),a=pC(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let h=s.join("");Q(Tn,`Creating RPC '${e}' stream ${i}: ${h}`,c);let m=o.createWebChannel(h,c);this.I_(m);let I=!1,R=!1,k=new PS({Yo:O=>{R?Q(Tn,`Not sending because RPC '${e}' stream ${i} is closed:`,O):(I||(Q(Tn,`Opening RPC '${e}' stream ${i} transport.`),m.open(),I=!0),Q(Tn,`RPC '${e}' stream ${i} sending:`,O),m.send(O))},Zo:()=>m.close()}),V=(O,q,X)=>{O.listen(q,ne=>{try{X(ne)}catch(Pe){setTimeout(()=>{throw Pe},0)}})};return V(m,vl.EventType.OPEN,()=>{R||(Q(Tn,`RPC '${e}' stream ${i} transport opened.`),k.o_())}),V(m,vl.EventType.CLOSE,()=>{R||(R=!0,Q(Tn,`RPC '${e}' stream ${i} transport closed`),k.a_(),this.E_(m))}),V(m,vl.EventType.ERROR,O=>{R||(R=!0,kl(Tn,`RPC '${e}' stream ${i} transport errored. Name:`,O.name,"Message:",O.message),k.a_(new Y(z.UNAVAILABLE,"The operation could not be completed")))}),V(m,vl.EventType.MESSAGE,O=>{if(!R){let q=O.data[0];_t(!!q,16349);let X=q,ne=X?.error||X[0]?.error;if(ne){Q(Tn,`RPC '${e}' stream ${i} received error:`,ne);let Pe=ne.status,ut=(function(_){let E=xt[_];if(E!==void 0)return ZF(E)})(Pe),Ne=ne.message;ut===void 0&&(ut=z.INTERNAL,Ne="Unknown error status: "+Pe+" with message "+ne.message),R=!0,k.a_(new Y(ut,Ne)),m.close()}else Q(Tn,`RPC '${e}' stream ${i} received:`,q),k.u_(q)}}),V(a,fC.STAT_EVENT,O=>{O.stat===M_.PROXY?Q(Tn,`RPC '${e}' stream ${i} detected buffering proxy`):O.stat===M_.NOPROXY&&Q(Tn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{k.__()},0),k}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}};function EC(){return typeof document<"u"?document:null}function wv(n){return new ZC(n,!0)}var iv=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();let t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&Q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}};var XL="PersistentStream",kS=class{constructor(e,t,r,i,s,o,a,c){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new iv(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===z.RESOURCE_EXHAUSTED?(Is(t.toString()),Is("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;let e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===t&&this.G_(r,i)},r=>{e(()=>{let i=new Y(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,t){let r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Q(XL,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(Q(XL,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},xS=class extends kS{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();let t=yW(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Ee.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?Ee.min():o.readTime?Dl(o.readTime):Ee.min()})(e);return this.listener.H_(t,r)}Y_(e){let t={};t.database=GL(this.serializer),t.addTarget=(function(s,o){let a,c=o.target;if(a=qC(c)?{documents:_W(s,c)}:{query:vW(s,c).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=eV(s,o.resumeToken);let d=eS(s,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(Ee.min())>0){a.readTime=tS(s,o.snapshotVersion.toTimestamp());let d=eS(s,o.expectedCount);d!==null&&(a.expectedCount=d)}return a})(this.serializer,e);let r=IW(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){let t={};t.database=GL(this.serializer),t.removeTarget=e,this.q_(t)}};var MS=class{},OS=class extends MS{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Y(z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,nS(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y(z.UNKNOWN,s.toString())})}Ho(e,t,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,nS(t,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y(z.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}},LS=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Is(t),this.aa=!1):Q("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}};var Hl="RemoteStore",FS=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Xf(this)&&(Q(Hl,"Restarting streams for network reachability change."),await(async function(c){let d=Le(c);d.Ea.add(4),await Jf(d),d.Ra.set("Unknown"),d.Ea.delete(4),await bv(d)})(this))})}),this.Ra=new LS(r,i)}};async function bv(n){if(Xf(n))for(let e of n.da)await e(!0)}async function Jf(n){for(let e of n.da)await e(!1)}function dV(n,e){let t=Le(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),_D(t)?yD(t):Ql(t).O_()&&gD(t,e))}function mD(n,e){let t=Le(n),r=Ql(t);t.Ia.delete(e),r.O_()&&hV(t,e),t.Ia.size===0&&(r.O_()?r.L_():Xf(t)&&t.Ra.set("Unknown"))}function gD(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ql(n).Y_(e)}function hV(n,e){n.Va.Ue(e),Ql(n).Z_(e)}function yD(n){n.Va=new XC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Ql(n).start(),n.Ra.ua()}function _D(n){return Xf(n)&&!Ql(n).x_()&&n.Ia.size>0}function Xf(n){return Le(n).Ea.size===0}function fV(n){n.Va=void 0}async function OW(n){n.Ra.set("Online")}async function LW(n){n.Ia.forEach((e,t)=>{gD(n,e)})}async function FW(n,e){fV(n),_D(n)?(n.Ra.ha(e),yD(n)):n.Ra.set("Unknown")}async function VW(n,e,t){if(n.Ra.set("Online"),e instanceof J_&&e.state===2&&e.cause)try{await(async function(i,s){let o=s.cause;for(let a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))})(n,e)}catch(r){Q(Hl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ZL(n,r)}else if(e instanceof Sl?n.Va.Ze(e):e instanceof Y_?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ee.min()))try{let r=await lV(n.localStore);t.compareTo(r)>=0&&await(function(s,o){let a=s.Va.Tt(o);return a.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){let h=s.Ia.get(d);h&&s.Ia.set(d,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,d)=>{let h=s.Ia.get(c);if(!h)return;s.Ia.set(c,h.withResumeToken(Cn.EMPTY_BYTE_STRING,h.snapshotVersion)),hV(s,c);let m=new zf(h.target,c,d,h.sequenceNumber);gD(s,m)}),s.remoteSyncer.applyRemoteEvent(a)})(n,t)}catch(r){Q(Hl,"Failed to raise snapshot:",r),await ZL(n,r)}}async function ZL(n,e,t){if(!Wl(e))throw e;n.Ea.add(1),await Jf(n),n.Ra.set("Offline"),t||(t=()=>lV(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Q(Hl,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await bv(n)})}async function eF(n,e){let t=Le(n);t.asyncQueue.verifyOperationInProgress(),Q(Hl,"RemoteStore received new credentials");let r=Xf(t);t.Ea.add(3),await Jf(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await bv(t)}async function UW(n,e){let t=Le(n);e?(t.Ea.delete(2),await bv(t)):e||(t.Ea.add(2),await Jf(t),t.Ra.set("Unknown"))}function Ql(n){return n.ma||(n.ma=(function(t,r,i){let s=Le(t);return s.sa(),new xS(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(n.datastore,n.asyncQueue,{Xo:OW.bind(null,n),t_:LW.bind(null,n),r_:FW.bind(null,n),H_:VW.bind(null,n)}),n.da.push(async e=>{e?(n.ma.B_(),_D(n)?yD(n):n.Ra.set("Unknown")):(await n.ma.stop(),fV(n))})),n.ma}var VS=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let o=Date.now()+r,a=new n(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function pV(n,e){if(Is("AsyncQueue",`${e}: ${n}`),Wl(n))return new Y(z.UNAVAILABLE,`${e}: ${n}`);throw n}var sv=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ae.comparator(t.key,r.key):(t,r)=>ae.comparator(t.key,r.key),this.keyedMap=Pf(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var ov=class{constructor(){this.ga=new At(ae.comparator)}track(e){let t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ge(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){let e=[];return this.ga.inorderTraversal((t,r)=>{e.push(r)}),e}},ql=class n{constructor(e,t,r,i,s,o,a,c,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,i,s){let o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new n(e,t,sv.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ev(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var US=class{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}},jS=class{constructor(){this.queries=tF(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){let i=Le(t),s=i.queries;i.queries=tF(),s.forEach((o,a)=>{for(let c of a.Sa)c.onError(r)})})(this,new Y(z.ABORTED,"Firestore shutting down"))}};function tF(){return new Ts(n=>HF(n),Ev)}async function jW(n,e){let t=Le(n),r=3,i=e.query,s=t.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new US,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await t.onListen(i,!0);break;case 1:s.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(o){let a=pV(o,`Initialization of query '${Il(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.Sa.push(e),e.va(t.onlineState),s.wa&&e.Fa(s.wa)&&vD(t)}async function BW(n,e){let t=Le(n),r=e.query,i=3,s=t.queries.get(r);if(s){let o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function $W(n,e){let t=Le(n),r=!1;for(let i of e){let s=i.query,o=t.queries.get(s);if(o){for(let a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&vD(t)}function HW(n,e,t){let r=Le(n),i=r.queries.get(e);if(i)for(let s of i.Sa)s.onError(t);r.queries.delete(e)}function vD(n){n.Ca.forEach(e=>{e.next()})}var BS,nF;(nF=BS||(BS={})).Ma="default",nF.Cache="cache";var $S=class{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ql(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;let r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;let t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=ql.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==BS.Cache}};var av=class{constructor(e){this.key=e}},cv=class{constructor(e){this.key=e}},HS=class{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=je(),this.mutatedKeys=je(),this.eu=qF(e),this.tu=new sv(this.eu)}get nu(){return this.Ya}ru(e,t){let r=t?t.iu:new ov,i=t?t.tu:this.tu,s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,m)=>{let I=i.get(h),R=Iv(this.query,m)?m:null,k=!!I&&this.mutatedKeys.has(I.key),V=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations),O=!1;I&&R?I.data.isEqual(R.data)?k!==V&&(r.track({type:3,doc:R}),O=!0):this.su(I,R)||(r.track({type:2,doc:R}),O=!0,(c&&this.eu(R,c)>0||d&&this.eu(R,d)<0)&&(a=!0)):!I&&R?(r.track({type:0,doc:R}),O=!0):I&&!R&&(r.track({type:1,doc:I}),O=!0,(c||d)&&(a=!0)),O&&(R?(o=o.add(R),s=V?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;let o=e.iu.ya();o.sort((h,m)=>(function(R,k){let V=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge(20277,{Rt:O})}};return V(R)-V(k)})(h.type,m.type)||this.eu(h.doc,m.doc)),this.ou(r),i=i??!1;let a=t&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,d=c!==this.Za;return this.Za=c,o.length!==0||d?{snapshot:new ql(this.query,e.tu,s,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ov,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];let e=this.Xa;this.Xa=je(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});let t=[];return e.forEach(r=>{this.Xa.has(r)||t.push(new cv(r))}),this.Xa.forEach(r=>{e.has(r)||t.push(new av(r))}),t}cu(e){this.Ya=e.Qs,this.Xa=je();let t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ql.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}},ED="SyncEngine",qS=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},zS=class{constructor(e){this.key=e,this.hu=!1}},GS=class{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ts(a=>HF(a),Ev),this.Iu=new Map,this.Eu=new Set,this.du=new At(ae.comparator),this.Au=new Map,this.Ru=new Wf,this.Vu={},this.mu=new Map,this.fu=Gf.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}};async function qW(n,e,t=!0){let r=vV(n),i,s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await mV(r,e,t,!0),i}async function zW(n,e){let t=vV(n);await mV(t,e,!0,!1)}async function mV(n,e,t,r){let i=await kW(n.localStore,Mi(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t),a;return r&&(a=await GW(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&dV(n.remoteStore,i),a}async function GW(n,e,t,r,i){n.pu=(m,I,R)=>(async function(V,O,q,X){let ne=O.view.ru(q);ne.Cs&&(ne=await YL(V.localStore,O.query,!1).then(({documents:T})=>O.view.ru(T,ne)));let Pe=X&&X.targetChanges.get(O.targetId),ut=X&&X.targetMismatches.get(O.targetId)!=null,Ne=O.view.applyChanges(ne,V.isPrimaryClient,Pe,ut);return iF(V,O.targetId,Ne.au),Ne.snapshot})(n,m,I,R);let s=await YL(n.localStore,e,!0),o=new HS(e,s.Qs),a=o.ru(s.documents),c=qf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),d=o.applyChanges(a,n.isPrimaryClient,c);iF(n,t,d.au);let h=new qS(e,t,o);return n.Tu.set(e,h),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),d.snapshot}async function WW(n,e,t){let r=Le(n),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!Ev(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await CS(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&mD(r.remoteStore,i.targetId),WS(r,i.targetId)}).catch(yv)):(WS(r,i.targetId),await CS(r.localStore,i.targetId,!0))}async function KW(n,e){let t=Le(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),mD(t.remoteStore,r.targetId))}async function gV(n,e){let t=Le(n);try{let r=await PW(t.localStore,e);e.targetChanges.forEach((i,s)=>{let o=t.Au.get(s);o&&(_t(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?_t(o.hu,14607):i.removedDocuments.size>0&&(_t(o.hu,42227),o.hu=!1))}),await _V(t,r,e)}catch(r){await yv(r)}}function rF(n,e,t){let r=Le(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Tu.forEach((s,o)=>{let a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(o,a){let c=Le(o);c.onlineState=a;let d=!1;c.queries.forEach((h,m)=>{for(let I of m.Sa)I.va(a)&&(d=!0)}),d&&vD(c)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function QW(n,e,t){let r=Le(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Au.get(e),s=i&&i.key;if(s){let o=new At(ae.comparator);o=o.insert(s,ei.newNoDocument(s,Ee.min()));let a=je().add(s),c=new Q_(Ee.min(),new Map,new At(Me),o,a);await gV(r,c),r.du=r.du.remove(s),r.Au.delete(e),ID(r)}else await CS(r.localStore,e,!1).then(()=>WS(r,e,t)).catch(yv)}function WS(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(r=>{n.Ru.containsKey(r)||yV(n,r)})}function yV(n,e){n.Eu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(mD(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),ID(n))}function iF(n,e,t){for(let r of t)r instanceof av?(n.Ru.addReference(r.key,e),YW(n,r)):r instanceof cv?(Q(ED,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||yV(n,r.key)):ge(19791,{wu:r})}function YW(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(Q(ED,"New document in limbo: "+t),n.Eu.add(r),ID(n))}function ID(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Eu.values().next().value;n.Eu.delete(e);let t=new ae(Et.fromString(e)),r=n.fu.next();n.Au.set(r,new zS(t)),n.du=n.du.insert(t,r),dV(n.remoteStore,new zf(Mi(BF(t.path)),r,"TargetPurposeLimboResolution",oD.ce))}}async function _V(n,e,t){let r=Le(n),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,c)=>{o.push(r.pu(c,e,t).then(d=>{if((d||t)&&r.isPrimaryClient){let h=d?!d.fromCache:t?.targetChanges.get(c.targetId)?.current;r.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(d){i.push(d);let h=IS.As(c.targetId,d);s.push(h)}}))}),await Promise.all(o),r.Pu.H_(i),await(async function(c,d){let h=Le(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>B.forEach(d,I=>B.forEach(I.Es,R=>h.persistence.referenceDelegate.addReference(m,I.targetId,R)).next(()=>B.forEach(I.ds,R=>h.persistence.referenceDelegate.removeReference(m,I.targetId,R)))))}catch(m){if(!Wl(m))throw m;Q(pD,"Failed to update sequence numbers: "+m)}for(let m of d){let I=m.targetId;if(!m.fromCache){let R=h.Ms.get(I),k=R.snapshotVersion,V=R.withLastLimboFreeSnapshotVersion(k);h.Ms=h.Ms.insert(I,V)}}})(r.localStore,s))}async function JW(n,e){let t=Le(n);if(!t.currentUser.isEqual(e)){Q(ED,"User change. New user:",e.toKey());let r=await uV(t.localStore,e);t.currentUser=e,(function(s,o){s.mu.forEach(a=>{a.forEach(c=>{c.reject(new Y(z.CANCELLED,o))})}),s.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _V(t,r.Ls)}}function XW(n,e){let t=Le(n),r=t.Au.get(e);if(r&&r.hu)return je().add(r.key);{let i=je(),s=t.Iu.get(e);if(!s)return i;for(let o of s){let a=t.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function vV(n){let e=Le(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=gV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QW.bind(null,e),e.Pu.H_=$W.bind(null,e.eventManager),e.Pu.yu=HW.bind(null,e.eventManager),e}var EV=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=wv(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,r){return null}Mu(t,r){return null}vu(t){return RW(this.persistence,new bS,t.initialUser,this.serializer)}Cu(t){return new ev(ES.mi,this.serializer)}Du(t){return new SS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return n.provider={build:()=>new n},n})(),KS=class extends EV{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){_t(this.persistence.referenceDelegate instanceof tv,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new aS(r,e.asyncQueue,t)}Cu(e){let t=this.cacheSizeBytes!==void 0?Dr.withCacheSize(this.cacheSizeBytes):Dr.DEFAULT;return new ev(r=>tv.mi(r,t),this.serializer)}};var ZW=(()=>{class n{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>rF(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=JW.bind(null,this.syncEngine),await UW(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new jS})()}createDatastore(t){let r=wv(t.databaseInfo.databaseId),i=(function(o){return new NS(o)})(t.databaseInfo);return(function(o,a,c,d){return new OS(o,a,c,d)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,s,o,a,c){return new FS(i,s,o,a,c)})(this.localStore,this.datastore,t.asyncQueue,r=>rF(this.syncEngine,r,0),(function(){return rv.v()?new rv:new DS})())}createSyncEngine(t,r){return(function(s,o,a,c,d,h,m){let I=new GS(s,o,a,c,d,h);return m&&(I.gu=!0),I})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){let i=Le(r);Q(Hl,"RemoteStore shutting down."),i.Ea.add(5),await Jf(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}return n.provider={build:()=>new n},n})();var QS=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Is("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Yo="FirestoreClient",YS=class{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=an.UNAUTHENTICATED,this.clientId=$_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Q(Yo,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Q(Yo,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=pV(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function IC(n,e){n.asyncQueue.verifyOperationInProgress(),Q(Yo,"Initializing OfflineComponentProvider");let t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await uV(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function sF(n,e){n.asyncQueue.verifyOperationInProgress();let t=await e7(n);Q(Yo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>eF(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>eF(e.remoteStore,i)),n._onlineComponents=e}async function e7(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Q(Yo,"Using user provided OfflineComponentProvider");try{await IC(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===z.FAILED_PRECONDITION||i.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;kl("Error using user provided cache. Falling back to memory cache: "+t),await IC(n,new EV)}}else Q(Yo,"Using default OfflineComponentProvider"),await IC(n,new KS(void 0));return n._offlineComponents}async function t7(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Q(Yo,"Using user provided OnlineComponentProvider"),await sF(n,n._uninitializedComponentsProvider._online)):(Q(Yo,"Using default OnlineComponentProvider"),await sF(n,new ZW))),n._onlineComponents}async function n7(n){let e=await t7(n),t=e.eventManager;return t.onListen=qW.bind(null,e.syncEngine),t.onUnlisten=WW.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=zW.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=KW.bind(null,e.syncEngine),t}function r7(n,e,t={}){let r=new Es;return n.asyncQueue.enqueueAndForget(async()=>(function(s,o,a,c,d){let h=new QS({next:I=>{h.Nu(),o.enqueueAndForget(()=>BW(s,m)),I.fromCache&&c.source==="server"?d.reject(new Y(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(I)},error:I=>d.reject(I)}),m=new $S(a,h,{includeMetadataChanges:!0,qa:!0});return jW(s,m)})(await n7(n),n.asyncQueue,e,t,r)),r.promise}function IV(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var oF=new Map;var wV="firestore.googleapis.com",aF=!0,uv=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Y(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wV,this.ssl=aF}else this.host=e.host,this.ssl=e.ssl??aF;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cV;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<SW)throw new Y(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}S8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IV(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Y(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Y(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Y(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Kf=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new wC;switch(r.type){case"firstParty":return new SC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=oF.get(t);r&&(Q("ComponentProvider","Removing Datastore"),oF.delete(t),r.terminate())})(this),Promise.resolve()}};function i7(n,e,t,r={}){n=RC(n,Kf);let i=Mo(e),s=n._getSettings(),o=le(j({},s),{emulatorOptions:n._getEmulatorOptions()}),a=`${e}:${t}`;i&&(a_(`https://${a}`),c_("Firestore",!0)),s.host!==wV&&s.host!==a&&kl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let c=le(j({},s),{host:a,ssl:i,emulatorOptions:r});if(!Pi(c,o)&&(n._setSettings(c),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=an.MOCK_USER;else{d=eO(r.mockUserToken,n._app?.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new Y(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new an(m)}n._authCredentials=new bC(new j_(d,h))}}var zl=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Rr=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Al(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Yf(t,n._jsonSchema))return new n(e,r||null,new ae(Et.fromString(t.referencePath)))}};Rr._jsonSchemaVersion="firestore/documentReference/1.0",Rr._jsonSchema={type:Lt("string",Rr._jsonSchemaVersion),referencePath:Lt("string")};var Al=class n extends zl{constructor(e,t,r){super(e,t,BF(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Rr(this.firestore,null,new ae(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function bV(n,e,...t){if(n=zn(n),C8("collection","path",e),n instanceof Kf){let r=Et.fromString(e,...t);return CL(r),new Al(n,null,r)}{if(!(n instanceof Rr||n instanceof Al))throw new Y(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Et.fromString(e,...t));return CL(r),new Al(n.firestore,null,r)}}var cF="AsyncQueue",lv=class{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new iv(this,"async_queue_retry"),this._c=()=>{let r=EC();r&&Q(cF,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;let t=EC();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let t=EC();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});let t=new Es;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Wl(e))throw e;Q(cF,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){let t=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Is("INTERNAL UNHANDLED ERROR: ",uF(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);let i=VS.createAndSchedule(this,e,t,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&ge(47125,{Pc:uF(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(let t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){let t=this.tc.indexOf(e);this.tc.splice(t,1)}};function uF(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}var dv=class extends Kf{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new lv,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new lv(e),this._firestoreClient=void 0,await e}}};function TV(n,e){let t=typeof n=="object"?n:f_(),r=typeof n=="string"?n:e||G_,i=wf(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=Z1("firestore");s&&i7(i,...s)}return i}function s7(n){if(n._terminated)throw new Y(z.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||o7(n),n._firestoreClient}function o7(n){let e=n._freezeSettings(),t=(function(i,s,o,a){return new kC(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,IV(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new YS(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(i){let s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(n._componentsProvider))}var zo=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Cn.fromBase64String(e))}catch(t){throw new Y(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Yf(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};zo._jsonSchemaVersion="firestore/bytes/1.0",zo._jsonSchema={type:Lt("string",zo._jsonSchemaVersion),bytes:Lt("string")};var hv=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Y(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ar(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var fv=class{constructor(e){this._methodName=e}};var Go=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Y(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Y(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Yf(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};Go._jsonSchemaVersion="firestore/geoPoint/1.0",Go._jsonSchema={type:Lt("string",Go._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};var Wo=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Yf(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new Y(z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Wo._jsonSchemaVersion="firestore/vectorValue/1.0",Wo._jsonSchema={type:Lt("string",Wo._jsonSchemaVersion),vectorValues:Lt("object")};var a7=/^__.*__$/;function CV(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge(40011,{Ac:n})}}var JS=class n{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new n(j(j({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){let t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){let t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ZS(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(CV(this.Ac)&&a7.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}},XS=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||wv(e)}Cc(e,t,r,i=!1){return new JS({Ac:e,methodName:t,Dc:r,path:Ar.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function c7(n){let e=n._freezeSettings(),t=wv(n._databaseId);return new XS(n._databaseId,!!e.ignoreUndefinedProperties,t)}function u7(n,e,t,r=!1){return wD(t,n.Cc(r?4:3,e))}function wD(n,e){if(SV(n=zn(n)))return d7("Unsupported field value:",e,n),l7(n,e);if(n instanceof fv)return(function(r,i){if(!CV(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){let s=[],o=0;for(let a of r){let c=wD(a,i.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}})(n,e)}return(function(r,i){if((r=zn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return iW(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Jt.fromDate(r);return{timestampValue:tS(i.serializer,s)}}if(r instanceof Jt){let s=new Jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:tS(i.serializer,s)}}if(r instanceof Go)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zo)return{bytesValue:eV(i.serializer,r._byteString)};if(r instanceof Rr){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:tV(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Wo)return(function(o,a){return{mapValue:{fields:{[cD]:{stringValue:uD},[Ml]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw a.Sc("VectorValues must only contain numeric values.");return fD(a.serializer,d)})}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${gv(r)}`)})(n,e)}function l7(n,e){let t={};return AF(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Kl(n,(r,i)=>{let s=wD(i,e.mc(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function SV(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Jt||n instanceof Go||n instanceof zo||n instanceof Rr||n instanceof fv||n instanceof Wo)}function d7(n,e,t){if(!SV(t)||!fF(t)){let r=gv(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}var h7=new RegExp("[~\\*/\\[\\]]");function f7(n,e,t){if(e.search(h7)>=0)throw ZS(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new hv(...e.split("."))._internalPath}catch{throw ZS(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ZS(n,e,t,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new Y(z.INVALID_ARGUMENT,a+n+c)}var pv=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Rr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new eD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(bD("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},eD=class extends pv{data(){return super.data()}};function bD(n,e){return typeof e=="string"?f7(n,e):e instanceof hv?e._internalPath:e._delegate._internalPath}function p7(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Y(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Qf=class{},tD=class extends Qf{};function DV(n,e,...t){let r=[];e instanceof Qf&&r.push(e),r=r.concat(t),(function(s){let o=s.filter(c=>c instanceof nD).length,a=s.filter(c=>c instanceof mv).length;if(o>1||o>0&&a>0)throw new Y(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)n=i._apply(n);return n}var mv=class n extends tD{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return RV(e._query,t),new zl(e.firestore,e.converter,zC(e._query,t))}_parse(e){let t=c7(e.firestore);return(function(s,o,a,c,d,h,m){let I;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Y(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){dF(m,h);let k=[];for(let V of m)k.push(lF(c,s,V));I={arrayValue:{values:k}}}else I=lF(c,s,m)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||dF(m,h),I=u7(a,o,m,h==="in"||h==="not-in");return Ot.create(d,h,I)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function AV(n,e,t){let r=e,i=bD("where",n);return mv._create(i,r,t)}var nD=class n extends Qf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ti.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:((function(i,s){let o=i,a=s.getFlattenedFilters();for(let c of a)RV(o,c),o=zC(o,c)})(e._query,t),new zl(e.firestore,e.converter,zC(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function lF(n,e,t){if(typeof(t=zn(t))=="string"){if(t==="")throw new Y(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$F(e)&&t.indexOf("/")!==-1)throw new Y(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Et.fromString(t));if(!ae.isDocumentKey(r))throw new Y(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return kL(n,new ae(r))}if(t instanceof Rr)return kL(n,t._key);throw new Y(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gv(t)}.`)}function dF(n,e){if(!Array.isArray(n)||n.length===0)throw new Y(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RV(n,e){let t=(function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Y(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Y(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var rD=class{convertValue(e,t="none"){switch(Ko(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ge(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Kl(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){let t=e.fields?.[Ml].arrayValue?.values?.map(r=>mt(r.doubleValue));return new Wo(t)}convertGeoPoint(e){return new Go(mt(e.latitude),mt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=vv(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Vf(e));default:return null}}convertTimestamp(e){let t=ws(e);return new Jt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Et.fromString(e);_t(aV(r),9688,{name:e});let i=new W_(r.get(1),r.get(3)),s=new ae(r.popFirst(5));return i.isEqual(t)||Is(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};var Cl=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Rl=class n extends pv{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Pl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(bD("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Rl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Rl._jsonSchema={type:Lt("string",Rl._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};var Pl=class extends Rl{data(e={}){return super.data(e)}},Nl=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Cl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Pl(this._firestore,this._userDataWriter,r.key,r,new Cl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Y(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new Pl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Cl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new Pl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Cl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,h=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:m7(a.type),doc:c,oldIndex:d,newIndex:h}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(t.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function m7(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge(61501,{type:n})}}Nl._jsonSchemaVersion="firestore/querySnapshot/1.0",Nl._jsonSchema={type:Lt("string",Nl._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};var iD=class extends rD{constructor(e){super(),this.firestore=e}convertBytes(e){return new zo(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rr(this.firestore,null,t)}};function PV(n){n=RC(n,zl);let e=RC(n.firestore,dv),t=s7(e),r=new iD(e);return p7(n._query),r7(t,n._query).then(i=>new Nl(e,r,n,i))}(function(e,t=!0){(function(i){Gl=i})(Vo),Fo(new Sr("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new dv(new TC(r.getProvider("auth-internal")),new DC(o,r.getProvider("app-check-internal")),(function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Y(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new W_(d.options.projectId,h)})(o,i),o);return s=j({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),fs(wL,bL,e),fs(wL,bL,"esm2020")})();function g7(n,e){if(n&1&&(P(0,"div")(1,"p")(2,"strong"),D(3,"Ime:"),N(),D(4),N(),P(5,"p")(6,"strong"),D(7,"Email:"),N(),D(8),N(),P(9,"pre"),D(10),lb(11,"json"),N()()),n&2){let t=sn();J(4),br(" ",t.name),J(4),br(" ",t.email),J(2),bn(db(11,3,t.userData))}}function y7(n,e){n&1&&(P(0,"p"),D(1,"Korisnik nije ulogovan."),N())}var Tv=class n{userData=null;loggedIn=!1;email="";name="";async ngOnInit(){let e=uC(),t=TV();aC(e,async r=>{if(r&&r.email){this.loggedIn=!0,this.email=r.email;try{let i=DV(bV(t,"users"),AV("email","==",this.email)),s=await PV(i);s.empty?console.log("Nije prona\u0111en korisnik u bazi!"):(this.userData=s.docs[0].data(),this.name=this.userData.name||"")}catch(i){console.error("Gre\u0161ka pri dohva\u0107anju korisnika:",i)}}else this.loggedIn=!1,this.userData=null,this.name=""})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ue({type:n,selectors:[["app-profile"]],decls:6,vars:2,consts:[["notLogged",""],[1,"profile-container"],[4,"ngIf","ngIfElse"]],template:function(t,r){if(t&1&&(P(0,"h2"),D(1,"Profil korisnika"),N(),P(2,"section",1),pt(3,g7,12,5,"div",2)(4,y7,2,0,"ng-template",null,0,hb),N()),t&2){let i=rc(5);J(3),st("ngIf",r.loggedIn)("ngIfElse",i)}},dependencies:[ve,Jr,Cb],styles:["h2[_ngcontent-%COMP%]{text-align:center;color:#1e73be;margin-bottom:30px;font-family:Arial,sans-serif;font-weight:700}.profile-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;flex-direction:column;padding:20px;gap:20px}.profile-card[_ngcontent-%COMP%]{max-width:400px;background-color:#f0f4f8;padding:25px;border-radius:15px;box-shadow:0 6px 12px #0000001a;text-align:left;font-family:Arial,sans-serif;line-height:1.6}.profile-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0;font-size:16px;color:#333}"]})};var jV=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(se(rr),se(xn))};static \u0275dir=Ze({type:n})}return n})(),sp=(()=>{class n extends jV{static \u0275fac=(()=>{let t;return function(i){return(t||(t=wr(n)))(i||n)}})();static \u0275dir=Ze({type:n,features:[qn]})}return n})(),Zl=new Z("");var _7={provide:Zl,useExisting:Xn(()=>Ft),multi:!0};function v7(){let n=Tr()?Tr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var E7=new Z(""),Ft=(()=>{class n extends jV{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!v7())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(se(rr),se(xn),se(E7,8))};static \u0275dir=Ze({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&ie("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},standalone:!1,features:[Ti([_7]),qn]})}return n})();function I7(n){return n==null||w7(n)===0}function w7(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var SD=new Z(""),BV=new Z("");function b7(n){return I7(n.value)?{required:!0}:null}function NV(n){return null}function $V(n){return n!=null}function HV(n){return To(n)?ht(n):n}function qV(n){let e={};return n.forEach(t=>{e=t!=null?j(j({},e),t):e}),Object.keys(e).length===0?null:e}function zV(n,e){return e.map(t=>t(n))}function T7(n){return!n.validate}function GV(n){return n.map(e=>T7(e)?e:t=>e.validate(t))}function C7(n){if(!n)return null;let e=n.filter($V);return e.length==0?null:function(t){return qV(zV(t,e))}}function DD(n){return n!=null?C7(GV(n)):null}function S7(n){if(!n)return null;let e=n.filter($V);return e.length==0?null:function(t){let r=zV(t,e).map(HV);return OI(r).pipe(nt(qV))}}function AD(n){return n!=null?S7(GV(n)):null}function kV(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function D7(n){return n._rawValidators}function A7(n){return n._rawAsyncValidators}function TD(n){return n?Array.isArray(n)?n:[n]:[]}function Sv(n,e){return Array.isArray(n)?n.includes(e):n===e}function xV(n,e){let t=TD(e);return TD(n).forEach(i=>{Sv(t,i)||t.push(i)}),t}function MV(n,e){return TD(e).filter(t=>!Sv(n,t))}var Dv=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=DD(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=AD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Xl=class extends Dv{name;get formDirective(){return null}get path(){return null}},ip=class extends Dv{_parent=null;name=null;valueAccessor=null},Av=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var un=(()=>{class n extends Av{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(se(ip,2))};static \u0275dir=Ze({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&So("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[qn]})}return n})(),ed=(()=>{class n extends Av{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(se(Xl,10))};static \u0275dir=Ze({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&So("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[qn]})}return n})();var Zf="VALID",Cv="INVALID",Yl="PENDING",ep="DISABLED",Jo=class{},Rv=class extends Jo{value;source;constructor(e,t){super(),this.value=e,this.source=t}},np=class extends Jo{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},rp=class extends Jo{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Jl=class extends Jo{status;source;constructor(e,t){super(),this.status=e,this.source=t}},CD=class extends Jo{source;constructor(e){super(),this.source=e}},Pv=class extends Jo{source;constructor(e){super(),this.source=e}};function WV(n){return(xv(n)?n.validators:n)||null}function R7(n){return Array.isArray(n)?DD(n):n||null}function KV(n,e){return(xv(e)?e.asyncValidators:n)||null}function P7(n){return Array.isArray(n)?AD(n):n||null}function xv(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function N7(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new ee(1e3,"");if(!r[t])throw new ee(1001,"")}function k7(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new ee(1002,"")})}var Nv=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return kt(this.statusReactive)}set status(e){kt(()=>this.statusReactive.set(e))}_status=nl(()=>this.statusReactive());statusReactive=er(void 0);get valid(){return this.status===Zf}get invalid(){return this.status===Cv}get pending(){return this.status==Yl}get disabled(){return this.status===ep}get enabled(){return this.status!==ep}errors;get pristine(){return kt(this.pristineReactive)}set pristine(e){kt(()=>this.pristineReactive.set(e))}_pristine=nl(()=>this.pristineReactive());pristineReactive=er(!0);get dirty(){return!this.pristine}get touched(){return kt(this.touchedReactive)}set touched(e){kt(()=>this.touchedReactive.set(e))}_touched=nl(()=>this.touchedReactive());touchedReactive=er(!1);get untouched(){return!this.touched}_events=new Rt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(xV(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(xV(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(MV(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(MV(e,this._rawAsyncValidators))}hasValidator(e){return Sv(this._rawValidators,e)}hasAsyncValidator(e){return Sv(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(le(j({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new rp(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new rp(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(le(j({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new np(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new np(!0,r))}markAsPending(e={}){this.status=Yl;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Jl(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(le(j({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=ep,this.errors=null,this._forEachChild(i=>{i.disable(le(j({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Rv(this.value,r)),this._events.next(new Jl(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(le(j({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Zf,this._forEachChild(r=>{r.enable(le(j({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(le(j({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zf||this.status===Yl)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Rv(this.value,t)),this._events.next(new Jl(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(le(j({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ep:Zf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Yl,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=HV(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Jl(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Ct,this.statusChanges=new Ct}_calculateStatus(){return this._allControlsDisabled()?ep:this.errors?Cv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Yl)?Yl:this._anyControlsHaveStatus(Cv)?Cv:Zf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new np(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new rp(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){xv(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=R7(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=P7(this._rawAsyncValidators)}},kv=class extends Nv{constructor(e,t,r){super(WV(t),KV(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){k7(this,!0,e),Object.keys(e).forEach(r=>{N7(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,le(j({},t),{onlySelf:!0}))}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Pv(this))}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var RD=new Z("",{factory:()=>PD}),PD="always";function x7(n,e){return[...e.path,n]}function QV(n,e,t=PD){YV(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),O7(n,e),F7(n,e),L7(n,e),M7(n,e)}function OV(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function M7(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function YV(n,e){let t=D7(n);e.validator!==null?n.setValidators(kV(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=A7(n);e.asyncValidator!==null?n.setAsyncValidators(kV(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();OV(e._rawValidators,i),OV(e._rawAsyncValidators,i)}function O7(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&JV(n,e)})}function L7(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&JV(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function JV(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function F7(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function V7(n,e){n==null,YV(n,e)}function U7(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function j7(n){return Object.getPrototypeOf(n.constructor)===sp}function B7(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function $7(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(s=>{s.constructor===Ft?t=s:j7(s)?r=s:i=s}),i||r||t||null}var H7={provide:Xl,useExisting:Xn(()=>wc)},tp=Promise.resolve(),wc=(()=>{class n extends Xl{callSetDisabledState;get submitted(){return kt(this.submittedReactive)}_submitted=nl(()=>this.submittedReactive());submittedReactive=er(!1);_directives=new Set;form;ngSubmit=new Ct;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new kv({},DD(t),AD(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){tp.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),QV(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){tp.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){tp.then(()=>{let r=this._findContainer(t.path),i=new kv({});V7(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){tp.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){tp.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),B7(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new CD(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(se(SD,10),se(BV,10),se(RD,8))};static \u0275dir=Ze({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup","",3,"formArray",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&ie("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ti([H7]),qn]})}return n})();function LV(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function FV(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var q7=class extends Nv{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(WV(t),KV(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xv(t)&&(t.nonNullable||t.initialValueIsDefault)&&(FV(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),t.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new Pv(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){LV(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){LV(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){FV(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var z7={provide:ip,useExisting:Xn(()=>Xt)},VV=Promise.resolve(),Xt=(()=>{class n extends ip{_changeDetectorRef;callSetDisabledState;control=new q7;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ct;constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=$7(this,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),U7(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){QV(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){VV.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Do(r);VV.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?x7(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(se(Xl,9),se(SD,10),se(BV,10),se(Zl,10),se(us,8),se(RD,8))};static \u0275dir=Ze({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Ti([z7]),qn,Kr]})}return n})();var td=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ze({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),G7={provide:Zl,useExisting:Xn(()=>Cs),multi:!0},Cs=(()=>{class n extends sp{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=wr(n)))(i||n)}})();static \u0275dir=Ze({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&ie("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Ti([G7]),qn]})}return n})();var W7={provide:Zl,useExisting:Xn(()=>ND),multi:!0},ND=(()=>{class n extends sp{writeValue(t){this.setProperty("value",parseFloat(t))}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=wr(n)))(i||n)}})();static \u0275dir=Ze({type:n,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(r,i){r&1&&ie("change",function(o){return i.onChange(o.target.value)})("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Ti([W7]),qn]})}return n})();var K7={provide:Zl,useExisting:Xn(()=>nd),multi:!0};function XV(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Q7(n){return n.split(":")[0]}var nd=(()=>{class n extends sp{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=U(Co).injector;destroyRef=U(zr);cdr=U(us);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,Hh({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let r=this._getOptionId(t),i=XV(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=Q7(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=wr(n)))(i||n)}})();static \u0275dir=Ze({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&ie("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ti([K7]),qn]})}return n})(),Mv=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(XV(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||n)(se(xn),se(rr),se(nd,9))};static \u0275dir=Ze({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),Y7={provide:Zl,useExisting:Xn(()=>ZV),multi:!0};function UV(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function J7(n){return n.split(":")[0]}var ZV=(()=>{class n extends sp{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],s=r.selectedOptions;if(s!==void 0){let o=s;for(let a=0;a<o.length;a++){let c=o[a],d=this._getOptionValue(c.value);i.push(d)}}else{let o=r.options;for(let a=0;a<o.length;a++){let c=o[a];if(c.selected){let d=this._getOptionValue(c.value);i.push(d)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=J7(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=wr(n)))(i||n)}})();static \u0275dir=Ze({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&ie("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ti([Y7]),qn]})}return n})(),Ov=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(UV(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(UV(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(se(xn),se(rr),se(ZV,9))};static \u0275dir=Ze({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var X7=(()=>{class n{_validator=NV;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):NV,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ze({type:n,features:[Kr]})}return n})();var Z7={provide:SD,useExisting:Xn(()=>op),multi:!0};var op=(()=>{class n extends X7{required;inputName="required";normalizeInput=Do;createValidator=t=>b7;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=wr(n)))(i||n)}})();static \u0275dir=Ze({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Xu("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Ti([Z7]),qn]})}return n})();var eK=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=wi({type:n});static \u0275inj=Br({})}return n})();var gt=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:RD,useValue:t.callSetDisabledState??PD}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=wi({type:n});static \u0275inj=Br({imports:[eK]})}return n})();function tK(n,e){n&1&&(P(0,"span",10),D(1,"\u2714"),N())}function nK(n,e){if(n&1){let t=Mn();P(0,"div",8),ie("click",function(){let i=rt(t).index,s=sn();return it(s.toggleHabit(i))}),P(1,"span"),D(2),N(),pt(3,tK,2,0,"span",9),N()}if(n&2){let t=e.$implicit;So("done",t.done),J(2),bn(t.name),J(),st("ngIf",t.done)}}function rK(n,e){n&1&&(P(0,"span",10),D(1,"\u2714"),N())}function iK(n,e){n&1&&(P(0,"span",10),D(1,"\u2716"),N())}function sK(n,e){if(n&1&&(P(0,"div",13)(1,"span"),D(2),N(),pt(3,rK,2,0,"span",9)(4,iK,2,0,"span",9),N()),n&2){let t=e.$implicit,r=sn(2);So("done",t.completed.includes(r.selectedHabit)),J(2),bn(t.date),J(),st("ngIf",t.completed.includes(r.selectedHabit)),J(),st("ngIf",!t.completed.includes(r.selectedHabit))}}function oK(n,e){if(n&1&&(P(0,"div",11)(1,"h4"),D(2),N(),pt(3,sK,5,5,"div",12),N()),n&2){let t=sn();J(2),br("Historija za: ",t.selectedHabit),J(),st("ngForOf",t.history)}}var rd=class n{habits=[{name:"\u010Citanje",done:!1},{name:"Meditacija",done:!1},{name:"Vje\u017Ebanje",done:!1},{name:"Hodanje",done:!1},{name:"Planiranje dana",done:!1},{name:"U\u010Denje",done:!1}];get completedCount(){return this.habits.filter(e=>e.done).length}toggleHabit(e){this.habits[e].done=!this.habits[e].done,this.saveHabits(),this.saveHistory()}addHabit(e){if(!e.trim()){alert("Unesi naziv navike!");return}this.habits.push({name:e,done:!1}),this.saveHabits()}saveHabits(){let e=localStorage.getItem("currentUserEmail")||"guest";localStorage.setItem(`tracker-habits-${e}`,JSON.stringify(this.habits))}loadHabits(){let e=localStorage.getItem("currentUserEmail")||"guest",t=localStorage.getItem(`tracker-habits-${e}`);t&&(this.habits=JSON.parse(t))}saveHistory(){let e=localStorage.getItem("currentUserEmail")||"guest",t=new Date().toLocaleDateString("bs-BA"),r=`tracker-history-${e}`,i=JSON.parse(localStorage.getItem(r)||"[]"),s={date:t,completed:this.habits.filter(a=>a.done).map(a=>a.name)},o=i.findIndex(a=>a.date===t);o!==-1?i[o]=s:i.push(s),localStorage.setItem(r,JSON.stringify(i))}getHistory(){let t=`tracker-history-${localStorage.getItem("currentUserEmail")||"guest"}`;return JSON.parse(localStorage.getItem(t)||"[]")}ngOnInit(){this.loadHabits()}selectedHabit=null;history=[];selectHabit(e){let r=`tracker-history-${localStorage.getItem("currentUserEmail")||"guest"}`;this.history=JSON.parse(localStorage.getItem(r)||"[]"),this.selectedHabit=e}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ue({type:n,selectors:[["app-habit-tracker"]],decls:12,vars:4,consts:[["habitInput",""],[1,"counter"],[1,"grid"],["class","habit-box",3,"done","click",4,"ngFor","ngForOf"],[1,"add-section"],["type","text","placeholder","Dodaj novu naviku..."],[3,"click"],["class","history-section",4,"ngIf"],[1,"habit-box",3,"click"],["class","check",4,"ngIf"],[1,"check"],[1,"history-section"],["class","habit-box history-box",3,"done",4,"ngFor","ngForOf"],[1,"habit-box","history-box"]],template:function(t,r){if(t&1){let i=Mn();P(0,"h3"),D(1,"Habit Tracker"),N(),P(2,"p",1),D(3),N(),P(4,"div",2),pt(5,nK,4,4,"div",3),N(),P(6,"div",4),K(7,"input",5,0),P(9,"button",6),ie("click",function(){rt(i);let o=rc(8);return r.addHabit(o.value),it(o.value="")}),D(10,"Dodaj"),N()(),pt(11,oK,4,2,"div",7)}t&2&&(J(3),tl("",r.completedCount," od ",r.habits.length," navika zavr\u0161eno danas"),J(2),st("ngForOf",r.habits),J(6),st("ngIf",r.selectedHabit))},dependencies:[ve,Cr,Jr,gt],styles:["h3[_ngcontent-%COMP%]{font-size:22px;margin-bottom:10px;color:#1e73be}.counter[_ngcontent-%COMP%]{font-size:16px;font-weight:700;margin-bottom:15px;color:#2c3e50}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:15px;margin-bottom:20px}.habit-box[_ngcontent-%COMP%]{background:#f8f9fa;padding:15px;border-radius:12px;border:2px solid #1e73be;display:flex;justify-content:space-between;align-items:center;font-weight:600;cursor:pointer;transition:.2s ease-in-out}.habit-box[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.habit-box.done[_ngcontent-%COMP%]{background:#1e73be;color:#fff}.check[_ngcontent-%COMP%]{font-size:18px;font-weight:700}.add-section[_ngcontent-%COMP%]{margin-top:15px;display:flex;gap:10px;align-items:center}.add-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px;flex:1;border-radius:8px;border:1px solid #ccc}.add-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#1e73be;color:#fff;padding:10px 15px;border:none;border-radius:8px;cursor:pointer}.history-section[_ngcontent-%COMP%]{margin-top:25px}h4[_ngcontent-%COMP%]{font-size:18px;margin-bottom:12px;color:#1e73be;font-weight:700}.history-box[_ngcontent-%COMP%]{margin-bottom:10px;border-color:#1e73be}.history-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{font-size:16px;font-weight:700}"]})};function aK(n,e){if(n&1&&(P(0,"li"),D(1),N()),n&2){let t=e.$implicit;J(),hy(" ",t.date," - ",t.hours," sati (",t.quality,") ")}}var id=class n{sleepTime="";wakeTime="";sleepQuality="dobar";sleepHours=0;history=[];constructor(){this.loadSleep()}calculateSleepHours(){if(!this.sleepTime||!this.wakeTime)return;let[e,t]=this.sleepTime.split(":").map(Number),[r,i]=this.wakeTime.split(":").map(Number),s=new Date;s.setHours(e,t,0);let o=new Date;o.setHours(r,i,0),o<=s&&o.setDate(o.getDate()+1);let a=o.getTime()-s.getTime();this.sleepHours=+(a/1e3/3600).toFixed(2)}saveSleep(){let e=localStorage.getItem("currentUserEmail")||"guest",t=new Date().toISOString().split("T")[0],r=JSON.parse(localStorage.getItem(`tracker-sleep-history-${e}`)||"[]"),i=r.findIndex(s=>s.date===t);i>-1?r[i]={date:t,hours:this.sleepHours,quality:this.sleepQuality}:r.push({date:t,hours:this.sleepHours,quality:this.sleepQuality}),localStorage.setItem(`tracker-sleep-history-${e}`,JSON.stringify(r)),this.history=r,alert("Sleep data saved!")}loadSleep(){let e=localStorage.getItem("currentUserEmail")||"guest";this.history=JSON.parse(localStorage.getItem(`tracker-sleep-history-${e}`)||"[]");let t=new Date().toISOString().split("T")[0],r=this.history.find(i=>i.date===t);r&&(this.sleepHours=r.hours,this.sleepQuality=r.quality)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ue({type:n,selectors:[["app-sleep-tracker"]],decls:32,vars:5,consts:[[1,"sleep-box"],["type","time",3,"ngModelChange","change","ngModel"],[3,"ngModelChange","ngModel"],["value","los"],["value","srednji"],["value","dobar"],["value","odlican"],[3,"click"],[4,"ngFor","ngForOf"]],template:function(t,r){t&1&&(P(0,"h3"),D(1,"Sleep Tracker"),N(),P(2,"div",0)(3,"label"),D(4,"Vrijeme odlaska na spavanje:"),N(),P(5,"input",1),tt("ngModelChange",function(s){return ot(r.sleepTime,s)||(r.sleepTime=s),s}),ie("change",function(){return r.calculateSleepHours()}),N()(),P(6,"div",0)(7,"label"),D(8,"Vrijeme bu\u0111enja:"),N(),P(9,"input",1),tt("ngModelChange",function(s){return ot(r.wakeTime,s)||(r.wakeTime=s),s}),ie("change",function(){return r.calculateSleepHours()}),N()(),P(10,"div",0)(11,"label"),D(12,"Kvaliteta sna:"),N(),P(13,"select",2),tt("ngModelChange",function(s){return ot(r.sleepQuality,s)||(r.sleepQuality=s),s}),P(14,"option",3),D(15,"Lo\u0161"),N(),P(16,"option",4),D(17,"Srednji"),N(),P(18,"option",5),D(19,"Dobar"),N(),P(20,"option",6),D(21,"Odli\u010Dan"),N()()(),P(22,"div",0)(23,"p"),D(24),N()(),P(25,"button",7),ie("click",function(){return r.saveSleep()}),D(26,"Spremi"),N(),K(27,"hr"),P(28,"h4"),D(29,"Historija spavanja:"),N(),P(30,"ul"),pt(31,aK,2,3,"li",8),N()),t&2&&(J(5),et("ngModel",r.sleepTime),J(4),et("ngModel",r.wakeTime),J(4),et("ngModel",r.sleepQuality),J(11),br("Sati sna: ",r.sleepHours),J(7),st("ngForOf",r.history))},dependencies:[ve,Cr,gt,Mv,Ov,Ft,nd,un,Xt],styles:[".sleep-box[_ngcontent-%COMP%]{margin-bottom:10px;padding:10px;background:#f1f1f1;border-radius:6px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{padding:8px;width:200px;border-radius:6px;border:1px solid #ccc}button[_ngcontent-%COMP%]{background:#1e73be;color:#fff;padding:10px 20px;border:none;border-radius:6px;cursor:pointer}"]})};var sd=class n{studyHours=0;saveStudy(){let e=localStorage.getItem("currentUserEmail")||"guest";localStorage.setItem(`tracker-study-${e}`,this.studyHours.toString()),alert("Saved!")}loadStudy(){let e=localStorage.getItem("currentUserEmail")||"guest",t=localStorage.getItem(`tracker-study-${e}`);t&&(this.studyHours=Number(t))}ngOnInit(){this.loadStudy()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ue({type:n,selectors:[["app-study-planner"]],decls:7,vars:1,consts:[["type","number","placeholder","npr. 3",3,"ngModelChange","ngModel"],[3,"click"]],template:function(t,r){t&1&&(P(0,"h3"),D(1,"Study Planner"),N(),P(2,"p"),D(3,"Koliko sati ste danas u\u010Dili?"),N(),P(4,"input",0),tt("ngModelChange",function(s){return ot(r.studyHours,s)||(r.studyHours=s),s}),N(),P(5,"button",1),ie("click",function(){return r.saveStudy()}),D(6,"Save"),N()),t&2&&(J(4),et("ngModel",r.studyHours))},dependencies:[ve,gt,Ft,Cs,un,Xt],styles:["input[_ngcontent-%COMP%]{padding:10px;width:200px;margin-bottom:10px;border-radius:6px;border:1px solid #ccc}button[_ngcontent-%COMP%]{background:#1e73be;color:#fff;padding:10px 20px;border:none;border-radius:6px;cursor:pointer}"]})};var od=class n{fitnessMinutes=0;saveFitness(){let e=localStorage.getItem("currentUserEmail")||"guest";localStorage.setItem(`tracker-fitness-${e}`,this.fitnessMinutes.toString()),alert("Saved!")}loadFitness(){let e=localStorage.getItem("currentUserEmail")||"guest",t=localStorage.getItem(`tracker-fitness-${e}`);t&&(this.fitnessMinutes=Number(t))}ngOnInit(){this.loadFitness()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ue({type:n,selectors:[["app-yoga-fitness"]],decls:7,vars:1,consts:[["type","number","placeholder","npr. 20",3,"ngModelChange","ngModel"],[3,"click"]],template:function(t,r){t&1&&(P(0,"h3"),D(1,"Fitness/Yoga Tracker"),N(),P(2,"p"),D(3,"Koliko minuta ste vje\u017Ebali?"),N(),P(4,"input",0),tt("ngModelChange",function(s){return ot(r.fitnessMinutes,s)||(r.fitnessMinutes=s),s}),N(),P(5,"button",1),ie("click",function(){return r.saveFitness()}),D(6,"Save"),N()),t&2&&(J(4),et("ngModel",r.fitnessMinutes))},dependencies:[ve,gt,Ft,Cs,un,Xt],styles:["input[_ngcontent-%COMP%]{padding:10px;width:200px;margin-bottom:10px;border-radius:6px;border:1px solid #ccc}button[_ngcontent-%COMP%]{background:#1e73be;color:#fff;padding:10px 20px;border:none;border-radius:6px;cursor:pointer}"]})};var ad=class n{tasksDone=0;saveTasks(){let e=localStorage.getItem("currentUserEmail")||"guest";localStorage.setItem(`tracker-task-${e}`,this.tasksDone.toString()),alert("Saved!")}loadTasks(){let e=localStorage.getItem("currentUserEmail")||"guest",t=localStorage.getItem(`tracker-task-${e}`);t&&(this.tasksDone=Number(t))}ngOnInit(){this.loadTasks()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ue({type:n,selectors:[["app-task-planner"]],decls:7,vars:1,consts:[["type","number","placeholder","npr. 5",3,"ngModelChange","ngModel"],[3,"click"]],template:function(t,r){t&1&&(P(0,"h3"),D(1,"Task Tracker"),N(),P(2,"p"),D(3,"Koliko zadataka ste danas zavr\u0161ili?"),N(),P(4,"input",0),tt("ngModelChange",function(s){return ot(r.tasksDone,s)||(r.tasksDone=s),s}),N(),P(5,"button",1),ie("click",function(){return r.saveTasks()}),D(6,"Save"),N()),t&2&&(J(4),et("ngModel",r.tasksDone))},dependencies:[ve,gt,Ft,Cs,un,Xt],styles:["input[_ngcontent-%COMP%]{padding:10px;width:200px;margin-bottom:10px;border-radius:6px;border:1px solid #ccc}button[_ngcontent-%COMP%]{background:#1e73be;color:#fff;padding:10px 20px;border:none;border-radius:6px;cursor:pointer}"]})};function cK(n,e){if(n&1&&(P(0,"p"),D(1),N()),n&2){let t=sn();J(),br("Danas ste popili: ",t.waterAmount," ml vode.")}}function uK(n,e){if(n&1&&(P(0,"li"),D(1),N()),n&2){let t=e.$implicit;J(),tl("",t.time," - ",t.amount," ml")}}var cd=class n{waterAmount=0;dailyIntake=[];user=localStorage.getItem("currentUserEmail")||"guest";ngOnInit(){this.loadWater()}saveWater(){if(this.waterAmount<=0){alert("Unesite koli\u010Dinu vode!");return}let r={time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),amount:this.waterAmount};this.dailyIntake.push(r),localStorage.setItem(`tracker-water-${this.user}`,JSON.stringify(this.dailyIntake)),alert("Unos spremljen!"),this.waterAmount=0}loadWater(){let e=localStorage.getItem(`tracker-water-${this.user}`);e&&(this.dailyIntake=JSON.parse(e))}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ue({type:n,selectors:[["app-water-intake"]],decls:13,vars:3,consts:[["type","number","placeholder","npr. 500",3,"ngModelChange","ngModel"],[3,"click"],[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(t,r){t&1&&(P(0,"h3"),D(1,"Water Intake Tracker"),N(),P(2,"p"),D(3,"Koliko vode ste danas popili? (ml)"),N(),P(4,"input",0),tt("ngModelChange",function(s){return ot(r.waterAmount,s)||(r.waterAmount=s),s}),N(),P(5,"button",1),ie("click",function(){return r.saveWater()}),D(6,"Save"),N(),pt(7,cK,2,1,"p",2),K(8,"hr"),P(9,"h4"),D(10,"Dnevni unos"),N(),P(11,"ul"),pt(12,uK,2,2,"li",3),N()),t&2&&(J(4),et("ngModel",r.waterAmount),J(3),st("ngIf",r.waterAmount>0),J(5),st("ngForOf",r.dailyIntake))},dependencies:[ve,Cr,Jr,gt,Ft,Cs,un,Xt],styles:["h3[_ngcontent-%COMP%]{color:#1e73be;margin-bottom:10px}p[_ngcontent-%COMP%]{font-size:14px;margin-bottom:10px}input[type=number][_ngcontent-%COMP%]{padding:10px;width:200px;margin-bottom:10px;border-radius:6px;border:1px solid #ccc;font-size:14px}button[_ngcontent-%COMP%]{background:#1e73be;color:#fff;padding:10px 20px;border:none;border-radius:6px;cursor:pointer;font-size:14px;transition:background .3s}button[_ngcontent-%COMP%]:hover{background:#155a8a}hr[_ngcontent-%COMP%]{margin:20px 0;border:0;border-top:1px solid #ddd}h4[_ngcontent-%COMP%]{color:#333;margin-bottom:10px}ul[_ngcontent-%COMP%]{list-style-type:none;padding-left:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:6px 10px;margin-bottom:5px;background-color:#f5f5f5;border-radius:6px;font-size:13px;display:flex;justify-content:space-between}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(odd){background-color:#e9f0fa}"]})};function lK(n,e){if(n&1){let t=Mn();P(0,"div",3),ie("click",function(){let i=rt(t).$implicit,s=sn();return it(s.selectTracker(i))}),K(1,"img",4),P(2,"div",5),D(3),N()()}if(n&2){let t=e.$implicit;J(),st("src",t.image,Zg)("alt",t.name),J(2),bn(t.name)}}function dK(n,e){n&1&&ly(0)}function hK(n,e){if(n&1&&(P(0,"div",6),pt(1,dK,1,0,"ng-container",7),N()),n&2){let t=sn();J(),st("ngComponentOutlet",t.selectedTracker)}}var Lv=class n{trackers=[{name:"Habit Tracker",image:"assets/slike/habit.png",component:rd},{name:"Sleep Tracker",image:"assets/slike/sleep.png",component:id},{name:"Study Planner",image:"assets/slike/school.png",component:sd},{name:"Yoga / Fitness",image:"assets/slike/yoga.png",component:od},{name:"Task / Project",image:"assets/slike/tasks.png",component:ad},{name:"Water Intake",image:"assets/slike/water.png",component:cd}];selectedTracker=null;selectTracker(e){this.selectedTracker=e.component}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ue({type:n,selectors:[["app-tracker"]],decls:5,vars:2,consts:[[1,"tracker-cards"],["class","card",3,"click",4,"ngFor","ngForOf"],["class","selected-tracker",4,"ngIf"],[1,"card",3,"click"],[3,"src","alt"],[1,"card-text"],[1,"selected-tracker"],[4,"ngComponentOutlet"]],template:function(t,r){t&1&&(P(0,"h2"),D(1,"Moje aktivnosti"),N(),P(2,"div",0),pt(3,lK,4,3,"div",1),N(),pt(4,hK,2,1,"div",2)),t&2&&(J(3),st("ngForOf",r.trackers),J(),st("ngIf",r.selectedTracker))},dependencies:[ve,Tb,Cr,Jr],styles:["h2[_ngcontent-%COMP%]{text-align:center;color:#1e73be;margin-bottom:20px;font-family:Arial,sans-serif;font-weight:700}.tracker-cards[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:25px;justify-content:center;margin-top:20px}.card[_ngcontent-%COMP%]{background-color:#f0f0f0;border-radius:15px;width:220px;height:260px;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;padding:15px;cursor:pointer;transition:all .3s;box-shadow:0 4px 12px #00000026}.card[_ngcontent-%COMP%]:hover{background-color:#e0e0e0;transform:translateY(-5px)}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px;object-fit:contain;margin-bottom:15px}.card-text[_ngcontent-%COMP%]{font-weight:700;font-size:16px;color:#1e73be;text-align:center}.selected-tracker[_ngcontent-%COMP%]{margin-top:30px}"]})};var Fv=class n{result="";answers={q1:["a"],q2:["a","b","c"],q3:["b"],q4:["a","b","d"],q5:["b"]};checkAnswers(e){let t=0,r=5;for(let i=1;i<=r;i++){let s=`q${i}`,o=e.value[s]||[],a=this.answers[s]||[];(Array.isArray(o)?o.length===a.length&&o.every(c=>a.includes(c)):o===a[0])&&t++}this.result=`Osvojili ste ${t} od ${r} poena!`}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ue({type:n,selectors:[["app-quiz"]],decls:96,vars:1,consts:[["quizForm","ngForm"],["type","radio","name","q1","value","a"],["type","radio","name","q1","value","b"],["type","radio","name","q1","value","c"],["type","checkbox","name","q2","value","a"],["type","checkbox","name","q2","value","b"],["type","checkbox","name","q2","value","c"],["type","checkbox","name","q2","value","d"],["type","radio","name","q3","value","a"],["type","radio","name","q3","value","b"],["type","radio","name","q3","value","c"],["type","checkbox","name","q4","value","a"],["type","checkbox","name","q4","value","b"],["type","checkbox","name","q4","value","c"],["type","checkbox","name","q4","value","d"],["type","radio","name","q5","value","a"],["type","radio","name","q5","value","b"],["type","radio","name","q5","value","c"],["type","button",3,"click"],["id","result"]],template:function(t,r){if(t&1){let i=Mn();P(0,"h1"),D(1,"Kviz"),N(),P(2,"p"),D(3,"Dobrodo\u0161li u studentski kviz! Testirajte svoje znanje o HTML-u i osnovama weba."),N(),P(4,"p"),D(5,"Odaberite ta\u010Dan odgovor(e) za svako pitanje. Neki mogu imati vi\u0161e ta\u010Dnih opcija!"),N(),P(6,"form",null,0)(8,"table")(9,"tr")(10,"td")(11,"h3"),D(12,"1. \u0160ta je skra\u0107enica HTML?"),N(),P(13,"label"),K(14,"input",1),D(15," HyperText Markup Language"),N(),K(16,"br"),P(17,"label"),K(18,"input",2),D(19," HighText Markdown Language"),N(),K(20,"br"),P(21,"label"),K(22,"input",3),D(23," HyperText Makeup Language"),N()()(),P(24,"tr")(25,"td")(26,"h3"),D(27,"2. Koje se oznake koriste za izradu popisa u HTML-u?"),N(),P(28,"label"),K(29,"input",4),D(30," <ul>"),N(),K(31,"br"),P(32,"label"),K(33,"input",5),D(34," <ol>"),N(),K(35,"br"),P(36,"label"),K(37,"input",6),D(38," <li>"),N(),K(39,"br"),P(40,"label"),K(41,"input",7),D(42," <br>"),N()()(),P(43,"tr")(44,"td")(45,"h3"),D(46,"3. Koja se oznaka koristi za umetanje slike?"),N(),P(47,"label"),K(48,"input",8),D(49," <image>"),N(),K(50,"br"),P(51,"label"),K(52,"input",9),D(53," <img>"),N(),K(54,"br"),P(55,"label"),K(56,"input",10),D(57," <src>"),N()()(),P(58,"tr")(59,"td")(60,"h3"),D(61,"4. Koji od sljede\u0107ih su valjani HTML atributi?"),N(),P(62,"label"),K(63,"input",11),D(64," href"),N(),K(65,"br"),P(66,"label"),K(67,"input",12),D(68," src"),N(),K(69,"br"),P(70,"label"),K(71,"input",13),D(72," bold"),N(),K(73,"br"),P(74,"label"),K(75,"input",14),D(76," alt"),N()()(),P(77,"tr")(78,"td")(79,"h3"),D(80,"5. Koji je ispravan na\u010Din za stvaranje linkova u HTML-u?"),N(),P(81,"label"),K(82,"input",15),D(83,' <a url="example.com">Click</a>'),N(),K(84,"br"),P(85,"label"),K(86,"input",16),D(87,' <a href="example.com">Click</a>'),N(),K(88,"br"),P(89,"label"),K(90,"input",17),D(91," <link>Click</link>"),N()()()(),P(92,"button",18),ie("click",function(){rt(i);let o=rc(7);return it(r.checkAnswers(o))}),D(93,"Provjerite odgovore"),N()(),P(94,"p",19),D(95),N()}t&2&&(J(95),bn(r.result))},dependencies:[ve,gt,td,ed,wc],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#fff;color:#000;text-align:center}h1[_ngcontent-%COMP%]{text-align:center;margin-top:20px}p[_ngcontent-%COMP%]{text-align:center}table[_ngcontent-%COMP%]{margin:20px auto;border-collapse:collapse;width:60%}td[_ngcontent-%COMP%]{padding:15px;text-align:left}button[_ngcontent-%COMP%]{background-color:#000;color:#fff;border:none;padding:10px 20px;margin:15px auto;cursor:pointer;border-radius:10px;display:block}button[_ngcontent-%COMP%]:hover{background-color:gray}#result[_ngcontent-%COMP%]{font-weight:700;margin-top:10px}"]})};var Vv=class n{generatePDF(){let e=document.getElementById("contentToConvert"),t={margin:1,filename:"Bingo.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};html2pdf().set(t).from(e).save()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ue({type:n,selectors:[["app-bingo"]],decls:66,vars:0,consts:[["id","contentToConvert",1,"content"],[3,"click"]],template:function(t,r){t&1&&(Te(0,"div",0)(1,"h1"),D(2,"BINGO"),Ce(),Te(3,"table")(4,"tr")(5,"td"),D(6,"Putovao je van zemlje."),Ce(),Te(7,"td"),D(8,"Letio je avionom."),Ce(),Te(9,"td"),D(10,"Ima vi\u0161e od troje bra\u0107e i sestara."),Ce(),Te(11,"td"),D(12,"Ima pet ku\u0107nih ljubimaca."),Ce(),Te(13,"td"),D(14,"Voli jesti kisele krastavce."),Ce()(),Te(15,"tr")(16,"td"),D(17,"Igra ko\u0161arku."),Ce(),Te(18,"td"),D(19,"Voli Disney crtane."),Ce(),Te(20,"td"),D(21,"Voli crtati."),Ce(),Te(22,"td"),D(23,"Voli HTML."),Ce(),Te(24,"td"),D(25,"Zna roniti."),Ce()(),Te(26,"tr")(27,"td"),D(28,"Omiljena boja je narand\u017Easta."),Ce(),Te(29,"td"),D(30,"Ne voli pla\u017Eu."),Ce(),Te(31,"td"),D(32,"SLOBODAN PROSTOR"),Ce(),Te(33,"td"),D(34,"Dobar je u matematici."),Ce(),Te(35,"td"),D(36,"Nema ku\u0107ne ljubimce."),Ce()(),Te(37,"tr")(38,"td"),D(39,"Ne voli \u010Dokoladu."),Ce(),Te(40,"td"),D(41,"Boji se pauka."),Ce(),Te(42,"td"),D(43,"Voli pe\u0107i kola\u010Di\u0107e."),Ce(),Te(44,"td"),D(45,"Svira instrument."),Ce(),Te(46,"td"),D(47,"Alergi\u010Dan je na ma\u010Dke ili pse."),Ce()(),Te(48,"tr")(49,"td"),D(50,"Slavi ro\u0111endan u oktobru."),Ce(),Te(51,"td"),D(52,"Voli jesti sir."),Ce(),Te(53,"td"),D(54,"Igra online igre."),Ce(),Te(55,"td"),D(56,"Ne voli pizzu."),Ce(),Te(57,"td"),D(58,"Voli pjevati."),Ce()()(),Zu(59,"br"),Te(60,"p"),D(61,"Skupi 5 inicijala zaredom - BINGO!"),Ce(),Te(62,"p"),D(63,"Svaka osoba mo\u017Ee staviti inicijale samo 2 puta."),Ce(),Te(64,"button",1),bi("click",function(){return r.generatePDF()}),D(65,"Preuzmi kao PDF"),Ce()())},dependencies:[ve],styles:["table[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid black;border-collapse:collapse;align-items:center}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:15px}h1[_ngcontent-%COMP%]{text-align:center}button[_ngcontent-%COMP%]{border:none;color:#fff;background-color:#000;padding:10px 22px;text-align:center;font-size:16px;margin:10px auto;cursor:pointer;border-radius:10px;display:block}.content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 4px #0000001a;align-items:center}"]})};var fK=["board"],Uv=class n{canvasRef;color="#000000";brushSize=3;isErasing=!1;ctx;drawing=!1;ngAfterViewInit(){let e=this.canvasRef.nativeElement;this.ctx=e.getContext("2d"),e.addEventListener("mousedown",this.startDraw.bind(this)),e.addEventListener("mouseup",this.endDraw.bind(this)),e.addEventListener("mousemove",this.draw.bind(this)),e.addEventListener("touchstart",this.startDraw.bind(this)),e.addEventListener("touchmove",t=>{this.draw(t),t.preventDefault()}),e.addEventListener("touchend",this.endDraw.bind(this))}getEventCoords(e){let t=this.canvasRef.nativeElement,r=t.getBoundingClientRect(),i=0,s=0;e instanceof MouseEvent?(i=e.clientX,s=e.clientY):e instanceof TouchEvent&&(i=e.touches[0]?.clientX??0,s=e.touches[0]?.clientY??0);let o=t.width/r.width,a=t.height/r.height;return{x:(i-r.left)*o,y:(s-r.top)*a}}startDraw(e){this.drawing=!0,this.draw(e)}endDraw(){this.drawing=!1,this.ctx.beginPath()}draw(e){if(!this.drawing)return;let{x:t,y:r}=this.getEventCoords(e);this.ctx.lineWidth=this.brushSize,this.ctx.lineCap="round",this.ctx.strokeStyle=this.isErasing?"#FFFFFF":this.color,this.ctx.lineTo(t,r),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(t,r)}toggleEraser(){this.isErasing=!this.isErasing}clearBoard(){let e=this.canvasRef.nativeElement;this.ctx.clearRect(0,0,e.width,e.height)}saveBoard(){let t=this.canvasRef.nativeElement.toDataURL("image/png"),r=document.createElement("a");r.href=t,r.download="moj_crtez.png",r.click()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ue({type:n,selectors:[["app-whiteboard"]],viewQuery:function(t,r){if(t&1&&el(fK,7),t&2){let i;tc(i=nc())&&(r.canvasRef=i.first)}},decls:17,vars:3,consts:[["board",""],[1,"toolbar"],["for","colorPicker"],["type","color","id","colorPicker",3,"ngModelChange","ngModel"],["for","brushSize"],["type","range","id","brushSize","min","1","max","20",3,"ngModelChange","ngModel"],["type","button",3,"click"],["width","900","height","500"]],template:function(t,r){if(t&1){let i=Mn();P(0,"h1"),D(1,"Interaktivni Whiteboard"),N(),P(2,"div",1)(3,"label",2),D(4,"Boja:"),N(),P(5,"input",3),tt("ngModelChange",function(o){return rt(i),ot(r.color,o)||(r.color=o),it(o)}),N(),P(6,"label",4),D(7,"\u010Cetka:"),N(),P(8,"input",5),tt("ngModelChange",function(o){return rt(i),ot(r.brushSize,o)||(r.brushSize=o),it(o)}),N(),P(9,"button",6),ie("click",function(){return rt(i),it(r.toggleEraser())}),D(10),N(),P(11,"button",6),ie("click",function(){return rt(i),it(r.clearBoard())}),D(12,"\u010Cista plo\u010Da"),N(),P(13,"button",6),ie("click",function(){return rt(i),it(r.saveBoard())}),D(14,"Snimi"),N()(),K(15,"canvas",7,0)}t&2&&(J(5),et("ngModel",r.color),J(3),et("ngModel",r.brushSize),J(2),bn(r.isErasing?"Pi\u0161i":"Bri\u0161i"))},dependencies:[ve,gt,Ft,ND,un,Xt],styles:["body[_ngcontent-%COMP%]{margin:0;font-family:Segoe UI,Tahoma,sans-serif;background:linear-gradient(135deg,#eef2f3,#8e9eab);display:flex;flex-direction:column;align-items:center;justify-content:flex-start;min-height:100vh}h1[_ngcontent-%COMP%]{color:#333;margin-top:20px;margin-bottom:10px;text-shadow:1px 1px 2px rgba(0,0,0,.1);text-align:center}.toolbar[_ngcontent-%COMP%]{background:#fff;padding:10px 15px;border-radius:12px;box-shadow:0 4px 10px #0003;display:flex;flex-wrap:wrap;align-items:center;justify-content:center;gap:10px;margin-bottom:15px}.toolbar[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;color:#444;margin-right:5px}button[_ngcontent-%COMP%]{background:#1e73be;color:#fff;border:none;border-radius:8px;padding:8px 12px;font-size:14px;cursor:pointer;transition:background .2s}button[_ngcontent-%COMP%]:hover{background:#005fa3}canvas[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 4px 15px #0000004d;touch-action:none;cursor:url(/assets/slike/marker.png) 0 30,auto;display:block;margin:0 auto;max-width:900px;width:90vw;height:500px}"]})};function pK(n,e){if(n&1){let t=Mn();P(0,"div",12),ie("dragstart",function(){let i=rt(t).$implicit,s=sn(2);return it(s.onDragStart(i))}),P(1,"div",13),D(2),N(),P(3,"button",14),ie("click",function(){let i=rt(t).$implicit,s=sn(2);return it(s.deleteTask(i.id))}),D(4,"\u2715"),N()()}if(n&2){let t=e.$implicit;J(2),bn(t.text)}}function mK(n,e){if(n&1){let t=Mn();P(0,"div",9)(1,"h2"),D(2),N(),P(3,"div",10),ie("dragover",function(i){rt(t);let s=sn();return it(s.onDragOver(i))})("drop",function(){let i=rt(t).$implicit,s=sn();return it(s.onDrop(i.status))}),pt(4,pK,5,1,"div",11),N()()}if(n&2){let t=e.$implicit,r=sn();J(2),bn(t.title),J(2),st("ngForOf",r.getTasksByStatus(t.status))}}var jv=class n{tasks=[];showTaskModal=!1;showClearModal=!1;taskInput="";draggedTask=null;columns=[{status:"todo",title:"To Do"},{status:"progress",title:"In Progress"},{status:"done",title:"Done"}];ngOnInit(){this.loadBoard()}openTaskModal(){this.showTaskModal=!0,this.taskInput=""}closeTaskModal(){this.showTaskModal=!1}addTask(){let e=this.taskInput.trim();if(!e)return;let t={id:Date.now().toString(),text:e,status:"todo"};this.tasks.push(t),this.closeTaskModal(),this.saveBoard()}deleteTask(e){this.tasks=this.tasks.filter(t=>t.id!==e),this.saveBoard()}getTasksByStatus(e){return this.tasks.filter(t=>t.status===e)}onDragStart(e){this.draggedTask=e}onDragOver(e){e.preventDefault()}onDrop(e){this.draggedTask&&(this.draggedTask.status=e,this.draggedTask=null,this.saveBoard())}saveBoard(){localStorage.setItem("kanbanBoard",JSON.stringify(this.tasks)),alert("Kanban plo\u010Da je sa\u010Duvana!")}loadBoard(){let e=localStorage.getItem("kanbanBoard");e&&(this.tasks=JSON.parse(e))}clearBoard(){this.showClearModal=!0}confirmClear(){this.tasks=[],this.showClearModal=!1,localStorage.removeItem("kanbanBoard")}cancelClear(){this.showClearModal=!1}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ue({type:n,selectors:[["app-kanban"]],decls:32,vars:6,consts:[[1,"toolbar"],[3,"click"],[1,"modal"],[1,"modal-content"],["type","text","placeholder","Va\u0161 zadatak...",3,"ngModelChange","keyup.enter","ngModel"],[1,"modal-buttons"],[2,"background","#e74c3c",3,"click"],[1,"board"],["class","column",4,"ngFor","ngForOf"],[1,"column"],[1,"taskList",3,"dragover","drop"],["class","task","draggable","true",3,"dragstart",4,"ngFor","ngForOf"],["draggable","true",1,"task",3,"dragstart"],[1,"task-content"],[1,"delete-btn",3,"click"]],template:function(t,r){t&1&&(P(0,"h3"),D(1,"Kanban plo\u010Da"),N(),P(2,"div",0)(3,"button",1),ie("click",function(){return r.openTaskModal()}),D(4,"Dodaj zadatak"),N(),P(5,"button",1),ie("click",function(){return r.saveBoard()}),D(6,"Snimi"),N(),P(7,"button",1),ie("click",function(){return r.clearBoard()}),D(8,"O\u010Disti plo\u010Du"),N()(),P(9,"div",2)(10,"div",3)(11,"h3"),D(12,"Dodaj zadatak"),N(),P(13,"input",4),tt("ngModelChange",function(s){return ot(r.taskInput,s)||(r.taskInput=s),s}),ie("keyup.enter",function(){return r.addTask()}),N(),P(14,"div",5)(15,"button",1),ie("click",function(){return r.addTask()}),D(16,"Dodaj"),N(),P(17,"button",1),ie("click",function(){return r.closeTaskModal()}),D(18,"Poni\u0161ti"),N()()()(),P(19,"div",2)(20,"div",3)(21,"h3"),D(22,"O\u010Disti cijelu plo\u010Du?"),N(),P(23,"p"),D(24,"Ova se radnja ne mo\u017Ee poni\u0161titi."),N(),P(25,"div",5)(26,"button",6),ie("click",function(){return r.confirmClear()}),D(27,"O\u010Disti"),N(),P(28,"button",1),ie("click",function(){return r.cancelClear()}),D(29,"Poni\u0161ti"),N()()()(),P(30,"div",7),pt(31,mK,5,2,"div",8),N()),t&2&&(J(9),Wh("display",r.showTaskModal?"block":"none"),J(4),et("ngModel",r.taskInput),J(6),Wh("display",r.showClearModal?"block":"none"),J(12),st("ngForOf",r.columns))},dependencies:[ve,Cr,gt,Ft,un,Xt],styles:["h3[_ngcontent-%COMP%]{margin-top:10px;color:#1e73be;text-align:center;font-family:Arial,sans-serif}.toolbar[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:center;margin:10px 0}.toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#1e73be;color:#fff;border:none;border-radius:6px;padding:10px 20px;cursor:pointer;font-weight:700;transition:background .2s}.toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.board[_ngcontent-%COMP%]{display:flex;justify-content:space-around;gap:20px;margin-top:20px;flex-wrap:wrap}.column[_ngcontent-%COMP%]{background:#fff;width:calc(33.333% - 15px);min-width:250px;padding:15px;border-radius:10px;box-shadow:0 2px 8px #0000001a}.column[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;color:#333;text-align:center;border-bottom:2px solid #1e73be;padding-bottom:10px}.taskList[_ngcontent-%COMP%]{min-height:300px;background:#f9f9f9;border-radius:8px;padding:10px}.task[_ngcontent-%COMP%]{background:#fff7a8;padding:12px;margin:10px 0;border-radius:8px;cursor:grab;-webkit-user-select:none;user-select:none;font-weight:500;box-shadow:0 2px 4px #0000001a;transition:all .2s;display:flex;justify-content:space-between;align-items:center}.task[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #00000026;transform:translateY(-2px)}.task[_ngcontent-%COMP%]:active{cursor:grabbing;opacity:.7;transform:scale(1.02)}.task-content[_ngcontent-%COMP%]{flex:1;margin-right:10px;word-wrap:break-word}.delete-btn[_ngcontent-%COMP%]{background:none;border:none;color:#e74c3c;font-size:18px;cursor:pointer;padding:0;width:24px;height:24px;display:flex;align-items:center;justify-content:center;transition:all .2s}.delete-btn[_ngcontent-%COMP%]:hover{color:#c0392b;font-weight:700}.modal[_ngcontent-%COMP%]{position:fixed;z-index:1000;left:0;top:0;width:100%;height:100%;background:#00000080}.modal-content[_ngcontent-%COMP%]{background:#fff;width:350px;margin:15% auto;padding:25px;border-radius:12px;text-align:center;box-shadow:0 4px 12px #0000004d}.modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;color:#1e73be}.modal-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:90%;padding:10px;margin:15px 0;border-radius:6px;border:2px solid #ddd;font-family:Arial,sans-serif;font-size:14px}.modal-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#1e73be;box-shadow:0 0 5px #007bff4d}.modal-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px;margin-top:20px}.modal-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;border:none;background:#1e73be;color:#fff;border-radius:6px;cursor:pointer;font-weight:700;transition:background .2s}.modal-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#0056b3}.modal-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:10px 0}@media(max-width:768px){.column[_ngcontent-%COMP%]{width:calc(50% - 10px)}.board[_ngcontent-%COMP%]{gap:10px}}@media(max-width:480px){.column[_ngcontent-%COMP%]{width:100%}.board[_ngcontent-%COMP%]{flex-direction:column}}"]})};var gK=["board"],Bv=class n{constructor(e){this.renderer=e}board;colors=["color1","color2","color3","color4","color5","color6"];sampleImages=["/assets/slike/slika1.png","/assets/slike/slika2.png","/assets/slike/slika3.png","/assets/slike/slika4.png"];sampleQuotes=["\u201CSvaka dovoljno napredna tehnologija jednaka je magiji.\u201D \u2013 Arthur C. Clarke","\u201CTehnologija je rije\u010D koja opisuje ne\u0161to \u0161to jo\u0161 ne funkcionira.\u201D - Douglas Adams","\u201CNe osnivate zajednice. Zajednice ve\u0107 postoje. Pitanje je kako im mo\u017Eete pomo\u0107i da budu bolje.\u201D \u2013 Mark Zuckerberg"];draggedElement=null;offset={x:0,y:0};ngAfterViewInit(){this.loadBoard()}addNote(){let e=this.renderer.createElement("div"),t=this.colors[Math.floor(Math.random()*this.colors.length)];this.renderer.addClass(e,"note"),this.renderer.addClass(e,t),this.renderer.setProperty(e,"contentEditable","true"),this.renderer.setProperty(e,"textContent","Napomena..."),this.renderer.setStyle(e,"left",Math.random()*300+"px"),this.renderer.setStyle(e,"top",Math.random()*300+"px");let r=this.renderer.createElement("button");this.renderer.addClass(r,"delete-btn"),this.renderer.setProperty(r,"textContent","\u2715"),this.renderer.listen(r,"click",()=>{this.renderer.removeChild(this.board.nativeElement,e),this.saveBoard()}),this.renderer.appendChild(e,r),this.renderer.appendChild(this.board.nativeElement,e),this.makeDraggable(e)}addImage(){let e=this.sampleImages[Math.floor(Math.random()*this.sampleImages.length)],t=this.renderer.createElement("div");this.renderer.addClass(t,"pinned-img"),this.renderer.setStyle(t,"left",Math.random()*300+"px"),this.renderer.setStyle(t,"top",Math.random()*300+"px");let r=this.renderer.createElement("img");this.renderer.setProperty(r,"src",e),this.renderer.setProperty(r,"alt","Slika na plo\u010Di");let i=this.renderer.createElement("button");this.renderer.addClass(i,"delete-btn"),this.renderer.setProperty(i,"textContent","\u2715"),this.renderer.listen(i,"click",()=>{this.renderer.removeChild(this.board.nativeElement,t),this.saveBoard()}),this.renderer.appendChild(t,r),this.renderer.appendChild(t,i),this.renderer.appendChild(this.board.nativeElement,t),this.makeDraggable(t)}addQuote(){let e=this.sampleQuotes[Math.floor(Math.random()*this.sampleQuotes.length)],t=this.renderer.createElement("div");this.renderer.addClass(t,"quote"),this.renderer.setProperty(t,"contentEditable","true"),this.renderer.setProperty(t,"textContent",e),this.renderer.setStyle(t,"left",Math.random()*300+"px"),this.renderer.setStyle(t,"top",Math.random()*300+"px");let r=this.renderer.createElement("button");this.renderer.addClass(r,"delete-btn"),this.renderer.setProperty(r,"textContent","\u2715"),this.renderer.listen(r,"click",()=>{this.renderer.removeChild(this.board.nativeElement,t),this.saveBoard()}),this.renderer.appendChild(t,r),this.renderer.appendChild(this.board.nativeElement,t),this.makeDraggable(t)}makeDraggable(e){let t=!1;this.renderer.listen(e,"mousedown",r=>{if(r.target.classList.contains("delete-btn"))return;if(e.getAttribute("contenteditable")==="true"){t=!0;return}t=!1,this.draggedElement=e;let i=e.getBoundingClientRect(),s=this.board.nativeElement.getBoundingClientRect();this.offset.x=r.clientX-i.left,this.offset.y=r.clientY-i.top,r.preventDefault()}),this.renderer.listen(document,"mousemove",r=>{if(this.draggedElement===e&&!t){let i=this.board.nativeElement.getBoundingClientRect(),s=r.clientX-i.left-this.offset.x,o=r.clientY-i.top-this.offset.y;s=Math.max(0,Math.min(s,i.width-e.offsetWidth)),o=Math.max(0,Math.min(o,i.height-e.offsetHeight)),this.renderer.setStyle(e,"left",s+"px"),this.renderer.setStyle(e,"top",o+"px")}}),this.renderer.listen(document,"mouseup",()=>{this.draggedElement===e&&(this.draggedElement=null,this.saveBoard())}),this.renderer.listen(e,"blur",()=>{this.saveBoard()})}saveBoard(){let e=[];this.board.nativeElement.querySelectorAll(".note, .quote, .pinned-img").forEach(r=>{let i=r,s=i.style.left,o=i.style.top;if(i.classList.contains("note")){let a=Array.from(i.classList).find(c=>c.startsWith("color"))||"color1";e.push({type:"note",text:i.textContent?.replace("\u2715","").trim()||"",left:s,top:o,color:a})}else if(i.classList.contains("quote"))e.push({type:"quote",text:i.textContent?.replace("\u2715","").trim()||"",left:s,top:o});else if(i.classList.contains("pinned-img")){let a=i.querySelector("img");e.push({type:"image",src:a.src,left:s,top:o})}}),localStorage.setItem("visionBoard",JSON.stringify(e)),alert("Plo\u010Da je sa\u010Duvana!")}loadBoard(){let e=localStorage.getItem("visionBoard");e&&JSON.parse(e).forEach(r=>{if(r.type==="note"){let i=this.renderer.createElement("div");this.renderer.addClass(i,"note"),this.renderer.addClass(i,r.color),this.renderer.setProperty(i,"contentEditable","true"),this.renderer.setProperty(i,"textContent",r.text),this.renderer.setStyle(i,"left",r.left),this.renderer.setStyle(i,"top",r.top);let s=this.renderer.createElement("button");this.renderer.addClass(s,"delete-btn"),this.renderer.setProperty(s,"textContent","\u2715"),this.renderer.listen(s,"click",()=>{this.renderer.removeChild(this.board.nativeElement,i),this.saveBoard()}),this.renderer.appendChild(i,s),this.renderer.appendChild(this.board.nativeElement,i),this.makeDraggable(i)}else if(r.type==="quote"){let i=this.renderer.createElement("div");this.renderer.addClass(i,"quote"),this.renderer.setProperty(i,"contentEditable","true"),this.renderer.setProperty(i,"textContent",r.text),this.renderer.setStyle(i,"left",r.left),this.renderer.setStyle(i,"top",r.top);let s=this.renderer.createElement("button");this.renderer.addClass(s,"delete-btn"),this.renderer.setProperty(s,"textContent","\u2715"),this.renderer.listen(s,"click",()=>{this.renderer.removeChild(this.board.nativeElement,i),this.saveBoard()}),this.renderer.appendChild(i,s),this.renderer.appendChild(this.board.nativeElement,i),this.makeDraggable(i)}else if(r.type==="image"){let i=this.renderer.createElement("div");this.renderer.addClass(i,"pinned-img"),this.renderer.setStyle(i,"left",r.left),this.renderer.setStyle(i,"top",r.top);let s=this.renderer.createElement("img");this.renderer.setProperty(s,"src",r.src),this.renderer.setProperty(s,"alt","Slika na plo\u010Di");let o=this.renderer.createElement("button");this.renderer.addClass(o,"delete-btn"),this.renderer.setProperty(o,"textContent","\u2715"),this.renderer.listen(o,"click",()=>{this.renderer.removeChild(this.board.nativeElement,i),this.saveBoard()}),this.renderer.appendChild(i,s),this.renderer.appendChild(i,o),this.renderer.appendChild(this.board.nativeElement,i),this.makeDraggable(i)}})}clearBoard(){confirm("Ako o\u010Disti\u0161 plo\u010Du, svi elementi \u0107e biti izbrisani. Nastavi?")&&(this.board.nativeElement.innerHTML="",localStorage.removeItem("visionBoard"),alert("Plo\u010Da je o\u010Di\u0161\u0107ena!"))}static \u0275fac=function(t){return new(t||n)(se(rr))};static \u0275cmp=ue({type:n,selectors:[["app-vision-board"]],viewQuery:function(t,r){if(t&1&&el(gK,5),t&2){let i;tc(i=nc())&&(r.board=i.first)}},decls:15,vars:0,consts:[["board",""],[1,"toolbar"],[3,"click"],[1,"vision-board"]],template:function(t,r){if(t&1){let i=Mn();Te(0,"h3"),D(1,"Vision Board"),Ce(),Te(2,"div",1)(3,"button",2),bi("click",function(){return rt(i),it(r.addNote())}),D(4,"+ Post It"),Ce(),Te(5,"button",2),bi("click",function(){return rt(i),it(r.addImage())}),D(6,"+ Slika"),Ce(),Te(7,"button",2),bi("click",function(){return rt(i),it(r.addQuote())}),D(8,"+ Citat"),Ce(),Te(9,"button",2),bi("click",function(){return rt(i),it(r.saveBoard())}),D(10,"Snimi"),Ce(),Te(11,"button",2),bi("click",function(){return rt(i),it(r.clearBoard())}),D(12,"O\u010Disti plo\u010Du"),Ce()(),Zu(13,"div",3,0)}},dependencies:[ve,gt],styles:["h3[_ngcontent-%COMP%]{margin-top:10px;color:#1e73be;text-align:center;font-family:Arial,sans-serif}.toolbar[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:center;margin:10px 0}.toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#1e73be;color:#fff;border:none;border-radius:6px;padding:6px 12px;cursor:pointer;font-weight:700;transition:background .2s}.toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.vision-board[_ngcontent-%COMP%]{position:relative;width:100%;min-height:600px;background-color:#f5f5f5;background-image:url(/assets/slike/pluto.png);background-position:center;background-size:cover;background-repeat:no-repeat;background-attachment:scroll;border:2px dashed #007BFF;border-radius:10px;overflow:hidden;margin-top:15px}.note[_ngcontent-%COMP%], .quote[_ngcontent-%COMP%], .pinned-img[_ngcontent-%COMP%]{position:absolute;padding:10px;border-radius:8px;cursor:move;-webkit-user-select:none;user-select:none;box-shadow:0 4px 8px #0003;transition:transform .1s ease}.note.color1[_ngcontent-%COMP%]{background:#fdfd96}.note.color2[_ngcontent-%COMP%]{background:#ffb6b9}.note.color3[_ngcontent-%COMP%]{background:#c6f1e7}.note.color4[_ngcontent-%COMP%]{background:#f6d6ad}.note.color5[_ngcontent-%COMP%]{background:#d4a5a5}.note.color6[_ngcontent-%COMP%]{background:#b5ead7}.note[contenteditable=true][_ngcontent-%COMP%], .quote[contenteditable=true][_ngcontent-%COMP%]{outline:none;min-width:100px;min-height:60px;font-size:14px}.quote[_ngcontent-%COMP%]{font-family:Georgia,serif;color:#4b382a;background:#fff5e6;font-style:italic;text-align:center;width:200px}.pinned-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:auto;border-radius:8px}.delete-btn[_ngcontent-%COMP%]{position:absolute;top:2px;right:4px;background:none;border:none;color:#b30000;font-size:18px;font-weight:700;cursor:pointer;opacity:0;transition:opacity .2s ease}.note[_ngcontent-%COMP%]:hover   .delete-btn[_ngcontent-%COMP%], .quote[_ngcontent-%COMP%]:hover   .delete-btn[_ngcontent-%COMP%], .pinned-img[_ngcontent-%COMP%]:hover   .delete-btn[_ngcontent-%COMP%]{opacity:1}.delete-btn[_ngcontent-%COMP%]:hover{color:red;transform:scale(1.2)}"]})};var e2=[{path:"",redirectTo:"quiz",pathMatch:"full"},{path:"quiz",component:Fv},{path:"bingo",component:Vv},{path:"whiteboard",component:Uv},{path:"kanban",component:jv},{path:"vision-board",component:Bv}],$v=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ue({type:n,selectors:[["app-student-fun-zone"]],decls:15,vars:0,consts:[[1,"fun-zone-grid"],["routerLink","quiz",1,"fun-box"],["routerLink","bingo",1,"fun-box"],["routerLink","whiteboard",1,"fun-box"],["routerLink","kanban",1,"fun-box"],["routerLink","vision-board",1,"fun-box"],[1,"fun-child"]],template:function(t,r){t&1&&(P(0,"h2"),D(1,"Student Fun Zone"),N(),P(2,"div",0)(3,"div",1),D(4,"Quiz"),N(),P(5,"div",2),D(6,"Bingo"),N(),P(7,"div",3),D(8,"Whiteboard"),N(),P(9,"div",4),D(10,"Kanban"),N(),P(11,"div",5),D(12,"Vision Board"),N()(),P(13,"section",6),K(14,"router-outlet"),N())},dependencies:[yn,ds,Ri,ve],styles:["h2[_ngcontent-%COMP%]{text-align:center;color:#1e73be;margin-bottom:20px;font-family:Arial,sans-serif;font-weight:700}.fun-zone-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:20px;margin-top:20px}.fun-box[_ngcontent-%COMP%]{background-color:#1e73be;color:#fff;padding:30px;text-align:center;border-radius:10px;font-weight:700;font-size:16px;box-shadow:0 2px 5px #0003;cursor:pointer;transition:transform .2s,background-color .2s}.fun-box[_ngcontent-%COMP%]:hover{transform:scale(1.05);background-color:#0056b3}.fun-child[_ngcontent-%COMP%]{margin-top:30px}"]})};var Fi=class n{constructor(e){this.router=e}navigate(e,t){t?.preventDefault(),this.router.navigate([e]).catch(r=>console.error("Navigation error:",r))}static \u0275fac=function(t){return new(t||n)(se(at))};static \u0275cmp=ue({type:n,selectors:[["app-header"]],decls:24,vars:0,consts:[[1,"header-logo"],["routerLink","/",1,"logo"],["src","/assets/slike/logo-ipi.png","alt","Kursevi IPI"],["routerLink","/"],["routerLink","/courses"],["routerLink","/schedule"],["routerLink","/contact"],["type","button",1,"nav-btn","login-btn",3,"click"],["type","button",1,"nav-btn","register-btn",3,"click"]],template:function(t,r){t&1&&(P(0,"header")(1,"div",0)(2,"a",1),K(3,"img",2),N()(),P(4,"nav")(5,"ul")(6,"li")(7,"a",3),D(8,"O kursevima"),N()(),P(9,"li")(10,"a",4),D(11,"Popis kurseva"),N()(),P(12,"li")(13,"a",5),D(14,"Raspored"),N()(),P(15,"li")(16,"a",6),D(17,"Kontakt"),N()(),P(18,"li")(19,"button",7),ie("click",function(s){return r.navigate("/login",s)}),D(20,"Prijava"),N()(),P(21,"li")(22,"button",8),ie("click",function(s){return r.navigate("/register",s)}),D(23,"Registracija"),N()()()()())},dependencies:[yn,Ri,ve],styles:["header[_ngcontent-%COMP%]{width:100%;background-color:#fff;box-shadow:0 0 15px #0000001a;display:flex;flex-direction:column}.header-logo[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:15px 0;background-color:#fff}.logo[_ngcontent-%COMP%]{flex:0 0 auto;display:flex;align-items:center}header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:80px;width:auto}nav[_ngcontent-%COMP%]{width:100%;background-color:#1e73be;border-top:3px solid #1565c0;border-bottom:3px solid #1565c0}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;justify-content:center;gap:15px;flex-wrap:wrap}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-transform:uppercase;font-weight:600;letter-spacing:.5px;text-decoration:none;border-radius:4px;transition:background .3s ease,color .3s ease;padding:12px 15px;font-size:13px;display:inline-block}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#0d47a1}.nav-btn[_ngcontent-%COMP%]{padding:10px 18px;font-size:13px;font-weight:700;border-radius:6px;border:2px solid transparent;cursor:pointer;transition:all .3s ease;box-shadow:0 3px 6px #0000001a}.login-btn[_ngcontent-%COMP%]{background:linear-gradient(145deg,#0d47a1,#1565c0);color:#fff;border:2px solid #0d47a1}.login-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(145deg,#051c5e,#0d2a70);box-shadow:0 5px 10px #0003}.register-btn[_ngcontent-%COMP%]{background:linear-gradient(145deg,#0d47a1,#1565c0);color:#fff;border:2px solid #0d47a1}.register-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(145deg,#051c5e,#0d2a70);box-shadow:0 5px 10px #0003}"]})};var Hv=class n{router=U(at);navigate(e,t){t&&t.preventDefault(),this.router.navigate([e])}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ue({type:n,selectors:[["app-home"]],decls:58,vars:0,consts:[["id","about"],["src","/assets/slike/tecajevi1.png","alt","Kursevi IPI"],["href","http://ipi-akademija.ba/","target","_blank"],["href","http://hr.wikipedia.org/wiki/Internet","target","_blank"],["href","http://www.linux.com","target","_blank"],["href","mailto:info@ipi-akademija.ba"]],template:function(t,r){t&1&&(K(0,"app-header"),P(1,"article",0)(2,"h2"),D(3,"O kursevima"),N(),K(4,"img",1),P(5,"p")(6,"a",2),D(7,"IPI akademija"),N(),D(8," vi\u0161e od pet godina odr\u017Eava stru\u010Dne kurseve iz podru\u010Dja ICT-a."),N(),P(9,"p")(10,"strong"),D(11,"Kursevi IPI"),N(),D(12," namijenjeni su svima zainteresiranima za stjecanje osnovnih znanja o upotrebi informacijsko-komunikacijskih tehnologija."),N(),P(13,"p"),D(14,"Kursevi su podijeljeni u nekoliko skupina:"),N(),P(15,"ul")(16,"li"),D(17,"kursevi iz osnova upotrebe ra\u010Dunara i "),P(18,"a",3),D(19,"Interneta"),N()(),P(20,"li"),D(21,"kursevi o "),P(22,"em"),D(23,"web"),N(),D(24,"-tehnologijama, izradi "),P(25,"em"),D(26,"web"),N(),D(27,"-stranica i "),P(28,"em"),D(29,"web"),N(),D(30,"-sjedi\u0161ta"),N(),P(31,"li"),D(32,"kursevi o informati\u010Dkoj sigurnosti"),N(),P(33,"li"),D(34,"uvodni kursevi o "),P(35,"a",4),D(36,"Linuxu"),N(),D(37," i drugi"),N()(),P(38,"p"),D(39,"Kursevi se odr\u017Eavaju u moderno opremljenim, klimatiziranim u\u010Dionicama veli\u010Dine 50m"),P(40,"sup"),D(41,"2"),N(),D(42,"."),N(),P(43,"p"),D(44,"Na osnovne kurseve mogu se prijaviti svi zainteresirani polaznici. Za polaznike koji su \u010Dlanovi akademske zajednice (studenti, nastavnici te uposlenici visokih u\u010Dili\u0161ta i javnih znanstvenih instituta) osigurane su posebne pogodnosti (znatno ni\u017Ee cijene ili "),P(45,"strong"),D(46,"besplatni kursevi"),N(),D(47,"), a neke od pogodnosti primjenjuju se i na polaznike koji nisu \u010Dlanovi akademske zajednice. I za nezaposlene su osigurani popusti za poha\u0111anje kurseva."),N(),P(48,"p"),D(49,"Za sva pitanja vezano za kurseve obratite se na "),P(50,"em"),D(51,"e-mail"),N(),D(52," adresu "),P(53,"a",5),D(54,"info@ipi-akademija.ba"),N(),D(55,"."),N()(),P(56,"footer"),D(57,"\xA9 Internacionalna poslovno-informaciona akademija Tuzla"),N())},dependencies:[ve,yn,Fi],styles:["html[_ngcontent-%COMP%]{background:#e9f0f7}body[_ngcontent-%COMP%]{font-size:14px;font-family:Arial,Verdana,sans-serif;color:#2c3e50;margin:0;line-height:1.6}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:active{color:#1e73be;font-weight:700;transition:color .2s ease}a[_ngcontent-%COMP%]:hover{color:#0d47a1;text-decoration:underline}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#1565c0}article[_ngcontent-%COMP%]{width:80%;margin:0 auto;background-color:#fff;box-shadow:0 0 15px #0000001a;padding:30px 50px;box-sizing:border-box;border-bottom:3px solid #1e73be;min-height:calc(100vh - 220px);border-radius:0 0 8px 8px}article[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{float:right;margin-right:15px;margin-bottom:15px;border-radius:6px;box-shadow:0 0 10px #0000001a;max-width:300px;width:100%;height:auto}article[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:15px 0;padding-left:40px}article[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px}footer[_ngcontent-%COMP%]{width:80%;margin:0 auto;padding:20px 0;background:#1e73be;color:#fff;text-align:center;box-shadow:0 0 15px #0000001a;border-radius:0 0 8px 8px}@media(max-width:768px){article[_ngcontent-%COMP%]{width:90%;padding:20px 30px}article[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{float:none;display:block;margin:20px auto}article[_ngcontent-%COMP%], footer[_ngcontent-%COMP%]{width:90%}}"]})};var t2=()=>{};var i2=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},yK=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],a=n[t++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},qv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,a=o?n[i+1]:0,c=i+2<n.length,d=c?n[i+2]:0,h=s>>2,m=(s&3)<<4|a>>4,I=(a&15)<<2|d>>6,R=d&63;c||(R=64,o||(I=64)),r.push(t[h],t[m],t[I],t[R])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(i2(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):yK(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let d=i<n.length?t[n.charAt(i)]:64;++i;let m=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||d==null||m==null)throw new xD;let I=s<<2|a>>4;if(r.push(I),d!==64){let R=a<<4&240|d>>2;if(r.push(R),m!==64){let k=d<<6&192|m;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},xD=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},_K=function(n){let e=i2(n);return qv.encodeByteArray(e,!0)},cp=function(n){return _K(n).replace(/\./g,"")},zv=function(n){try{return qv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function OD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var vK=()=>OD().__FIREBASE_DEFAULTS__,EK=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},IK=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&zv(n[1]);return e&&JSON.parse(e)},Gv=()=>{try{return t2()||vK()||EK()||IK()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},LD=n=>{var e,t;return(t=(e=Gv())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},s2=n=>{let e=LD(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},FD=()=>{var n;return(n=Gv())===null||n===void 0?void 0:n.config},VD=n=>{var e;return(e=Gv())===null||e===void 0?void 0:e[`_${n}`]};var bc=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Xo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Wv(n){return(await fetch(n,{credentials:"include"})).ok}function o2(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[cp(JSON.stringify(t)),cp(JSON.stringify(o)),""].join(".")}var ap={};function wK(){let n={prod:[],emulator:[]};for(let e of Object.keys(ap))ap[e]?n.emulator.push(e):n.prod.push(e);return n}function bK(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var n2=!1;function Kv(n,e){if(typeof window>"u"||typeof document>"u"||!Xo(window.location.host)||ap[n]===e||ap[n]||n2)return;ap[n]=e;function t(I){return`__firebase__banner__${I}`}let r="__firebase__banner",s=wK().prod.length>0;function o(){let I=document.getElementById(r);I&&I.remove()}function a(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function c(I,R){I.setAttribute("width","24"),I.setAttribute("id",R),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function d(){let I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{n2=!0,o()},I}function h(I,R){I.setAttribute("id",R),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function m(){let I=bK(r),R=t("text"),k=document.getElementById(R)||document.createElement("span"),V=t("learnmore"),O=document.getElementById(V)||document.createElement("a"),q=t("preprendIcon"),X=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){let ne=I.element;a(ne),h(O,V);let Pe=d();c(X,q),ne.append(X,k,O,Pe),document.body.appendChild(ne)}s?(k.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function a2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function TK(){var n;let e=(n=Gv())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function c2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function u2(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function l2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function d2(){let n=ln();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function h2(){return!TK()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function up(){try{return typeof indexedDB=="object"}catch{return!1}}function f2(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var CK="FirebaseError",cr=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=CK,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ni.prototype.create)}},ni=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?SK(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new cr(i,a,r)}};function SK(n,e){return n.replace(DK,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var DK=/\{\$([^}]+)}/g;function p2(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Vi(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if(r2(s)&&r2(o)){if(!Vi(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function r2(n){return n!==null&&typeof n=="object"}function lp(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ud(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ld(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function m2(n,e){let t=new MD(n,e);return t.subscribe.bind(t)}var MD=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");AK(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=kD),i.error===void 0&&(i.error=kD),i.complete===void 0&&(i.complete=kD);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function AK(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function kD(){}var AIe=14400*1e3;function Gn(n){return n&&n._delegate?n._delegate:n}var Fn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Tc="[DEFAULT]";var UD=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new bc;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PK(e))try{this.getOrInitializeService({instanceIdentifier:Tc})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Tc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Tc){return this.instances.has(e)}getOptions(e=Tc){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:RK(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Tc){return this.component?this.component.multipleInstances?e:Tc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function RK(n){return n===Tc?void 0:n}function PK(n){return n.instantiationMode==="EAGER"}var Qv=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new UD(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var NK=[],xe=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(xe||{}),kK={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},xK=xe.INFO,MK={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},OK=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=MK[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ui=class{constructor(e){this.name=e,this._logLevel=xK,this._logHandler=OK,this._userLogHandler=null,NK.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kK[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}};var BD=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(LK(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function LK(n){let e=n.getComponent();return e?.type==="VERSION"}var $D="@firebase/app",g2="0.13.2";var Ss=new Ui("@firebase/app"),FK="@firebase/app-compat",VK="@firebase/analytics-compat",UK="@firebase/analytics",jK="@firebase/app-check-compat",BK="@firebase/app-check",$K="@firebase/auth",HK="@firebase/auth-compat",qK="@firebase/database",zK="@firebase/data-connect",GK="@firebase/database-compat",WK="@firebase/functions",KK="@firebase/functions-compat",QK="@firebase/installations",YK="@firebase/installations-compat",JK="@firebase/messaging",XK="@firebase/messaging-compat",ZK="@firebase/performance",eQ="@firebase/performance-compat",tQ="@firebase/remote-config",nQ="@firebase/remote-config-compat",rQ="@firebase/storage",iQ="@firebase/storage-compat",sQ="@firebase/firestore",oQ="@firebase/ai",aQ="@firebase/firestore-compat",cQ="firebase",uQ="11.10.0";var HD="[DEFAULT]",lQ={[$D]:"fire-core",[FK]:"fire-core-compat",[UK]:"fire-analytics",[VK]:"fire-analytics-compat",[BK]:"fire-app-check",[jK]:"fire-app-check-compat",[$K]:"fire-auth",[HK]:"fire-auth-compat",[qK]:"fire-rtdb",[zK]:"fire-data-connect",[GK]:"fire-rtdb-compat",[WK]:"fire-fn",[KK]:"fire-fn-compat",[QK]:"fire-iid",[YK]:"fire-iid-compat",[JK]:"fire-fcm",[XK]:"fire-fcm-compat",[ZK]:"fire-perf",[eQ]:"fire-perf-compat",[tQ]:"fire-rc",[nQ]:"fire-rc-compat",[rQ]:"fire-gcs",[iQ]:"fire-gcs-compat",[sQ]:"fire-fst",[aQ]:"fire-fst-compat",[oQ]:"fire-vertex","fire-js":"fire-js",[cQ]:"fire-js-all"};var dp=new Map,dQ=new Map,qD=new Map;function y2(n,e){try{n.container.addComponent(e)}catch(t){Ss.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ri(n){let e=n.name;if(qD.has(e))return Ss.debug(`There were multiple attempts to register component ${e}.`),!1;qD.set(e,n);for(let t of dp.values())y2(t,n);for(let t of dQ.values())y2(t,n);return!0}function dd(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ur(n){return n==null?!1:n.settings!==void 0}var hQ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zo=new ni("app","Firebase",hQ);var zD=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zo.create("app-deleted",{appName:this._name})}};var ea=uQ;function KD(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:HD,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Zo.create("bad-app-name",{appName:String(i)});if(t||(t=FD()),!t)throw Zo.create("no-options");let s=dp.get(i);if(s){if(Vi(t,s.options)&&Vi(r,s.config))return s;throw Zo.create("duplicate-app",{appName:i})}let o=new Qv(i);for(let c of qD.values())o.addComponent(c);let a=new zD(t,r,o);return dp.set(i,a),a}function Cc(n=HD){let e=dp.get(n);if(!e&&n===HD&&FD())return KD();if(!e)throw Zo.create("no-app",{appName:n});return e}function Yv(){return Array.from(dp.values())}function It(n,e,t){var r;let i=(r=lQ[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ss.warn(a.join(" "));return}ri(new Fn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var fQ="firebase-heartbeat-database",pQ=1,hp="firebase-heartbeat-store",jD=null;function I2(){return jD||(jD=d_(fQ,pQ,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(hp)}catch(t){console.warn(t)}}}}).catch(n=>{throw Zo.create("idb-open",{originalErrorMessage:n.message})})),jD}async function mQ(n){try{let t=(await I2()).transaction(hp),r=await t.objectStore(hp).get(w2(n));return await t.done,r}catch(e){if(e instanceof cr)Ss.warn(e.message);else{let t=Zo.create("idb-get",{originalErrorMessage:e?.message});Ss.warn(t.message)}}}async function _2(n,e){try{let r=(await I2()).transaction(hp,"readwrite");await r.objectStore(hp).put(e,w2(n)),await r.done}catch(t){if(t instanceof cr)Ss.warn(t.message);else{let r=Zo.create("idb-set",{originalErrorMessage:t?.message});Ss.warn(r.message)}}}function w2(n){return`${n.name}!${n.options.appId}`}var gQ=1024,yQ=30,GD=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new WD(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=v2();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>yQ){let o=vQ(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ss.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=v2(),{heartbeatsToSend:r,unsentEntries:i}=_Q(this._heartbeatsCache.heartbeats),s=cp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Ss.warn(t),""}}};function v2(){return new Date().toISOString().substring(0,10)}function _Q(n,e=gQ){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),E2(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),E2(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var WD=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return up()?f2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let t=await mQ(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){let i=await this.read();return _2(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){let i=await this.read();return _2(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}};function E2(n){return cp(JSON.stringify({version:2,heartbeats:n})).length}function vQ(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function EQ(n){ri(new Fn("platform-logger",e=>new BD(e),"PRIVATE")),ri(new Fn("heartbeat",e=>new GD(e),"PRIVATE")),It($D,g2,n),It($D,g2,"esm2017"),It("fire-js","")}EQ("");var IQ="firebase",wQ="11.10.0";It(IQ,wQ,"app");function b2(n){n===void 0&&(n=U(vt));let e=n.get(Bu);return t=>new De(r=>{let i=e.add(),s=!1;function o(){s||(i(),s=!0)}let a=t.subscribe({next:c=>{r.next(c),o()},complete:()=>{r.complete(),o()},error:c=>{r.error(c),o()}});return a.add(()=>{r.unsubscribe(),o()}),a})}var ta=new uo("ANGULARFIRE2_VERSION");function fp(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var fd=(n,e)=>{let t=e?[e]:Yv(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},hd=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(hd||{}),T2=vb()&&typeof Zone<"u"?hd.WARN:hd.SILENT;var Jv=class{zone;delegate;constructor(e,t=kI){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(o){i?i.runGuarded(()=>{e.apply(this,[o])}):e.apply(this,[o])};return this.delegate.schedule(s,t,r)}},na=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=U(lt);this.outsideAngular=t.runOutsideAngular(()=>new Jv(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Jv(typeof Zone>"u"?void 0:Zone.current,NI))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),C2=!1;function bQ(n,e){!C2&&(T2>hd.SILENT||vb())&&(C2=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),T2>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function TQ(n){let e=U(lt,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Sc(n){let e=U(lt,{optional:!0});return e?e.run(()=>n()):n()}var CQ=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Nt(t,()=>Sc(()=>n.apply(void 0,r)))),ji=(n,e,t)=>(t||=e?hd.WARN:hd.VERBOSE,function(){let r,i=arguments,s,o,a;try{s=U(na),o=U(Bu),a=U(St)}catch{return bQ(n,t),n.apply(this,i)}for(let d=0;d<arguments.length;d++)typeof i[d]=="function"&&(e&&(r||=Sc(()=>o.add())),i[d]=CQ(i[d],r,a));let c=TQ(()=>n.apply(this,i));return e?c instanceof De?c.pipe(ao(s.outsideAngular),oo(s.insideAngular),b2(a)):c instanceof Promise?Sc(()=>{let d=o.add();return new Promise((h,m)=>{c.then(I=>Nt(a,()=>Sc(()=>h(I))),I=>Nt(a,()=>Sc(()=>m(I)))).finally(d)})}):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:Sc(()=>c):c instanceof De?c.pipe(ao(s.outsideAngular),oo(s.insideAngular)):Sc(()=>c)});var Ds=class{constructor(e){return e}},Dc=class{constructor(){return Yv()}};function SQ(n){return n&&n.length===1?n[0]:new Ds(Cc())}var QD=new Z("angularfire2._apps"),DQ={provide:Ds,useFactory:SQ,deps:[[new tr,QD]]},AQ={provide:Dc,deps:[[new tr,QD]]};function RQ(n){return(e,t)=>{let r=t.get(Za);It("angularfire",ta.full,"core"),It("angularfire",ta.full,"app"),It("angular",tw.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Ds(i)}}function S2(n,...e){return mr([DQ,AQ,{provide:QD,useFactory:RQ(n),multi:!0,deps:[lt,vt,na,...e]}])}var D2=ji(KD,!0);var PQ=new Map,NQ={activated:!1,tokenObservers:[]},kQ={initialized:!1,enabled:!1};function ii(n){return PQ.get(n)||Object.assign({},NQ)}function N2(){return kQ}var xQ="https://content-firebaseappcheck.googleapis.com/v1";var MQ="exchangeDebugToken",A2={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},bwe=1440*60*1e3;var XD=class{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new bc,this.pending.promise.catch(t=>{}),await OQ(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new bc,this.pending.promise.catch(t=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function OQ(n){return new Promise(e=>{setTimeout(e,n)})}var LQ={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},ra=new ni("appCheck","AppCheck",LQ);function k2(n){if(!ii(n).activated)throw ra.create("use-before-activation",{appName:n.name})}async function x2({url:n,body:e},t){let r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){let m=await i.getHeartbeatsHeader();m&&(r["X-Firebase-Client"]=m)}let s={method:"POST",body:JSON.stringify(e),headers:r},o;try{o=await fetch(n,s)}catch(m){throw ra.create("fetch-network-error",{originalErrorMessage:m?.message})}if(o.status!==200)throw ra.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(m){throw ra.create("fetch-parse-error",{originalErrorMessage:m?.message})}let c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw ra.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});let d=Number(c[1])*1e3,h=Date.now();return{token:a.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}}function M2(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${xQ}/projects/${t}/apps/${r}:${MQ}?key=${i}`,body:{debug_token:e}}}var FQ="firebase-app-check-database",VQ=1,ZD="firebase-app-check-store";var Xv=null;function UQ(){return Xv||(Xv=new Promise((n,e)=>{try{let t=indexedDB.open(FQ,VQ);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(ra.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(ZD,{keyPath:"compositeKey"})}}}catch(t){e(ra.create("storage-open",{originalErrorMessage:t?.message}))}}),Xv)}function jQ(n,e){return BQ($Q(n),e)}async function BQ(n,e){let r=(await UQ()).transaction(ZD,"readwrite"),s=r.objectStore(ZD).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{var d;a(ra.create("storage-set",{originalErrorMessage:(d=c.target.error)===null||d===void 0?void 0:d.message}))}})}function $Q(n){return`${n.options.appId}-${n.name}`}var pp=new Ui("@firebase/app-check");function YD(n,e){return up()?jQ(n,e).catch(t=>{pp.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function O2(){return N2().enabled}async function L2(){let n=N2();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}var HQ={error:"UNKNOWN_ERROR"};function qQ(n){return qv.encodeString(JSON.stringify(n),!1)}async function eA(n,e=!1,t=!1){let r=n.app;k2(r);let i=ii(r),s=i.token,o;if(s&&!mp(s)&&(i.token=void 0,s=void 0),!s){let d=await i.cachedTokenPromise;d&&(mp(d)?s=d:await YD(r,void 0))}if(!e&&s&&mp(s))return{token:s.token};let a=!1;if(O2())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=x2(M2(r,await L2()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let d=await i.exchangeTokenPromise;return await YD(r,d),i.token=d,{token:d.token}}catch(d){return d.code==="appCheck/throttled"||d.code==="appCheck/initial-throttle"?pp.warn(d.message):t&&pp.error(d),JD(d)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),s=await ii(r).exchangeTokenPromise}catch(d){d.code==="appCheck/throttled"||d.code==="appCheck/initial-throttle"?pp.warn(d.message):t&&pp.error(d),o=d}let c;return s?o?mp(s)?c={token:s.token,internalError:o}:c=JD(o):(c={token:s.token},i.token=s,await YD(r,s)):c=JD(o),a&&KQ(r,c),c}async function zQ(n){let e=n.app;k2(e);let{provider:t}=ii(e);if(O2()){let r=await L2(),{token:i}=await x2(M2(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=await t.getToken();return{token:r}}}function GQ(n,e,t,r){let{app:i}=n,s=ii(i),o={next:t,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&mp(s.token)){let a=s.token;Promise.resolve().then(()=>{t({token:a.token}),R2(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>R2(n))}function F2(n,e){let t=ii(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function R2(n){let{app:e}=n,t=ii(e),r=t.tokenRefresher;r||(r=WQ(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function WQ(n){let{app:e}=n;return new XD(async()=>{let t=ii(e),r;if(t.token?r=await eA(n,!0):r=await eA(n),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{let t=ii(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},A2.RETRIAL_MIN_WAIT,A2.RETRIAL_MAX_WAIT)}function KQ(n,e){let t=ii(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function mp(n){return n.expireTimeMillis-Date.now()>0}function JD(n){return{token:qQ(HQ),error:n}}var tA=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=ii(this.app);for(let t of e)F2(this.app,t.next);return Promise.resolve()}};function QQ(n,e){return new tA(n,e)}function YQ(n){return{getToken:e=>eA(n,e),getLimitedUseToken:()=>zQ(n),addTokenListener:e=>GQ(n,"INTERNAL",e),removeTokenListener:e=>F2(n.app,e)}}var JQ="@firebase/app-check",XQ="0.10.1";var ZQ="app-check",P2="app-check-internal";function eY(){ri(new Fn(ZQ,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return QQ(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(P2).initialize()})),ri(new Fn(P2,n=>{let e=n.getProvider("app-check").getImmediate();return YQ(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),It(JQ,XQ)}eY();var tY="app-check";var pd=class{constructor(){return fd(tY)}};var nY=["localhost","0.0.0.0","127.0.0.1"],Owe=typeof window<"u"&&nY.includes(window.location.hostname);function eU(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var tU=eU,nU=new ni("auth","Firebase",eU());var iE=new Ui("@firebase/auth");function rY(n,...e){iE.logLevel<=xe.WARN&&iE.warn(`Auth (${ea}): ${n}`,...e)}function eE(n,...e){iE.logLevel<=xe.ERROR&&iE.error(`Auth (${ea}): ${n}`,...e)}function $i(n,...e){throw CA(n,...e)}function Ac(n,...e){return CA(n,...e)}function rU(n,e,t){let r=Object.assign(Object.assign({},tU()),{[e]:t});return new ni("auth","Firebase",r).create(e,{appName:n.name})}function oa(n){return rU(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function CA(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return nU.create(n,...e)}function de(n,e,...t){if(!n)throw CA(e,...t)}function As(n){let e="INTERNAL ASSERTION FAILED: "+n;throw eE(e),new Error(e)}function aa(n,e){n||As(e)}function sA(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function iY(){return V2()==="http:"||V2()==="https:"}function V2(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function sY(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iY()||u2()||"connection"in navigator)?navigator.onLine:!0}function oY(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Rc=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,aa(t>e,"Short delay should be less than long delay!"),this.isMobile=a2()||l2()}get(){return sY()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function SA(n,e){aa(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var sE=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;As("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;As("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;As("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var aY={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var cY=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uY=new Rc(3e4,6e4);function Nc(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ca(n,e,t,r,i={}){return iU(n,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});let a=lp(Object.assign({key:n.config.apiKey},o)).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);let d=Object.assign({method:e,headers:c},s);return c2()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&Xo(n.emulatorConfig.host)&&(d.credentials="include"),sE.fetch()(await sU(n,n.config.apiHost,t,a),d)})}async function iU(n,e,t){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},aY),e);try{let i=new oA(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=await s.json();if("needConfirmation"in o)throw Zv(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,d]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zv(n,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Zv(n,"email-already-in-use",o);if(c==="USER_DISABLED")throw Zv(n,"user-disabled",o);let h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw rU(n,h,d);$i(n,h)}}catch(i){if(i instanceof cr)throw i;$i(n,"network-request-failed",{message:String(i)})}}async function gE(n,e,t,r,i={}){let s=await ca(n,e,t,r,i);return"mfaPendingCredential"in s&&$i(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function sU(n,e,t,r){let i=`${e}${t}?${r}`,s=n,o=s.config.emulator?SA(n.config,i):`${n.config.apiScheme}://${i}`;return cY.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function lY(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var oA=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ac(this.auth,"network-request-failed")),uY.get())})}};function Zv(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Ac(n,e,r);return i.customData._tokenResponse=t,i}function U2(n){return n!==void 0&&n.enterprise!==void 0}var aA=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return lY(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};async function dY(n,e){return ca(n,"GET","/v2/recaptchaConfig",Nc(n,e))}async function hY(n,e){return ca(n,"POST","/v1/accounts:delete",e)}async function oE(n,e){return ca(n,"POST","/v1/accounts:lookup",e)}function yp(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function DA(n,e=!1){let t=Gn(n),r=await t.getIdToken(e),i=AA(r);de(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:yp(nA(i.auth_time)),issuedAtTime:yp(nA(i.iat)),expirationTime:yp(nA(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function nA(n){return Number(n)*1e3}function AA(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return eE("JWT malformed, contained fewer than 3 sections"),null;try{let i=zv(t);return i?JSON.parse(i):(eE("Failed to decode base64 JWT payload"),null)}catch(i){return eE("Caught error parsing JWT payload as JSON",i?.toString()),null}}function j2(n){let e=AA(n);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function vp(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof cr&&fY(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function fY({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var cA=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var Ep=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=yp(this.lastLoginAt),this.creationTime=yp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function aE(n){var e;let t=n.auth,r=await n.getIdToken(),i=await vp(n,oE(t,{idToken:r}));de(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?oU(s.providerUserInfo):[],a=pY(n.providerData,o),c=n.isAnonymous,d=!(n.email&&s.passwordHash)&&!a?.length,h=c?d:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ep(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(n,m)}async function RA(n){let e=Gn(n);await aE(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pY(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function oU(n){return n.map(e=>{var{providerId:t}=e,r=xI(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function mY(n,e){let t=await iU(n,{},async()=>{let r=lp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=await sU(n,i,"/v1/token",`key=${s}`),a=await n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return n.emulatorConfig&&Xo(n.emulatorConfig.host)&&(c.credentials="include"),sE.fetch()(o,c)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function gY(n,e){return ca(n,"POST","/v2/accounts:revokeToken",Nc(n,e))}var _p=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):j2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){de(e.length!==0,"internal-error");let t=j2(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:r,refreshToken:i,expiresIn:s}=await mY(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(de(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(de(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(de(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return As("not implemented")}};function ia(n,e){de(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var sa=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=xI(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ep(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){let t=await vp(this,this.stsTokenManager.getToken(this.auth,e));return de(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return DA(this,e)}reload(){return RA(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await aE(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ur(this.auth.app))return Promise.reject(oa(this.auth));let e=await this.getIdToken();return await vp(this,hY(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,c,d,h;let m=(r=t.displayName)!==null&&r!==void 0?r:void 0,I=(i=t.email)!==null&&i!==void 0?i:void 0,R=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,k=(o=t.photoURL)!==null&&o!==void 0?o:void 0,V=(a=t.tenantId)!==null&&a!==void 0?a:void 0,O=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,q=(d=t.createdAt)!==null&&d!==void 0?d:void 0,X=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:ne,emailVerified:Pe,isAnonymous:ut,providerData:Ne,stsTokenManager:T}=t;de(ne&&T,e,"internal-error");let _=_p.fromJSON(this.name,T);de(typeof ne=="string",e,"internal-error"),ia(m,e.name),ia(I,e.name),de(typeof Pe=="boolean",e,"internal-error"),de(typeof ut=="boolean",e,"internal-error"),ia(R,e.name),ia(k,e.name),ia(V,e.name),ia(O,e.name),ia(q,e.name),ia(X,e.name);let E=new n({uid:ne,auth:e,email:I,emailVerified:Pe,displayName:m,isAnonymous:ut,photoURL:k,phoneNumber:R,tenantId:V,stsTokenManager:_,createdAt:q,lastLoginAt:X});return Ne&&Array.isArray(Ne)&&(E.providerData=Ne.map(b=>Object.assign({},b))),O&&(E._redirectEventId=O),E}static async _fromIdTokenResponse(e,t,r=!1){let i=new _p;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await aE(s),s}static async _fromGetAccountInfoResponse(e,t,r){let i=t.users[0];de(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?oU(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new _p;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ep(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,d),c}};var B2=new Map;function Rs(n){aa(n instanceof Function,"Expected a class definition");let e=B2.get(n);return e?(aa(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,B2.set(n,e),e)}var yY=(()=>{class n{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){let r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),uA=yY;function tE(n,e,t){return`firebase:${n}:${e}:${t}`}var cE=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=tE(this.userKey,i.apiKey,s),this.fullPersistenceKey=tE("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=await oE(this.auth,{idToken:e}).catch(()=>{});return t?sa._fromGetAccountInfoResponse(this.auth,t,e):null}return sa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new n(Rs(uA),e,r);let i=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d),s=i[0]||Rs(uA),o=tE(r,e.config.apiKey,e.name),a=null;for(let d of t)try{let h=await d._get(o);if(h){let m;if(typeof h=="string"){let I=await oE(e,{idToken:h}).catch(()=>{});if(!I)break;m=await sa._fromGetAccountInfoResponse(e,I,h)}else m=sa._fromJSON(e,h);d!==s&&(a=m),s=d;break}}catch{}let c=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new n(s,e,r):(s=c[0],a&&await s._set(o,a.toJSON()),await Promise.all(t.map(async d=>{if(d!==s)try{await d._remove(o)}catch{}})),new n(s,e,r))}};function $2(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aU(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hU(e))return"Blackberry";if(fU(e))return"Webos";if(cU(e))return"Safari";if((e.includes("chrome/")||uU(e))&&!e.includes("edge/"))return"Chrome";if(dU(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function aU(n=ln()){return/firefox\//i.test(n)}function cU(n=ln()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uU(n=ln()){return/crios\//i.test(n)}function lU(n=ln()){return/iemobile/i.test(n)}function dU(n=ln()){return/android/i.test(n)}function hU(n=ln()){return/blackberry/i.test(n)}function fU(n=ln()){return/webos/i.test(n)}function PA(n=ln()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function _Y(n=ln()){var e;return PA(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function vY(){return d2()&&document.documentMode===10}function pU(n=ln()){return PA(n)||dU(n)||fU(n)||hU(n)||/windows phone/i.test(n)||lU(n)}function mU(n,e=[]){let t;switch(n){case"Browser":t=$2(ln());break;case"Worker":t=`${$2(ln())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ea}/${r}`}var lA=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function EY(n,e={}){return ca(n,"GET","/v2/passwordPolicy",Nc(n,e))}var IY=6,dA=class{constructor(e){var t,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:IY,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var hA=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uE(this),this.idTokenSubscription=new uE(this),this.beforeStateQueue=new lA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nU,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Rs(t)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await cE.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await oE(this,{idToken:e}),r=await sa._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ur(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=await this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await aE(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oY()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ur(this.app))return Promise.reject(oa(this));let t=e?Gn(e):null;return t&&de(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ur(this.app)?Promise.reject(oa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ur(this.app)?Promise.reject(oa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await EY(this),t=new dA(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ni("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await gY(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){let r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&Rs(e)||this._popupRedirectResolver;de(t,this,"argument-error"),this.redirectPersistenceManager=await cE.create(this,[Rs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(t);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mU(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);let i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(ur(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&rY(`Error while retrieving App Check token: ${t.error}`),t?.token}};function md(n){return Gn(n)}var uE=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=m2(t=>this.observer=t)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var yE={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wY(n){yE=n}function gU(n){return yE.loadJS(n)}function bY(){return yE.recaptchaEnterpriseScript}function TY(){return yE.gapiScript}function yU(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var fA=class{constructor(){this.enterprise=new pA}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},pA=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var CY="recaptcha-enterprise",_U="NO_RECAPTCHA",mA=class{constructor(e){this.type=CY,this.auth=md(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{dY(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let d=new aA(c);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,o(d.siteKey)}}).catch(c=>{a(c)})})}function i(s,o,a){let c=window.grecaptcha;U2(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(d=>{o(d)}).catch(()=>{o(_U)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fA().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!t&&U2(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=bY();c.length!==0&&(c+=a),gU(c).then(()=>{i(a,s,o)}).catch(d=>{o(d)})}}).catch(a=>{o(a)})})}};async function gp(n,e,t,r=!1,i=!1){let s=new mA(n),o;if(i)o=_U;else try{o=await s.verify(t)}catch{o=await s.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,d=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function H2(n,e,t,r,i){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=await gp(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=await gp(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){let a=await gp(n,e,t);return r(n,a).catch(async c=>{var d;if(((d=n._getRecaptchaConfig())===null||d===void 0?void 0:d.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let h=await gp(n,e,t,!1,!0);return r(n,h)}return Promise.reject(c)})}else{let a=await gp(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")}function NA(n,e){let t=dd(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(Vi(s,e??{}))return i;$i(i,"already-initialized")}return t.initialize({options:e})}function SY(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Rs);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function kA(n,e,t){let r=md(n);de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=vU(e),{host:o,port:a}=DY(e),c=a===null?"":`:${a}`,d={url:`${s}//${o}${c}/`},h=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){de(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),de(Vi(d,r.config.emulator)&&Vi(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Xo(o)?(Wv(`${s}//${o}${c}`),Kv("Auth",!0)):i||AY()}function vU(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function DY(n){let e=vU(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:q2(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:q2(o)}}}function q2(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function AY(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Ip=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return As("not implemented")}_getIdTokenResponse(e){return As("not implemented")}_linkToIdToken(e,t){return As("not implemented")}_getReauthenticationResolver(e){return As("not implemented")}};async function RY(n,e){return ca(n,"POST","/v1/accounts:signUp",e)}async function PY(n,e){return gE(n,"POST","/v1/accounts:signInWithPassword",Nc(n,e))}async function NY(n,e){return gE(n,"POST","/v1/accounts:signInWithEmailLink",Nc(n,e))}async function kY(n,e){return gE(n,"POST","/v1/accounts:signInWithEmailLink",Nc(n,e))}var wp=class n extends Ip{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return H2(e,t,"signInWithPassword",PY,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return NY(e,{email:this._email,oobCode:this._password});default:$i(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return H2(e,r,"signUpPassword",RY,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return kY(e,{idToken:t,email:this._email,oobCode:this._password});default:$i(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};async function rA(n,e){return gE(n,"POST","/v1/accounts:signInWithIdp",Nc(n,e))}function xY(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function MY(n){let e=ud(ld(n)).link,t=e?ud(ld(e)).deep_link_id:null,r=ud(ld(n)).deep_link_id;return(r?ud(ld(r)).link:null)||r||t||e||n}var lE=class n{constructor(e){var t,r,i,s,o,a;let c=ud(ld(e)),d=(t=c.apiKey)!==null&&t!==void 0?t:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,m=xY((i=c.mode)!==null&&i!==void 0?i:null);de(d&&h&&m,"argument-error"),this.apiKey=d,this.operation=m,this.code=h,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=MY(e);try{return new n(t)}catch{return null}}};var EU=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return wp._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=lE.parseLink(r);return de(i,"argument-error"),wp._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),dE=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var gA=class extends dE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var bp=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){let s=await sa._fromIdTokenResponse(e,r,i),o=z2(r);return new n({user:s,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);let i=z2(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})}};function z2(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var yA=class n extends cr{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function IU(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?yA._fromErrorAndOperation(n,s,e,r):s})}async function OY(n,e,t=!1){let r=await vp(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return bp._forOperation(n,"link",r)}async function LY(n,e,t=!1){let{auth:r}=n;if(ur(r.app))return Promise.reject(oa(r));let i="reauthenticate";try{let s=await vp(n,IU(r,i,e,n),t);de(s.idToken,r,"internal-error");let o=AA(s.idToken);de(o,r,"internal-error");let{sub:a}=o;return de(n.uid===a,r,"user-mismatch"),bp._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&$i(r,"user-mismatch"),s}}async function wU(n,e,t=!1){if(ur(n.app))return Promise.reject(oa(n));let r="signIn",i=await IU(n,r,e),s=await bp._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function xA(n,e){return wU(md(n),e)}async function FY(n){let e=md(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function MA(n,e,t){return ur(n.app)?Promise.reject(oa(n)):xA(Gn(n),EU.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&FY(n),r})}function OA(n,e,t,r){return Gn(n).onIdTokenChanged(e,t,r)}function LA(n,e,t){return Gn(n).beforeAuthStateChanged(e,t)}var hE="__sak";var fE=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(hE,"1"),this.storage.removeItem(hE),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var VY=1e3,UY=10,jY=(()=>{class n extends fE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pU(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,d)=>{this.notifyListeners(a,d)});return}let i=t.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);vY()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,UY):s()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},VY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){let r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}return n.type="LOCAL",n})(),bU=jY;var BY=(()=>{class n extends fE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),FA=BY;function $Y(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}var HY=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){let r=t,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(async h=>h(r.origin,o)),d=await $Y(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:d})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function TU(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var _A=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let d=TU("",20);i.port1.start();let h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){let I=m;if(I.data.eventId===d)switch(I.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(I.data.response);break;default:clearTimeout(h),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}};function Bi(){return window}function qY(n){Bi().location.href=n}function CU(){return typeof Bi().WorkerGlobalScope<"u"&&typeof Bi().importScripts=="function"}async function zY(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GY(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function WY(){return CU()?self:null}var SU="firebaseLocalStorageDb",KY=1,pE="firebaseLocalStorage",DU="fbase_key",Pc=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function _E(n,e){return n.transaction([pE],e?"readwrite":"readonly").objectStore(pE)}function QY(){let n=indexedDB.deleteDatabase(SU);return new Pc(n).toPromise()}function vA(){let n=indexedDB.open(SU,KY);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(pE,{keyPath:DU})}catch(i){t(i)}}),n.addEventListener("success",async()=>{let r=n.result;r.objectStoreNames.contains(pE)?e(r):(r.close(),await QY(),e(await vA()))})})}async function G2(n,e,t){let r=_E(n,!0).put({[DU]:e,value:t});return new Pc(r).toPromise()}async function YY(n,e){let t=_E(n,!1).get(e),r=await new Pc(t).toPromise();return r===void 0?null:r.value}function W2(n,e){let t=_E(n,!0).delete(e);return new Pc(t).toPromise()}var JY=800,XY=3,ZY=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vA(),this.db)}async _withRetries(t){let r=0;for(;;)try{let i=await this._openDb();return await t(i)}catch(i){if(r++>XY)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CU()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=HY._getInstance(WY()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await zY(),!this.activeServiceWorker)return;this.sender=new _A(this.activeServiceWorker);let i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||GY()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let t=await vA();return await G2(t,hE,"1"),await W2(t,hE),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>G2(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){let r=await this._withRetries(i=>YY(i,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>W2(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){let t=await this._withRetries(s=>{let o=_E(s,!1).getAll();return new Pc(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),AU=ZY;var Hwe=yU("rcb"),qwe=new Rc(3e4,6e4);function eJ(n,e){return e?Rs(e):(de(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Tp=class extends Ip{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rA(e,this._buildIdpRequest())}_linkToIdToken(e,t){return rA(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return rA(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function tJ(n){return wU(n.auth,new Tp(n),n.bypassAuthState)}function nJ(n){let{auth:e,user:t}=n;return de(t,e,"internal-error"),LY(t,new Tp(n),n.bypassAuthState)}async function rJ(n){let{auth:e,user:t}=n;return de(t,e,"internal-error"),OY(t,new Tp(n),n.bypassAuthState)}var EA=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tJ;case"linkViaPopup":case"linkViaRedirect":return rJ;case"reauthViaPopup":case"reauthViaRedirect":return nJ;default:$i(this.auth,"internal-error")}}resolve(e){aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var zwe=new Rc(2e3,1e4);var iJ="pendingRedirect",nE=new Map,IA=class extends EA{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=nE.get(this.auth._key());if(!e){try{let r=await sJ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}nE.set(this.auth._key(),e)}return this.bypassAuthState||nE.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function sJ(n,e){let t=cJ(e),r=aJ(n);if(!await r._isAvailable())return!1;let i=await r._get(t)==="true";return await r._remove(t),i}function oJ(n,e){nE.set(n._key(),e)}function aJ(n){return Rs(n._redirectPersistence)}function cJ(n){return tE(iJ,n.config.apiKey,n.name)}async function uJ(n,e,t=!1){if(ur(n.app))return Promise.reject(oa(n));let r=md(n),i=eJ(r,e),o=await new IA(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}var lJ=600*1e3,wA=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dJ(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!RU(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ac(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lJ&&this.cachedEventUids.clear(),this.cachedEventUids.has(K2(e))}saveEventToCache(e){this.cachedEventUids.add(K2(e)),this.lastProcessedEventTime=Date.now()}};function K2(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function RU({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function dJ(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RU(n);default:return!1}}async function hJ(n,e={}){return ca(n,"GET","/v1/projects",e)}var fJ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pJ=/^https?/;async function mJ(n){if(n.config.emulator)return;let{authorizedDomains:e}=await hJ(n);for(let t of e)try{if(gJ(t))return}catch{}$i(n,"unauthorized-domain")}function gJ(n){let e=sA(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!pJ.test(t))return!1;if(fJ.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var yJ=new Rc(3e4,6e4);function Q2(){let n=Bi().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function _J(n){return new Promise((e,t)=>{var r,i,s;function o(){Q2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Q2(),t(Ac(n,"network-request-failed"))},timeout:yJ.get()})}if(!((i=(r=Bi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Bi().gapi)===null||s===void 0)&&s.load)o();else{let a=yU("iframefcb");return Bi()[a]=()=>{gapi.load?o():t(Ac(n,"network-request-failed"))},gU(`${TY()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw rE=null,e})}var rE=null;function vJ(n){return rE=rE||_J(n),rE}var EJ=new Rc(5e3,15e3),IJ="__/auth/iframe",wJ="emulator/auth/iframe",bJ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TJ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CJ(n){let e=n.config;de(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?SA(e,wJ):`https://${n.config.authDomain}/${IJ}`,r={apiKey:e.apiKey,appName:n.name,v:ea},i=TJ.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${lp(r).slice(1)}`}async function SJ(n){let e=await vJ(n),t=Bi().gapi;return de(t,n,"internal-error"),e.open({where:document.body,url:CJ(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bJ,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});let o=Ac(n,"network-request-failed"),a=Bi().setTimeout(()=>{s(o)},EJ.get());function c(){Bi().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})}))}var DJ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AJ=500,RJ=600,PJ="_blank",NJ="http://localhost",mE=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function kJ(n,e,t,r=AJ,i=RJ){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},DJ),{width:r.toString(),height:i.toString(),top:s,left:o}),d=ln().toLowerCase();t&&(a=uU(d)?PJ:t),aU(d)&&(e=e||NJ,c.scrollbars="yes");let h=Object.entries(c).reduce((I,[R,k])=>`${I}${R}=${k},`,"");if(_Y(d)&&a!=="_self")return xJ(e||"",a),new mE(null);let m=window.open(e||"",a,h);de(m,n,"popup-blocked");try{m.focus()}catch{}return new mE(m)}function xJ(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var MJ="__/auth/handler",OJ="emulator/auth/handler",LJ=encodeURIComponent("fac");async function Y2(n,e,t,r,i,s){de(n.config.authDomain,n,"auth-domain-config-required"),de(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ea,eventId:i};if(e instanceof dE){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",p2(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,m]of Object.entries(s||{}))o[h]=m}if(e instanceof gA){let h=e.getScopes().filter(m=>m!=="");h.length>0&&(o.scopes=h.join(","))}n.tenantId&&(o.tid=n.tenantId);let a=o;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let c=await n._getAppCheckToken(),d=c?`#${LJ}=${encodeURIComponent(c)}`:"";return`${FJ(n)}?${lp(a).slice(1)}${d}`}function FJ({config:n}){return n.emulator?SA(n,OJ):`https://${n.authDomain}/${MJ}`}var iA="webStorageSupport",bA=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FA,this._completeRedirectFn=uJ,this._overrideRedirectResult=oJ}async _openPopup(e,t,r,i){var s;aa((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=await Y2(e,t,r,sA(),i);return kJ(e,o,TU())}async _openRedirect(e,t,r,i){await this._originValidation(e);let s=await Y2(e,t,r,sA(),i);return qY(s),new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(aa(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){let t=await SJ(e),r=new wA(e);return t.register("authEvent",i=>(de(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(iA,{type:iA},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[iA];o!==void 0&&t(!!o),$i(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=mJ(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return pU()||cU()||PA()}},PU=bA;var J2="@firebase/auth",X2="1.10.8";var TA=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function VJ(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UJ(n){ri(new Fn("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;de(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mU(n)},d=new hA(r,i,s,c);return SY(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ri(new Fn("auth-internal",e=>{let t=md(e.getProvider("auth").getImmediate());return(r=>new TA(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),It(J2,X2,VJ(n)),It(J2,X2,"esm2017")}var jJ=300,BJ=VD("authIdTokenMaxAge")||jJ,Z2=null,$J=n=>async e=>{let t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>BJ)return;let i=t?.token;Z2!==i&&(Z2=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function VA(n=Cc()){let e=dd(n,"auth");if(e.isInitialized())return e.getImmediate();let t=NA(n,{popupRedirectResolver:PU,persistence:[AU,bU,FA]}),r=VD("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=$J(s.toString());LA(t,o,()=>o(t.currentUser)),OA(t,a=>o(a))}}let i=LD("auth");return i&&kA(t,`http://${i}`),t}function HJ(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}wY({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=Ac("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",HJ().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UJ("Browser");var NU="auth",Ps=class{constructor(e){return e}},Cp=class{constructor(){return fd(NU)}};var UA=new Z("angularfire2.auth-instances");function MX(n,e){let t=fp(NU,n,e);return t&&new Ps(t)}function OX(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Ps(r)}}var LX={provide:Cp,deps:[[new tr,UA]]},FX={provide:Ps,useFactory:MX,deps:[[new tr,UA],Ds]};function kU(n,...e){return It("angularfire",ta.full,"auth"),mr([FX,LX,{provide:UA,useFactory:OX(n),multi:!0,deps:[lt,vt,na,Dc,[new tr,pd],...e]}])}var xU=ji(VA,!0);var MU=ji(MA,!0,2);var vE=class n{auth=U(Ps);router=U(at);email="";password="";async loginUser(){let e=this.email.trim();if(!e.includes("@")||!e.includes(".")){alert("Unesite validan email format!");return}try{await MU(this.auth,e,this.password),alert("Login uspje\u0161an!"),this.router.navigate(["/dashboard"])}catch(t){alert("Gre\u0161ka pri prijavi: "+t.message)}}navigate(e,t){try{t?.preventDefault()}catch{}console.log("Login.navigate ->",e),this.router.navigate([e]).catch(r=>{console.error("Login navigation error",r),alert("Navigation error: "+r)})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ue({type:n,selectors:[["app-login"]],decls:23,vars:2,consts:[[1,"site-header"],[1,"logo-wrap"],["src","/assets/slike/logo-ipi.png","alt","Logo",1,"logo"],[1,"page-main"],[1,"auth-article"],[1,"login-container"],[1,"login-form",3,"ngSubmit"],[1,"form-group"],["for","email"],["type","email","id","email","name","email","required","","placeholder","Unesite email",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","required","","placeholder","Unesite lozinku",3,"ngModelChange","ngModel"],["type","submit",1,"login-btn"],[1,"alt"],["type","button",1,"linkish",3,"click"]],template:function(t,r){t&1&&(P(0,"header",0)(1,"div",1),K(2,"img",2),N()(),P(3,"main",3)(4,"article",4)(5,"div",5)(6,"h2"),D(7,"Login"),N(),P(8,"form",6),ie("ngSubmit",function(){return r.loginUser()}),P(9,"div",7)(10,"label",8),D(11,"Email:"),N(),P(12,"input",9),tt("ngModelChange",function(s){return ot(r.email,s)||(r.email=s),s}),N()(),P(13,"div",7)(14,"label",10),D(15,"Lozinka:"),N(),P(16,"input",11),tt("ngModelChange",function(s){return ot(r.password,s)||(r.password=s),s}),N()(),P(17,"button",12),D(18,"Prijavi se"),N()(),P(19,"p",13),D(20," Nemate ra\u010Dun? "),P(21,"button",14),ie("click",function(){return r.navigate("/register")}),D(22,"Registracija"),N()()()()()),t&2&&(J(12),et("ngModel",r.email),J(4),et("ngModel",r.password))},dependencies:[gt,td,Ft,un,ed,op,Xt,wc],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.site-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:12px 0;background:transparent}.logo-wrap[_ngcontent-%COMP%]{margin-bottom:8px}.logo[_ngcontent-%COMP%]{height:60px}.page-main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:calc(100vh - 140px);width:100%}.auth-article[_ngcontent-%COMP%]{width:80%;max-width:1100px;margin:0 auto;display:flex;justify-content:center}.login-container[_ngcontent-%COMP%]{width:480px;margin:40px auto;padding:36px;background-color:#fff;color:#2c3e50;border-radius:10px;box-shadow:0 6px 18px #0000001f;text-align:center;font-family:Arial,sans-serif}.login-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:20px;color:#007bff}.form-group[_ngcontent-%COMP%]{margin-bottom:15px;text-align:left}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:#333;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:5px;border:2px solid #ddd;outline:none;font-size:14px;box-sizing:border-box;transition:border-color .3s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#1e73be;box-shadow:0 0 5px #007bff4d}.login-btn[_ngcontent-%COMP%]{width:100%;padding:12px;border:none;border-radius:5px;background-color:#1e73be;color:#fff;font-weight:700;cursor:pointer;font-size:16px;transition:background-color .3s}.login-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.linkish[_ngcontent-%COMP%]{padding:6px 10px;border:none;border-radius:5px;background-color:#1e73be;color:#fff;font-weight:700;cursor:pointer;font-size:12px;transition:background-color .3s;margin-left:8px}.linkish[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})};var OU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},LU={};var EE,FU;(function(){var n;function e(T,_){function E(){}E.prototype=_.prototype,T.D=_.prototype,T.prototype=new E,T.prototype.constructor=T,T.C=function(b,w,A){for(var v=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)v[dt-2]=arguments[dt];return _.prototype[w].apply(b,v)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,_,E){E||(E=0);var b=Array(16);if(typeof _=="string")for(var w=0;16>w;++w)b[w]=_.charCodeAt(E++)|_.charCodeAt(E++)<<8|_.charCodeAt(E++)<<16|_.charCodeAt(E++)<<24;else for(w=0;16>w;++w)b[w]=_[E++]|_[E++]<<8|_[E++]<<16|_[E++]<<24;_=T.g[0],E=T.g[1],w=T.g[2];var A=T.g[3],v=_+(A^E&(w^A))+b[0]+3614090360&4294967295;_=E+(v<<7&4294967295|v>>>25),v=A+(w^_&(E^w))+b[1]+3905402710&4294967295,A=_+(v<<12&4294967295|v>>>20),v=w+(E^A&(_^E))+b[2]+606105819&4294967295,w=A+(v<<17&4294967295|v>>>15),v=E+(_^w&(A^_))+b[3]+3250441966&4294967295,E=w+(v<<22&4294967295|v>>>10),v=_+(A^E&(w^A))+b[4]+4118548399&4294967295,_=E+(v<<7&4294967295|v>>>25),v=A+(w^_&(E^w))+b[5]+1200080426&4294967295,A=_+(v<<12&4294967295|v>>>20),v=w+(E^A&(_^E))+b[6]+2821735955&4294967295,w=A+(v<<17&4294967295|v>>>15),v=E+(_^w&(A^_))+b[7]+4249261313&4294967295,E=w+(v<<22&4294967295|v>>>10),v=_+(A^E&(w^A))+b[8]+1770035416&4294967295,_=E+(v<<7&4294967295|v>>>25),v=A+(w^_&(E^w))+b[9]+2336552879&4294967295,A=_+(v<<12&4294967295|v>>>20),v=w+(E^A&(_^E))+b[10]+4294925233&4294967295,w=A+(v<<17&4294967295|v>>>15),v=E+(_^w&(A^_))+b[11]+2304563134&4294967295,E=w+(v<<22&4294967295|v>>>10),v=_+(A^E&(w^A))+b[12]+1804603682&4294967295,_=E+(v<<7&4294967295|v>>>25),v=A+(w^_&(E^w))+b[13]+4254626195&4294967295,A=_+(v<<12&4294967295|v>>>20),v=w+(E^A&(_^E))+b[14]+2792965006&4294967295,w=A+(v<<17&4294967295|v>>>15),v=E+(_^w&(A^_))+b[15]+1236535329&4294967295,E=w+(v<<22&4294967295|v>>>10),v=_+(w^A&(E^w))+b[1]+4129170786&4294967295,_=E+(v<<5&4294967295|v>>>27),v=A+(E^w&(_^E))+b[6]+3225465664&4294967295,A=_+(v<<9&4294967295|v>>>23),v=w+(_^E&(A^_))+b[11]+643717713&4294967295,w=A+(v<<14&4294967295|v>>>18),v=E+(A^_&(w^A))+b[0]+3921069994&4294967295,E=w+(v<<20&4294967295|v>>>12),v=_+(w^A&(E^w))+b[5]+3593408605&4294967295,_=E+(v<<5&4294967295|v>>>27),v=A+(E^w&(_^E))+b[10]+38016083&4294967295,A=_+(v<<9&4294967295|v>>>23),v=w+(_^E&(A^_))+b[15]+3634488961&4294967295,w=A+(v<<14&4294967295|v>>>18),v=E+(A^_&(w^A))+b[4]+3889429448&4294967295,E=w+(v<<20&4294967295|v>>>12),v=_+(w^A&(E^w))+b[9]+568446438&4294967295,_=E+(v<<5&4294967295|v>>>27),v=A+(E^w&(_^E))+b[14]+3275163606&4294967295,A=_+(v<<9&4294967295|v>>>23),v=w+(_^E&(A^_))+b[3]+4107603335&4294967295,w=A+(v<<14&4294967295|v>>>18),v=E+(A^_&(w^A))+b[8]+1163531501&4294967295,E=w+(v<<20&4294967295|v>>>12),v=_+(w^A&(E^w))+b[13]+2850285829&4294967295,_=E+(v<<5&4294967295|v>>>27),v=A+(E^w&(_^E))+b[2]+4243563512&4294967295,A=_+(v<<9&4294967295|v>>>23),v=w+(_^E&(A^_))+b[7]+1735328473&4294967295,w=A+(v<<14&4294967295|v>>>18),v=E+(A^_&(w^A))+b[12]+2368359562&4294967295,E=w+(v<<20&4294967295|v>>>12),v=_+(E^w^A)+b[5]+4294588738&4294967295,_=E+(v<<4&4294967295|v>>>28),v=A+(_^E^w)+b[8]+2272392833&4294967295,A=_+(v<<11&4294967295|v>>>21),v=w+(A^_^E)+b[11]+1839030562&4294967295,w=A+(v<<16&4294967295|v>>>16),v=E+(w^A^_)+b[14]+4259657740&4294967295,E=w+(v<<23&4294967295|v>>>9),v=_+(E^w^A)+b[1]+2763975236&4294967295,_=E+(v<<4&4294967295|v>>>28),v=A+(_^E^w)+b[4]+1272893353&4294967295,A=_+(v<<11&4294967295|v>>>21),v=w+(A^_^E)+b[7]+4139469664&4294967295,w=A+(v<<16&4294967295|v>>>16),v=E+(w^A^_)+b[10]+3200236656&4294967295,E=w+(v<<23&4294967295|v>>>9),v=_+(E^w^A)+b[13]+681279174&4294967295,_=E+(v<<4&4294967295|v>>>28),v=A+(_^E^w)+b[0]+3936430074&4294967295,A=_+(v<<11&4294967295|v>>>21),v=w+(A^_^E)+b[3]+3572445317&4294967295,w=A+(v<<16&4294967295|v>>>16),v=E+(w^A^_)+b[6]+76029189&4294967295,E=w+(v<<23&4294967295|v>>>9),v=_+(E^w^A)+b[9]+3654602809&4294967295,_=E+(v<<4&4294967295|v>>>28),v=A+(_^E^w)+b[12]+3873151461&4294967295,A=_+(v<<11&4294967295|v>>>21),v=w+(A^_^E)+b[15]+530742520&4294967295,w=A+(v<<16&4294967295|v>>>16),v=E+(w^A^_)+b[2]+3299628645&4294967295,E=w+(v<<23&4294967295|v>>>9),v=_+(w^(E|~A))+b[0]+4096336452&4294967295,_=E+(v<<6&4294967295|v>>>26),v=A+(E^(_|~w))+b[7]+1126891415&4294967295,A=_+(v<<10&4294967295|v>>>22),v=w+(_^(A|~E))+b[14]+2878612391&4294967295,w=A+(v<<15&4294967295|v>>>17),v=E+(A^(w|~_))+b[5]+4237533241&4294967295,E=w+(v<<21&4294967295|v>>>11),v=_+(w^(E|~A))+b[12]+1700485571&4294967295,_=E+(v<<6&4294967295|v>>>26),v=A+(E^(_|~w))+b[3]+2399980690&4294967295,A=_+(v<<10&4294967295|v>>>22),v=w+(_^(A|~E))+b[10]+4293915773&4294967295,w=A+(v<<15&4294967295|v>>>17),v=E+(A^(w|~_))+b[1]+2240044497&4294967295,E=w+(v<<21&4294967295|v>>>11),v=_+(w^(E|~A))+b[8]+1873313359&4294967295,_=E+(v<<6&4294967295|v>>>26),v=A+(E^(_|~w))+b[15]+4264355552&4294967295,A=_+(v<<10&4294967295|v>>>22),v=w+(_^(A|~E))+b[6]+2734768916&4294967295,w=A+(v<<15&4294967295|v>>>17),v=E+(A^(w|~_))+b[13]+1309151649&4294967295,E=w+(v<<21&4294967295|v>>>11),v=_+(w^(E|~A))+b[4]+4149444226&4294967295,_=E+(v<<6&4294967295|v>>>26),v=A+(E^(_|~w))+b[11]+3174756917&4294967295,A=_+(v<<10&4294967295|v>>>22),v=w+(_^(A|~E))+b[2]+718787259&4294967295,w=A+(v<<15&4294967295|v>>>17),v=E+(A^(w|~_))+b[9]+3951481745&4294967295,T.g[0]=T.g[0]+_&4294967295,T.g[1]=T.g[1]+(w+(v<<21&4294967295|v>>>11))&4294967295,T.g[2]=T.g[2]+w&4294967295,T.g[3]=T.g[3]+A&4294967295}r.prototype.u=function(T,_){_===void 0&&(_=T.length);for(var E=_-this.blockSize,b=this.B,w=this.h,A=0;A<_;){if(w==0)for(;A<=E;)i(this,T,A),A+=this.blockSize;if(typeof T=="string"){for(;A<_;)if(b[w++]=T.charCodeAt(A++),w==this.blockSize){i(this,b),w=0;break}}else for(;A<_;)if(b[w++]=T[A++],w==this.blockSize){i(this,b),w=0;break}}this.h=w,this.o+=_},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var _=1;_<T.length-8;++_)T[_]=0;var E=8*this.o;for(_=T.length-8;_<T.length;++_)T[_]=E&255,E/=256;for(this.u(T),T=Array(16),_=E=0;4>_;++_)for(var b=0;32>b;b+=8)T[E++]=this.g[_]>>>b&255;return T};function s(T,_){var E=a;return Object.prototype.hasOwnProperty.call(E,T)?E[T]:E[T]=_(T)}function o(T,_){this.h=_;for(var E=[],b=!0,w=T.length-1;0<=w;w--){var A=T[w]|0;b&&A==_||(E[w]=A,b=!1)}this.g=E}var a={};function c(T){return-128<=T&&128>T?s(T,function(_){return new o([_|0],0>_?-1:0)}):new o([T|0],0>T?-1:0)}function d(T){if(isNaN(T)||!isFinite(T))return m;if(0>T)return O(d(-T));for(var _=[],E=1,b=0;T>=E;b++)_[b]=T/E|0,E*=4294967296;return new o(_,0)}function h(T,_){if(T.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(T.charAt(0)=="-")return O(h(T.substring(1),_));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=d(Math.pow(_,8)),b=m,w=0;w<T.length;w+=8){var A=Math.min(8,T.length-w),v=parseInt(T.substring(w,w+A),_);8>A?(A=d(Math.pow(_,A)),b=b.j(A).add(d(v))):(b=b.j(E),b=b.add(d(v)))}return b}var m=c(0),I=c(1),R=c(16777216);n=o.prototype,n.m=function(){if(V(this))return-O(this).m();for(var T=0,_=1,E=0;E<this.g.length;E++){var b=this.i(E);T+=(0<=b?b:4294967296+b)*_,_*=4294967296}return T},n.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(k(this))return"0";if(V(this))return"-"+O(this).toString(T);for(var _=d(Math.pow(T,6)),E=this,b="";;){var w=Pe(E,_).g;E=q(E,w.j(_));var A=((0<E.g.length?E.g[0]:E.h)>>>0).toString(T);if(E=w,k(E))return A+b;for(;6>A.length;)A="0"+A;b=A+b}},n.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function k(T){if(T.h!=0)return!1;for(var _=0;_<T.g.length;_++)if(T.g[_]!=0)return!1;return!0}function V(T){return T.h==-1}n.l=function(T){return T=q(this,T),V(T)?-1:k(T)?0:1};function O(T){for(var _=T.g.length,E=[],b=0;b<_;b++)E[b]=~T.g[b];return new o(E,~T.h).add(I)}n.abs=function(){return V(this)?O(this):this},n.add=function(T){for(var _=Math.max(this.g.length,T.g.length),E=[],b=0,w=0;w<=_;w++){var A=b+(this.i(w)&65535)+(T.i(w)&65535),v=(A>>>16)+(this.i(w)>>>16)+(T.i(w)>>>16);b=v>>>16,A&=65535,v&=65535,E[w]=v<<16|A}return new o(E,E[E.length-1]&-2147483648?-1:0)};function q(T,_){return T.add(O(_))}n.j=function(T){if(k(this)||k(T))return m;if(V(this))return V(T)?O(this).j(O(T)):O(O(this).j(T));if(V(T))return O(this.j(O(T)));if(0>this.l(R)&&0>T.l(R))return d(this.m()*T.m());for(var _=this.g.length+T.g.length,E=[],b=0;b<2*_;b++)E[b]=0;for(b=0;b<this.g.length;b++)for(var w=0;w<T.g.length;w++){var A=this.i(b)>>>16,v=this.i(b)&65535,dt=T.i(w)>>>16,Vn=T.i(w)&65535;E[2*b+2*w]+=v*Vn,X(E,2*b+2*w),E[2*b+2*w+1]+=A*Vn,X(E,2*b+2*w+1),E[2*b+2*w+1]+=v*dt,X(E,2*b+2*w+1),E[2*b+2*w+2]+=A*dt,X(E,2*b+2*w+2)}for(b=0;b<_;b++)E[b]=E[2*b+1]<<16|E[2*b];for(b=_;b<2*_;b++)E[b]=0;return new o(E,0)};function X(T,_){for(;(T[_]&65535)!=T[_];)T[_+1]+=T[_]>>>16,T[_]&=65535,_++}function ne(T,_){this.g=T,this.h=_}function Pe(T,_){if(k(_))throw Error("division by zero");if(k(T))return new ne(m,m);if(V(T))return _=Pe(O(T),_),new ne(O(_.g),O(_.h));if(V(_))return _=Pe(T,O(_)),new ne(O(_.g),_.h);if(30<T.g.length){if(V(T)||V(_))throw Error("slowDivide_ only works with positive integers.");for(var E=I,b=_;0>=b.l(T);)E=ut(E),b=ut(b);var w=Ne(E,1),A=Ne(b,1);for(b=Ne(b,2),E=Ne(E,2);!k(b);){var v=A.add(b);0>=v.l(T)&&(w=w.add(E),A=v),b=Ne(b,1),E=Ne(E,1)}return _=q(T,w.j(_)),new ne(w,_)}for(w=m;0<=T.l(_);){for(E=Math.max(1,Math.floor(T.m()/_.m())),b=Math.ceil(Math.log(E)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),A=d(E),v=A.j(_);V(v)||0<v.l(T);)E-=b,A=d(E),v=A.j(_);k(A)&&(A=I),w=w.add(A),T=q(T,v)}return new ne(w,T)}n.A=function(T){return Pe(this,T).h},n.and=function(T){for(var _=Math.max(this.g.length,T.g.length),E=[],b=0;b<_;b++)E[b]=this.i(b)&T.i(b);return new o(E,this.h&T.h)},n.or=function(T){for(var _=Math.max(this.g.length,T.g.length),E=[],b=0;b<_;b++)E[b]=this.i(b)|T.i(b);return new o(E,this.h|T.h)},n.xor=function(T){for(var _=Math.max(this.g.length,T.g.length),E=[],b=0;b<_;b++)E[b]=this.i(b)^T.i(b);return new o(E,this.h^T.h)};function ut(T){for(var _=T.g.length+1,E=[],b=0;b<_;b++)E[b]=T.i(b)<<1|T.i(b-1)>>>31;return new o(E,T.h)}function Ne(T,_){var E=_>>5;_%=32;for(var b=T.g.length-E,w=[],A=0;A<b;A++)w[A]=0<_?T.i(A+E)>>>_|T.i(A+E+1)<<32-_:T.i(A+E);return new o(w,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,FU=LU.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,EE=LU.Integer=o}).apply(typeof OU<"u"?OU:typeof self<"u"?self:typeof window<"u"?window:{});var IE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ns={};var jA,VX,gd,BA,Sp,wE,$A,HA,qA;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,f,g){return u==Array.prototype||u==Object.prototype||(u[f]=g.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof IE=="object"&&IE];for(var f=0;f<u.length;++f){var g=u[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=t(this);function i(u,f){if(f)e:{var g=r;u=u.split(".");for(var C=0;C<u.length-1;C++){var M=u[C];if(!(M in g))break e;g=g[M]}u=u[u.length-1],C=g[u],f=f(C),f!=C&&f!=null&&e(g,u,{configurable:!0,writable:!0,value:f})}}function s(u,f){u instanceof String&&(u+="");var g=0,C=!1,M={next:function(){if(!C&&g<u.length){var F=g++;return{value:f(F,u[F]),done:!1}}return C=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(u){return u||function(){return s(this,function(f,g){return g})}});var o=o||{},a=this||self;function c(u){var f=typeof u;return f=f!="object"?f:u?Array.isArray(u)?"array":f:"null",f=="array"||f=="object"&&typeof u.length=="number"}function d(u){var f=typeof u;return f=="object"&&u!=null||f=="function"}function h(u,f,g){return u.call.apply(u.bind,arguments)}function m(u,f,g){if(!u)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,C),u.apply(f,M)}}return function(){return u.apply(f,arguments)}}function I(u,f,g){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:m,I.apply(null,arguments)}function R(u,f){var g=Array.prototype.slice.call(arguments,1);return function(){var C=g.slice();return C.push.apply(C,arguments),u.apply(this,C)}}function k(u,f){function g(){}g.prototype=f.prototype,u.aa=f.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(C,M,F){for(var G=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)G[$e-2]=arguments[$e];return f.prototype[M].apply(C,G)}}function V(u){let f=u.length;if(0<f){let g=Array(f);for(let C=0;C<f;C++)g[C]=u[C];return g}return[]}function O(u,f){for(let g=1;g<arguments.length;g++){let C=arguments[g];if(c(C)){let M=u.length||0,F=C.length||0;u.length=M+F;for(let G=0;G<F;G++)u[M+G]=C[G]}else u.push(C)}}class q{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function X(u){return/^[\s\xa0]*$/.test(u)}function ne(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function Pe(u){return Pe[" "](u),u}Pe[" "]=function(){};var ut=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function Ne(u,f,g){for(let C in u)f.call(g,u[C],C,u)}function T(u,f){for(let g in u)f.call(void 0,u[g],g,u)}function _(u){let f={};for(let g in u)f[g]=u[g];return f}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(u,f){let g,C;for(let M=1;M<arguments.length;M++){C=arguments[M];for(g in C)u[g]=C[g];for(let F=0;F<E.length;F++)g=E[F],Object.prototype.hasOwnProperty.call(C,g)&&(u[g]=C[g])}}function w(u){var f=1;u=u.split(":");let g=[];for(;0<f&&u.length;)g.push(u.shift()),f--;return u.length&&g.push(u.join(":")),g}function A(u){a.setTimeout(()=>{throw u},0)}function v(){var u=Ls;let f=null;return u.g&&(f=u.g,u.g=u.g.next,u.g||(u.h=null),f.next=null),f}class dt{constructor(){this.h=this.g=null}add(f,g){let C=Vn.get();C.set(f,g),this.h?this.h.next=C:this.g=C,this.h=C}}var Vn=new q(()=>new iI,u=>u.reset());class iI{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let fa,si=!1,Ls=new dt,Kp=()=>{let u=a.Promise.resolve(void 0);fa=()=>{u.then(Qp)}};var Qp=()=>{for(var u;u=v();){try{u.h.call(u.g)}catch(g){A(g)}var f=Vn;f.j(u),100>f.h&&(f.h++,u.next=f.g,f.g=u)}si=!1};function Nr(){this.s=this.s,this.C=this.C}Nr.prototype.s=!1,Nr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Nr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $t(u,f){this.type=u,this.g=this.target=f,this.defaultPrevented=!1}$t.prototype.h=function(){this.defaultPrevented=!0};var Wc=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,f=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let g=()=>{};a.addEventListener("test",g,f),a.removeEventListener("test",g,f)}catch{}return u})();function Wi(u,f){if($t.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,C=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=f,f=u.relatedTarget){if(ut){e:{try{Pe(f.nodeName);var M=!0;break e}catch{}M=!1}M||(f=null)}}else g=="mouseover"?f=u.fromElement:g=="mouseout"&&(f=u.toElement);this.relatedTarget=f,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Vd[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Wi.aa.h.call(this)}}k(Wi,$t);var Vd={2:"touch",3:"pen",4:"mouse"};Wi.prototype.h=function(){Wi.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ki="closure_listenable_"+(1e6*Math.random()|0),Ud=0;function Yp(u,f,g,C,M){this.listener=u,this.proxy=null,this.src=f,this.type=g,this.capture=!!C,this.ha=M,this.key=++Ud,this.da=this.fa=!1}function pa(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Kc(u){this.src=u,this.g={},this.h=0}Kc.prototype.add=function(u,f,g,C,M){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var G=Yc(u,f,C,M);return-1<G?(f=u[G],g||(f.fa=!1)):(f=new Yp(f,this.src,F,!!C,M),f.fa=g,u.push(f)),f};function Qc(u,f){var g=f.type;if(g in u.g){var C=u.g[g],M=Array.prototype.indexOf.call(C,f,void 0),F;(F=0<=M)&&Array.prototype.splice.call(C,M,1),F&&(pa(f),u.g[g].length==0&&(delete u.g[g],u.h--))}}function Yc(u,f,g,C){for(var M=0;M<u.length;++M){var F=u[M];if(!F.da&&F.listener==f&&F.capture==!!g&&F.ha==C)return M}return-1}var ma="closure_lm_"+(1e6*Math.random()|0),Jc={};function Jp(u,f,g,C,M){if(C&&C.once)return Zc(u,f,g,C,M);if(Array.isArray(f)){for(var F=0;F<f.length;F++)Jp(u,f[F],g,C,M);return null}return g=Qi(g),u&&u[Ki]?u.K(f,g,d(C)?!!C.capture:!!C,M):Xc(u,f,g,!1,C,M)}function Xc(u,f,g,C,M,F){if(!f)throw Error("Invalid event type");var G=d(M)?!!M.capture:!!M,$e=eu(u);if($e||(u[ma]=$e=new Kc(u)),g=$e.add(f,g,C,G,F),g.proxy)return g;if(C=jd(),g.proxy=C,C.src=u,C.listener=g,u.addEventListener)Wc||(M=G),M===void 0&&(M=!1),u.addEventListener(f.toString(),C,M);else if(u.attachEvent)u.attachEvent(ga(f.toString()),C);else if(u.addListener&&u.removeListener)u.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return g}function jd(){function u(g){return f.call(u.src,u.listener,g)}let f=sI;return u}function Zc(u,f,g,C,M){if(Array.isArray(f)){for(var F=0;F<f.length;F++)Zc(u,f[F],g,C,M);return null}return g=Qi(g),u&&u[Ki]?u.L(f,g,d(C)?!!C.capture:!!C,M):Xc(u,f,g,!0,C,M)}function Ht(u,f,g,C,M){if(Array.isArray(f))for(var F=0;F<f.length;F++)Ht(u,f[F],g,C,M);else C=d(C)?!!C.capture:!!C,g=Qi(g),u&&u[Ki]?(u=u.i,f=String(f).toString(),f in u.g&&(F=u.g[f],g=Yc(F,g,C,M),-1<g&&(pa(F[g]),Array.prototype.splice.call(F,g,1),F.length==0&&(delete u.g[f],u.h--)))):u&&(u=eu(u))&&(f=u.g[f.toString()],u=-1,f&&(u=Yc(f,g,C,M)),(g=-1<u?f[u]:null)&&qt(g))}function qt(u){if(typeof u!="number"&&u&&!u.da){var f=u.src;if(f&&f[Ki])Qc(f.i,u);else{var g=u.type,C=u.proxy;f.removeEventListener?f.removeEventListener(g,C,u.capture):f.detachEvent?f.detachEvent(ga(g),C):f.addListener&&f.removeListener&&f.removeListener(C),(g=eu(f))?(Qc(g,u),g.h==0&&(g.src=null,f[ma]=null)):pa(u)}}}function ga(u){return u in Jc?Jc[u]:Jc[u]="on"+u}function sI(u,f){if(u.da)u=!0;else{f=new Wi(f,this);var g=u.listener,C=u.ha||u.src;u.fa&&qt(u),u=g.call(C,f)}return u}function eu(u){return u=u[ma],u instanceof Kc?u:null}var Bd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qi(u){return typeof u=="function"?u:(u[Bd]||(u[Bd]=function(f){return u.handleEvent(f)}),u[Bd])}function zt(){Nr.call(this),this.i=new Kc(this),this.M=this,this.F=null}k(zt,Nr),zt.prototype[Ki]=!0,zt.prototype.removeEventListener=function(u,f,g,C){Ht(this,u,f,g,C)};function tn(u,f){var g,C=u.F;if(C)for(g=[];C;C=C.F)g.push(C);if(u=u.M,C=f.type||f,typeof f=="string")f=new $t(f,u);else if(f instanceof $t)f.target=f.target||u;else{var M=f;f=new $t(C,u),b(f,M)}if(M=!0,g)for(var F=g.length-1;0<=F;F--){var G=f.g=g[F];M=Fs(G,C,!0,f)&&M}if(G=f.g=u,M=Fs(G,C,!0,f)&&M,M=Fs(G,C,!1,f)&&M,g)for(F=0;F<g.length;F++)G=f.g=g[F],M=Fs(G,C,!1,f)&&M}zt.prototype.N=function(){if(zt.aa.N.call(this),this.i){var u=this.i,f;for(f in u.g){for(var g=u.g[f],C=0;C<g.length;C++)pa(g[C]);delete u.g[f],u.h--}}this.F=null},zt.prototype.K=function(u,f,g,C){return this.i.add(String(u),f,!1,g,C)},zt.prototype.L=function(u,f,g,C){return this.i.add(String(u),f,!0,g,C)};function Fs(u,f,g,C){if(f=u.i.g[String(f)],!f)return!0;f=f.concat();for(var M=!0,F=0;F<f.length;++F){var G=f[F];if(G&&!G.da&&G.capture==g){var $e=G.listener,Tt=G.ha||G.src;G.fa&&Qc(u.i,G),M=$e.call(Tt,C)!==!1&&M}}return M&&!C.defaultPrevented}function Xp(u,f,g){if(typeof u=="function")g&&(u=I(u,g));else if(u&&typeof u.handleEvent=="function")u=I(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(u,f||0)}function Zp(u){u.g=Xp(()=>{u.g=null,u.i&&(u.i=!1,Zp(u))},u.l);let f=u.h;u.h=null,u.m.apply(null,f)}class em extends Nr{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Zp(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vs(u){Nr.call(this),this.h=u,this.g={}}k(Vs,Nr);var Us=[];function tu(u){Ne(u.g,function(f,g){this.g.hasOwnProperty(g)&&qt(f)},u),u.g={}}Vs.prototype.N=function(){Vs.aa.N.call(this),tu(this)},Vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ya=a.JSON.stringify,Yi=a.JSON.parse,tm=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function js(){}js.prototype.h=null;function $d(u){return u.h||(u.h=u.i())}function Bs(){}var $s={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gt(){$t.call(this,"d")}k(Gt,$t);function nu(){$t.call(this,"c")}k(nu,$t);var Wn={},Hs=null;function ru(){return Hs=Hs||new zt}Wn.La="serverreachability";function nm(u){$t.call(this,Wn.La,u)}k(nm,$t);function fr(u){let f=ru();tn(f,new nm(f))}Wn.STAT_EVENT="statevent";function rm(u,f){$t.call(this,Wn.STAT_EVENT,u),this.stat=f}k(rm,$t);function fn(u){let f=ru();tn(f,new rm(f,u))}Wn.Ma="timingevent";function _a(u,f){$t.call(this,Wn.Ma,u),this.size=f}k(_a,$t);function qs(u,f){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},f)}function zs(){this.g=!0}zs.prototype.xa=function(){this.g=!1};function Hd(u,f,g,C,M,F){u.info(function(){if(u.g)if(F)for(var G="",$e=F.split("&"),Tt=0;Tt<$e.length;Tt++){var He=$e[Tt].split("=");if(1<He.length){var vn=He[0];He=He[1];var En=vn.split("_");G=2<=En.length&&En[1]=="type"?G+(vn+"="+He+"&"):G+(vn+"=redacted&")}}else G=null;else G=F;return"XMLHTTP REQ ("+C+") [attempt "+M+"]: "+f+`
`+g+`
`+G})}function va(u,f,g,C,M,F,G){u.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+M+"]: "+f+`
`+g+`
`+F+" "+G})}function Gs(u,f,g,C){u.info(function(){return"XMLHTTP TEXT ("+f+"): "+im(u,g)+(C?" "+C:"")})}function oi(u,f){u.info(function(){return"TIMEOUT: "+f})}zs.prototype.info=function(){};function im(u,f){if(!u.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var C=g[u];if(!(2>C.length)){var M=C[1];if(Array.isArray(M)&&!(1>M.length)){var F=M[0];if(F!="noop"&&F!="stop"&&F!="close")for(var G=1;G<M.length;G++)M[G]=""}}}}return ya(g)}catch{return f}}var Ea={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},iu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ia;function wa(){}k(wa,js),wa.prototype.g=function(){return new XMLHttpRequest},wa.prototype.i=function(){return{}},Ia=new wa;function ai(u,f,g,C){this.j=u,this.i=f,this.l=g,this.R=C||1,this.U=new Vs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qd}function qd(){this.i=null,this.g="",this.h=!1}var sm={},Ws={};function su(u,f,g){u.L=1,u.v=uu(kr(f)),u.m=g,u.P=!0,ou(u,null)}function ou(u,f){u.F=Date.now(),Qs(u),u.A=kr(u.v);var g=u.A,C=u.R;Array.isArray(C)||(C=[String(C)]),fm(g.i,"t",C),u.C=0,g=u.j.J,u.h=new qd,u.g=p(u.j,g?f:null,!u.m),0<u.O&&(u.M=new em(I(u.Y,u,u.g),u.O)),f=u.U,g=u.g,C=u.ca;var M="readystatechange";Array.isArray(M)||(M&&(Us[0]=M.toString()),M=Us);for(var F=0;F<M.length;F++){var G=Jp(g,M[F],C||f.handleEvent,!1,f.h||f);if(!G)break;f.g[G.key]=G}f=u.H?_(u.H):{},u.m?(u.u||(u.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,f)):(u.u="GET",u.g.ea(u.A,u.u,null,f)),fr(),Hd(u.i,u.u,u.A,u.l,u.R,u.m)}ai.prototype.ca=function(u){u=u.target;let f=this.M;f&&jn(u)==3?f.j():this.Y(u)},ai.prototype.Y=function(u){try{if(u==this.g)e:{let En=jn(this.g);var f=this.g.Ba();let _u=this.g.Z();if(!(3>En)&&(En!=3||this.g&&(this.h.h||this.g.oa()||_m(this.g)))){this.J||En!=4||f==7||(f==8||0>=_u?fr(3):fr(2)),au(this);var g=this.g.Z();this.X=g;t:if(Ks(this)){var C=_m(this.g);u="";var M=C.length,F=jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ci(this),Ys(this);var G="";break t}this.h.i=new a.TextDecoder}for(f=0;f<M;f++)this.h.h=!0,u+=this.h.i.decode(C[f],{stream:!(F&&f==M-1)});C.length=0,this.h.g+=u,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=g==200,va(this.i,this.u,this.A,this.l,this.R,En,g),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,Tt=this.g;if(($e=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X($e)){var He=$e;break t}}He=null}if(g=He)Gs(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ba(this,g);else{this.o=!1,this.s=3,fn(12),ci(this),Ys(this);break e}}if(this.P){g=!0;let Fr;for(;!this.J&&this.C<G.length;)if(Fr=Ji(this,G),Fr==Ws){En==4&&(this.s=4,fn(14),g=!1),Gs(this.i,this.l,null,"[Incomplete Response]");break}else if(Fr==sm){this.s=4,fn(15),Gs(this.i,this.l,G,"[Invalid Chunk]"),g=!1;break}else Gs(this.i,this.l,Fr,null),ba(this,Fr);if(Ks(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),En!=4||G.length!=0||this.h.h||(this.s=1,fn(16),g=!1),this.o=this.o&&g,!g)Gs(this.i,this.l,G,"[Invalid Chunked Response]"),ci(this),Ys(this);else if(0<G.length&&!this.W){this.W=!0;var vn=this.j;vn.g==this&&vn.ba&&!vn.M&&(vn.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),yu(vn),vn.M=!0,fn(11))}}else Gs(this.i,this.l,G,null),ba(this,G);En==4&&ci(this),this.o&&!this.J&&(En==4?_n(this.j,this):(this.o=!1,Qs(this)))}else vm(this.g),g==400&&0<G.indexOf("Unknown SID")?(this.s=3,fn(12)):(this.s=0,fn(13)),ci(this),Ys(this)}}}catch{}finally{}};function Ks(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Ji(u,f){var g=u.C,C=f.indexOf(`
`,g);return C==-1?Ws:(g=Number(f.substring(g,C)),isNaN(g)?sm:(C+=1,C+g>f.length?Ws:(f=f.slice(C,C+g),u.C=C+g,f)))}ai.prototype.cancel=function(){this.J=!0,ci(this)};function Qs(u){u.S=Date.now()+u.I,om(u,u.I)}function om(u,f){if(u.B!=null)throw Error("WatchDog timer not null");u.B=qs(I(u.ba,u),f)}function au(u){u.B&&(a.clearTimeout(u.B),u.B=null)}ai.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(oi(this.i,this.A),this.L!=2&&(fr(),fn(17)),ci(this),this.s=2,Ys(this)):om(this,this.S-u)};function Ys(u){u.j.G==0||u.J||_n(u.j,u)}function ci(u){au(u);var f=u.M;f&&typeof f.ma=="function"&&f.ma(),u.M=null,tu(u.U),u.g&&(f=u.g,u.g=null,f.abort(),f.ma())}function ba(u,f){try{var g=u.j;if(g.G!=0&&(g.g==u||Qd(g.h,u))){if(!u.K&&Qd(g.h,u)&&g.G==3){try{var C=g.Da.g.parse(f)}catch{C=null}if(Array.isArray(C)&&C.length==3){var M=C;if(M[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)Zi(g),ro(g);else break e;gu(g),fn(18)}}else g.za=M[1],0<g.za-g.T&&37500>M[2]&&g.F&&g.v==0&&!g.C&&(g.C=qs(I(g.Za,g),6e3));if(1>=Kd(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else di(g,11)}else if((u.K||g.g==u)&&Zi(g),!X(f))for(M=g.Da.g.parse(f),f=0;f<M.length;f++){let He=M[f];if(g.T=He[0],He=He[1],g.G==2)if(He[0]=="c"){g.K=He[1],g.ia=He[2];let vn=He[3];vn!=null&&(g.la=vn,g.j.info("VER="+g.la));let En=He[4];En!=null&&(g.Aa=En,g.j.info("SVER="+g.Aa));let _u=He[5];_u!=null&&typeof _u=="number"&&0<_u&&(C=1.5*_u,g.L=C,g.j.info("backChannelRequestTimeoutMs_="+C)),C=g;let Fr=u.g;if(Fr){let Em=Fr.g?Fr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Em){var F=C.h;F.g||Em.indexOf("spdy")==-1&&Em.indexOf("quic")==-1&&Em.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(pr(F,F.h),F.h=null))}if(C.D){let aI=Fr.g?Fr.g.getResponseHeader("X-HTTP-Session-Id"):null;aI&&(C.ya=aI,Xe(C.I,C.D,aI))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),C=g;var G=u;if(C.qa=l(C,C.J?C.ia:null,C.W),G.K){Kn(C.h,G);var $e=G,Tt=C.L;Tt&&($e.I=Tt),$e.B&&(au($e),Qs($e)),C.g=G}else ih(C);0<g.i.length&&Pa(g)}else He[0]!="stop"&&He[0]!="close"||di(g,7);else g.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?di(g,7):fu(g):He[0]!="noop"&&g.l&&g.l.ta(He),g.v=0)}}fr(4)}catch{}}var zd=class{constructor(u,f){this.g=u,this.map=f}};function Gd(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Wd(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Kd(u){return u.h?1:u.g?u.g.size:0}function Qd(u,f){return u.h?u.h==f:u.g?u.g.has(f):!1}function pr(u,f){u.g?u.g.add(f):u.h=f}function Kn(u,f){u.h&&u.h==f?u.h=null:u.g&&u.g.has(f)&&u.g.delete(f)}Gd.prototype.cancel=function(){if(this.i=Js(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function Js(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let f=u.i;for(let g of u.g.values())f=f.concat(g.D);return f}return V(u.i)}function Ta(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var f=[],g=u.length,C=0;C<g;C++)f.push(u[C]);return f}f=[],g=0;for(C in u)f[g++]=u[C];return f}function Yd(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var f=[];u=u.length;for(var g=0;g<u;g++)f.push(g);return f}f=[],g=0;for(let C in u)f[g++]=C;return f}}}function Ye(u,f){if(u.forEach&&typeof u.forEach=="function")u.forEach(f,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,f,void 0);else for(var g=Yd(u),C=Ta(u),M=C.length,F=0;F<M;F++)f.call(void 0,C[F],g&&g[F],u)}var Ca=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sa(u,f){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var C=u[g].indexOf("="),M=null;if(0<=C){var F=u[g].substring(0,C);M=u[g].substring(C+1)}else F=u[g];f(F,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Qn(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Qn){this.h=u.h,Da(this,u.j),this.o=u.o,this.g=u.g,cu(this,u.s),this.l=u.l;var f=u.i,g=new Aa;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),am(this,g),this.m=u.m}else u&&(f=String(u).match(Ca))?(this.h=!1,Da(this,f[1]||"",!0),this.o=xr(f[2]||""),this.g=xr(f[3]||"",!0),cu(this,f[4]),this.l=xr(f[5]||"",!0),am(this,f[6]||"",!0),this.m=xr(f[7]||"")):(this.h=!1,this.i=new Aa(null,this.h))}Qn.prototype.toString=function(){var u=[],f=this.j;f&&u.push(Yn(f,Jd,!0),":");var g=this.g;return(g||f=="file")&&(u.push("//"),(f=this.o)&&u.push(Yn(f,Jd,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(Yn(g,g.charAt(0)=="/"?lm:um,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",Yn(g,Xs)),u.join("")};function kr(u){return new Qn(u)}function Da(u,f,g){u.j=g?xr(f,!0):f,u.j&&(u.j=u.j.replace(/:$/,""))}function cu(u,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);u.s=f}else u.s=null}function am(u,f,g){f instanceof Aa?(u.i=f,lu(u.i,u.h)):(g||(f=Yn(f,dm)),u.i=new Aa(f,u.h))}function Xe(u,f,g){u.i.set(f,g)}function uu(u){return Xe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function xr(u,f){return u?f?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Yn(u,f,g){return typeof u=="string"?(u=encodeURI(u).replace(f,cm),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function cm(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Jd=/[#\/\?@]/g,um=/[#\?:]/g,lm=/[#\?]/g,dm=/[#\?@]/g,Xs=/#/g;function Aa(u,f){this.h=this.g=null,this.i=u||null,this.j=!!f}function ui(u){u.g||(u.g=new Map,u.h=0,u.i&&Sa(u.i,function(f,g){u.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}n=Aa.prototype,n.add=function(u,f){ui(this),this.i=null,u=Or(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(f),this.h+=1,this};function hm(u,f){ui(u),f=Or(u,f),u.g.has(f)&&(u.i=null,u.h-=u.g.get(f).length,u.g.delete(f))}function Mr(u,f){return ui(u),f=Or(u,f),u.g.has(f)}n.forEach=function(u,f){ui(this),this.g.forEach(function(g,C){g.forEach(function(M){u.call(f,M,C,this)},this)},this)},n.na=function(){ui(this);let u=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let C=0;C<f.length;C++){let M=u[C];for(let F=0;F<M.length;F++)g.push(f[C])}return g},n.V=function(u){ui(this);let f=[];if(typeof u=="string")Mr(this,u)&&(f=f.concat(this.g.get(Or(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)f=f.concat(u[g])}return f},n.set=function(u,f){return ui(this),this.i=null,u=Or(this,u),Mr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[f]),this.h+=1,this},n.get=function(u,f){return u?(u=this.V(u),0<u.length?String(u[0]):f):f};function fm(u,f,g){hm(u,f),0<g.length&&(u.i=null,u.g.set(Or(u,f),V(g)),u.h+=g.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var C=f[g];let F=encodeURIComponent(String(C)),G=this.V(C);for(C=0;C<G.length;C++){var M=F;G[C]!==""&&(M+="="+encodeURIComponent(String(G[C]))),u.push(M)}}return this.i=u.join("&")};function Or(u,f){return f=String(f),u.j&&(f=f.toLowerCase()),f}function lu(u,f){f&&!u.j&&(ui(u),u.i=null,u.g.forEach(function(g,C){var M=C.toLowerCase();C!=M&&(hm(this,C),fm(this,M,g))},u)),u.j=f}function pm(u,f){let g=new zs;if(a.Image){let C=new Image;C.onload=R(Un,g,"TestLoadImage: loaded",!0,f,C),C.onerror=R(Un,g,"TestLoadImage: error",!1,f,C),C.onabort=R(Un,g,"TestLoadImage: abort",!1,f,C),C.ontimeout=R(Un,g,"TestLoadImage: timeout",!1,f,C),a.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=u}else f(!1)}function Ra(u,f){let g=new zs,C=new AbortController,M=setTimeout(()=>{C.abort(),Un(g,"TestPingServer: timeout",!1,f)},1e4);fetch(u,{signal:C.signal}).then(F=>{clearTimeout(M),F.ok?Un(g,"TestPingServer: ok",!0,f):Un(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(M),Un(g,"TestPingServer: error",!1,f)})}function Un(u,f,g,C,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),C(g)}catch{}}function mm(){this.g=new tm}function Xd(u,f,g){let C=g||"";try{Ye(u,function(M,F){let G=M;d(M)&&(G=ya(M)),f.push(C+F+"="+encodeURIComponent(G))})}catch(M){throw f.push(C+"type="+encodeURIComponent("_badmap")),M}}function Je(u){this.l=u.Ub||null,this.j=u.eb||!1}k(Je,js),Je.prototype.g=function(){return new du(this.l,this.j)},Je.prototype.i=(function(u){return function(){return u}})({});function du(u,f){zt.call(this),this.D=u,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(du,zt),n=du.prototype,n.open=function(u,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=f,this.readyState=1,eo(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(f.body=u),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zs(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,eo(this)),this.g&&(this.readyState=3,eo(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gm(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function gm(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var f=u.value?u.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!u.done}))&&(this.response=this.responseText+=f)}u.done?Zs(this):eo(this),this.readyState==3&&gm(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Zs(this))},n.Qa=function(u){this.g&&(this.response=u,Zs(this))},n.ga=function(){this.g&&Zs(this)};function Zs(u){u.readyState=4,u.l=null,u.j=null,u.v=null,eo(u)}n.setRequestHeader=function(u,f){this.u.append(u,f)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=f.next();return u.join(`\r
`)};function eo(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(du.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Zd(u){let f="";return Ne(u,function(g,C){f+=C,f+=":",f+=g,f+=`\r
`}),f}function to(u,f,g){e:{for(C in g){var C=!1;break e}C=!0}C||(g=Zd(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):Xe(u,f,g))}function qe(u){zt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(qe,zt);var ym=/^https?$/i,oI=["POST","PUT"];n=qe.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,f,g,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);f=f?f.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ia.g(),this.v=this.o?$d(this.o):$d(Ia),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(f,String(u),!0),this.B=!1}catch(F){no(this,F);return}if(u=g||"",g=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var M in C)g.set(M,C[M]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(let F of C.keys())g.set(F,C.get(F));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(g.keys()).find(F=>F.toLowerCase()=="content-type"),M=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(oI,f,void 0))||C||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[F,G]of g)this.g.setRequestHeader(F,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{th(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){no(this,F)}};function no(u,f){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=f,u.m=5,eh(u),Xi(u)}function eh(u){u.A||(u.A=!0,tn(u,"complete"),tn(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,tn(this,"complete"),tn(this,"abort"),Xi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xi(this,!0)),qe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?hu(this):this.bb())},n.bb=function(){hu(this)};function hu(u){if(u.h&&typeof o<"u"&&(!u.v[1]||jn(u)!=4||u.Z()!=2)){if(u.u&&jn(u)==4)Xp(u.Ea,0,u);else if(tn(u,"readystatechange"),jn(u)==4){u.h=!1;try{let G=u.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var C;if(C=G===0){var M=String(u.D).match(Ca)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),C=!ym.test(M?M.toLowerCase():"")}g=C}if(g)tn(u,"complete"),tn(u,"success");else{u.m=6;try{var F=2<jn(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",eh(u)}}finally{Xi(u)}}}}function Xi(u,f){if(u.g){th(u);let g=u.g,C=u.v[0]?()=>{}:null;u.g=null,u.v=null,f||tn(u,"ready");try{g.onreadystatechange=C}catch{}}}function th(u){u.I&&(a.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function jn(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<jn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var f=this.g.responseText;return u&&f.indexOf(u)==0&&(f=f.substring(u.length)),Yi(f)}};function _m(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function vm(u){let f={};u=(u.g&&2<=jn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<u.length;C++){if(X(u[C]))continue;var g=w(u[C]);let M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();let F=f[M]||[];f[M]=F,F.push(g)}T(f,function(C){return C.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Lr(u,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||f}function nh(u){this.Aa=0,this.i=[],this.j=new zs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Lr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Lr("baseRetryDelayMs",5e3,u),this.cb=Lr("retryDelaySeedMs",1e4,u),this.Wa=Lr("forwardChannelMaxRetries",2,u),this.wa=Lr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Gd(u&&u.concurrentRequestLimit),this.Da=new mm,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=nh.prototype,n.la=8,n.G=1,n.connect=function(u,f,g,C){fn(0),this.W=u,this.H=f||{},g&&C!==void 0&&(this.H.OSID=g,this.H.OAID=C),this.F=this.X,this.I=l(this,null,this.W),Pa(this)};function fu(u){if(pu(u),u.G==3){var f=u.U++,g=kr(u.I);if(Xe(g,"SID",u.K),Xe(g,"RID",f),Xe(g,"TYPE","terminate"),io(u,g),f=new ai(u,u.j,f),f.L=2,f.v=uu(kr(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=f.v,g=!0),g||(f.g=p(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Qs(f)}es(u)}function ro(u){u.g&&(yu(u),u.g.cancel(),u.g=null)}function pu(u){ro(u),u.u&&(a.clearTimeout(u.u),u.u=null),Zi(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Pa(u){if(!Wd(u.h)&&!u.s){u.s=!0;var f=u.Ga;fa||Kp(),si||(fa(),si=!0),Ls.add(f,u),u.B=0}}function mu(u,f){return Kd(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=f.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=qs(I(u.Ga,u,f),oh(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let M=new ai(this,this.j,u),F=this.o;if(this.S&&(F?(F=_(F),b(F,this.S)):F=this.S),this.m!==null||this.O||(M.H=F,F=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var C=this.i[g];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(f+=C,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=li(this,M,f),g=kr(this.I),Xe(g,"RID",u),Xe(g,"CVER",22),this.D&&Xe(g,"X-HTTP-Session-Id",this.D),io(this,g),F&&(this.O?f="headers="+encodeURIComponent(String(Zd(F)))+"&"+f:this.m&&to(g,this.m,F)),pr(this.h,M),this.Ua&&Xe(g,"TYPE","init"),this.P?(Xe(g,"$req",f),Xe(g,"SID","null"),M.T=!0,su(M,g,null)):su(M,g,f),this.G=2}}else this.G==3&&(u?rh(this,u):this.i.length==0||Wd(this.h)||rh(this))};function rh(u,f){var g;f?g=f.l:g=u.U++;let C=kr(u.I);Xe(C,"SID",u.K),Xe(C,"RID",g),Xe(C,"AID",u.T),io(u,C),u.m&&u.o&&to(C,u.m,u.o),g=new ai(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),f&&(u.i=f.D.concat(u.i)),f=li(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),pr(u.h,g),su(g,C,f)}function io(u,f){u.H&&Ne(u.H,function(g,C){Xe(f,C,g)}),u.l&&Ye({},function(g,C){Xe(f,C,g)})}function li(u,f,g){g=Math.min(u.i.length,g);var C=u.l?I(u.l.Na,u.l,u):null;e:{var M=u.i;let F=-1;for(;;){let G=["count="+g];F==-1?0<g?(F=M[0].g,G.push("ofs="+F)):F=0:G.push("ofs="+F);let $e=!0;for(let Tt=0;Tt<g;Tt++){let He=M[Tt].g,vn=M[Tt].map;if(He-=F,0>He)F=Math.max(0,M[Tt].g-100),$e=!1;else try{Xd(vn,G,"req"+He+"_")}catch{C&&C(vn)}}if($e){C=G.join("&");break e}}}return u=u.i.splice(0,g),f.D=u,C}function ih(u){if(!u.g&&!u.u){u.Y=1;var f=u.Fa;fa||Kp(),si||(fa(),si=!0),Ls.add(f,u),u.v=0}}function gu(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=qs(I(u.Fa,u),oh(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,sh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=qs(I(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,fn(10),ro(this),sh(this))};function yu(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function sh(u){u.g=new ai(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var f=kr(u.qa);Xe(f,"RID","rpc"),Xe(f,"SID",u.K),Xe(f,"AID",u.T),Xe(f,"CI",u.F?"0":"1"),!u.F&&u.ja&&Xe(f,"TO",u.ja),Xe(f,"TYPE","xmlhttp"),io(u,f),u.m&&u.o&&to(f,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=uu(kr(f)),g.m=null,g.P=!0,ou(g,u)}n.Za=function(){this.C!=null&&(this.C=null,ro(this),gu(this),fn(19))};function Zi(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function _n(u,f){var g=null;if(u.g==f){Zi(u),yu(u),u.g=null;var C=2}else if(Qd(u.h,f))g=f.D,Kn(u.h,f),C=1;else return;if(u.G!=0){if(f.o)if(C==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var M=u.B;C=ru(),tn(C,new _a(C,g)),Pa(u)}else ih(u);else if(M=f.s,M==3||M==0&&0<f.X||!(C==1&&mu(u,f)||C==2&&gu(u)))switch(g&&0<g.length&&(f=u.h,f.i=f.i.concat(g)),M){case 1:di(u,5);break;case 4:di(u,10);break;case 3:di(u,6);break;default:di(u,2)}}}function oh(u,f){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*f}function di(u,f){if(u.j.info("Error code "+f),f==2){var g=I(u.fb,u),C=u.Xa;let M=!C;C=new Qn(C||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Da(C,"https"),uu(C),M?pm(C.toString(),g):Ra(C.toString(),g)}else fn(2);u.G=0,u.l&&u.l.sa(f),es(u),pu(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),fn(2)):(this.j.info("Failed to ping google.com"),fn(1))};function es(u){if(u.G=0,u.ka=[],u.l){let f=Js(u.h);(f.length!=0||u.i.length!=0)&&(O(u.ka,f),O(u.ka,u.i),u.h.i.length=0,V(u.i),u.i.length=0),u.l.ra()}}function l(u,f,g){var C=g instanceof Qn?kr(g):new Qn(g);if(C.g!="")f&&(C.g=f+"."+C.g),cu(C,C.s);else{var M=a.location;C=M.protocol,f=f?f+"."+M.hostname:M.hostname,M=+M.port;var F=new Qn(null);C&&Da(F,C),f&&(F.g=f),M&&cu(F,M),g&&(F.l=g),C=F}return g=u.D,f=u.ya,g&&f&&Xe(C,g,f),Xe(C,"VER",u.la),io(u,C),C}function p(u,f,g){if(f&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=u.Ca&&!u.pa?new qe(new Je({eb:g})):new qe(u.pa),f.Ha(u.J),f}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function y(){}n=y.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function S(){}S.prototype.g=function(u,f){return new x(u,f)};function x(u,f){zt.call(this),this.g=new nh(f),this.l=u,this.h=f&&f.messageUrlParams||null,u=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(u?u["X-WebChannel-Content-Type"]=f.messageContentType:u={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(u?u["X-WebChannel-Client-Profile"]=f.va:u={"X-WebChannel-Client-Profile":f.va}),this.g.S=u,(u=f&&f.Sb)&&!X(u)&&(this.g.m=u),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!X(f)&&(this.g.D=f,u=this.h,u!==null&&f in u&&(u=this.h,f in u&&delete u[f])),this.j=new he(this)}k(x,zt),x.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},x.prototype.close=function(){fu(this.g)},x.prototype.o=function(u){var f=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=ya(u),u=g);f.i.push(new zd(f.Ya++,u)),f.G==3&&Pa(f)},x.prototype.N=function(){this.g.l=null,delete this.j,fu(this.g),delete this.g,x.aa.N.call(this)};function L(u){Gt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var f=u.__sm__;if(f){e:{for(let g in f){u=g;break e}u=void 0}(this.i=u)&&(u=this.i,f=f!==null&&u in f?f[u]:void 0),this.data=f}else this.data=u}k(L,Gt);function W(){nu.call(this),this.status=1}k(W,nu);function he(u){this.g=u}k(he,y),he.prototype.ua=function(){tn(this.g,"a")},he.prototype.ta=function(u){tn(this.g,new L(u))},he.prototype.sa=function(u){tn(this.g,new W)},he.prototype.ra=function(){tn(this.g,"b")},S.prototype.createWebChannel=S.prototype.g,x.prototype.send=x.prototype.o,x.prototype.open=x.prototype.m,x.prototype.close=x.prototype.close,qA=Ns.createWebChannelTransport=function(){return new S},HA=Ns.getStatEventTarget=function(){return ru()},$A=Ns.Event=Wn,wE=Ns.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ea.NO_ERROR=0,Ea.TIMEOUT=8,Ea.HTTP_ERROR=6,Sp=Ns.ErrorCode=Ea,iu.COMPLETE="complete",BA=Ns.EventType=iu,Bs.EventType=$s,$s.OPEN="a",$s.CLOSE="b",$s.ERROR="c",$s.MESSAGE="d",zt.prototype.listen=zt.prototype.K,gd=Ns.WebChannel=Bs,VX=Ns.FetchXmlHttpFactory=Je,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,jA=Ns.XhrIo=qe}).apply(typeof IE<"u"?IE:typeof self<"u"?self:typeof window<"u"?window:{});var VU="@firebase/firestore",UU="4.8.0";var dn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");var Ld="11.10.0";var Vc=new Ui("@firebase/firestore");function yd(){return Vc.logLevel}function te(n,...e){if(Vc.logLevel<=xe.DEBUG){let t=e.map(_P);Vc.debug(`Firestore (${Ld}): ${n}`,...t)}}function Uc(n,...e){if(Vc.logLevel<=xe.ERROR){let t=e.map(_P);Vc.error(`Firestore (${Ld}): ${n}`,...t)}}function Td(n,...e){if(Vc.logLevel<=xe.WARN){let t=e.map(_P);Vc.warn(`Firestore (${Ld}): ${n}`,...t)}}function _P(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Se(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,vj(n,r,t)}function vj(n,e,t){let r=`FIRESTORE (${Ld}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Uc(r),new Error(r)}function bt(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||vj(e,i,r)}function ct(n,e){return n}var $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},oe=class extends cr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ks=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var RE=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},KA=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(dn.UNAUTHENTICATED))}shutdown(){}},QA=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},YA=class{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){bt(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),s=new ks;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ks,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ks)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(bt(typeof r.accessToken=="string",31837,{l:r}),new RE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return bt(e===null||typeof e=="string",2055,{h:e}),new dn(e)}},JA=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},XA=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new JA(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}},PE=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},ZA=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ur(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){bt(this.o===void 0,3512);let r=s=>{s.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.m;return this.m=s.token,te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.V.getImmediate({optional:!0});s?i(s):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new PE(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(bt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new PE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function UX(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function jX(){return new TextEncoder}var xp=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=UX(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}};function Be(n,e){return n<e?-1:n>e?1:0}function eR(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Be(r,i);{let s=jX(),o=BX(s.encode(jU(n,t)),s.encode(jU(e,t)));return o!==0?o:Be(r,i)}}t+=r>65535?2:1}return Be(n.length,e.length)}function jU(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function BX(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Be(n[t],e[t]);return Be(n.length,e.length)}function Cd(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var BU="__name__",NE=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&Se(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Se(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=n.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return Be(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):eR(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return EE.fromString(e.substring(4,e.length-2))}},Zt=class n extends NE{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new oe($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},$X=/^[_a-zA-Z][_a-zA-Z0-9]*$/,lr=class n extends NE{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return $X.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===BU}static keyField(){return new n([BU])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new oe($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new oe($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new oe($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new oe($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var Re=class n{constructor(e){this.path=e}static fromPath(e){return new n(Zt.fromString(e))}static fromName(e){return new n(Zt.fromString(e).popFirst(5))}static empty(){return new n(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Zt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Zt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Zt(e.slice()))}};function HX(n,e,t){if(!t)throw new oe($.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function qX(n,e,t,r){if(e===!0&&r===!0)throw new oe($.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function $U(n){if(!Re.isDocumentKey(n))throw new oe($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Ej(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function vP(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Se(12329,{type:typeof n})}function tR(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new oe($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=vP(n);throw new oe($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Bt(n,e){let t={typeString:n};return e&&(t.value=e),t}function Hp(n,e){if(!Ej(n))throw new oe($.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let o=n[r];if(i&&typeof o!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){t=`Expected '${r}' field to equal '${s.value}'`;break}}if(t)throw new oe($.INVALID_ARGUMENT,t);return!0}var HU=-62135596800,qU=1e6,en=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*qU);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new oe($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new oe($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<HU)throw new oe($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qU}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Hp(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-HU;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};en._jsonSchemaVersion="firestore/timestamp/1.0",en._jsonSchema={type:Bt("string",en._jsonSchemaVersion),seconds:Bt("number"),nanoseconds:Bt("number")};var wt=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new en(0,0))}static max(){return new n(new en(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Mp=-1,nR=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};nR.UNKNOWN_ID=-1;function zX(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=wt.fromTimestamp(r===1e9?new en(t+1,0):new en(t,r));return new jc(i,Re.empty(),e)}function GX(n){return new jc(n.readTime,n.key,Mp)}var jc=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(wt.min(),Re.empty(),Mp)}static max(){return new n(wt.max(),Re.empty(),Mp)}};function WX(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Re.comparator(n.documentKey,e.documentKey),t!==0?t:Be(n.largestBatchId,e.largestBatchId))}var KX="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",rR=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function EP(n){if(n.code!==$.FAILED_PRECONDITION||n.message!==KX)throw n;te("LocalStore","Unexpectedly lost primary lease")}var H=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},c=>r(c))}),o=!0,s===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let d=c;t(e[d]).next(h=>{o[d]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};function QX(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function qp(n){return n.name==="IndexedDbTransactionError"}var Ij=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),IP=-1;function wP(n){return n==null}function Op(n){return n===0&&1/n==-1/0}function YX(n){return typeof n=="number"&&Number.isInteger(n)&&!Op(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var wj="";function JX(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=zU(e)),e=XX(n.get(t),e);return zU(e)}function XX(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let s=n.charAt(i);switch(s){case"\0":t+="";break;case wj:t+="";break;default:t+=s}}return t}function zU(n){return n+wj+""}var ZX="remoteDocuments",bj="owner";var Tj="mutationQueues";var Cj="mutations";var Sj="documentMutations",eZ="remoteDocumentsV14";var Dj="remoteDocumentGlobal";var Aj="targets";var Rj="targetDocuments";var Pj="targetGlobal",Nj="collectionParents";var kj="clientMetadata";var xj="bundles";var Mj="namedQueries";var tZ="indexConfiguration";var nZ="indexState";var rZ="indexEntries";var Oj="documentOverlays";var iZ="globals";var sZ=[Tj,Cj,Sj,ZX,Aj,bj,Pj,Rj,kj,Dj,Nj,xj,Mj],Y0e=[...sZ,Oj],oZ=[Tj,Cj,Sj,eZ,Aj,bj,Pj,Rj,kj,Dj,Nj,xj,Mj,Oj],aZ=oZ,cZ=[...aZ,tZ,nZ,rZ];var J0e=[...cZ,iZ];function GU(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Fd(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Lj(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var hr=class n{constructor(e,t){this.comparator=e,this.root=t||zi.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,zi.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vd(this.root,e,this.comparator,!1)}getReverseIterator(){return new vd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vd(this.root,e,this.comparator,!0)}},vd=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},zi=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}};zi.EMPTY=null,zi.RED=!0,zi.BLACK=!1;zi.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,t,r,i,s){return this}insert(e,t,r){return new zi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var An=class n{constructor(e){this.comparator=e,this.data=new hr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new kE(this.data.getIterator())}getIteratorFrom(e){return new kE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},kE=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var qi=class n{constructor(e){this.fields=e,e.sort(lr.comparator)}static empty(){return new n([])}unionWith(e){let t=new An(lr.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Cd(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var iR=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var xs=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new iR("Invalid base64 string: "+s):s}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};xs.EMPTY_BYTE_STRING=new xs("");var uZ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ua(n){if(bt(!!n,39018),typeof n=="string"){let e=0,t=uZ.exec(n);if(bt(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:jt(n.seconds),nanos:jt(n.nanos)}}function jt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Bc(n){return typeof n=="string"?xs.fromBase64String(n):xs.fromUint8Array(n)}var Fj="server_timestamp",Vj="__type__",Uj="__previous_value__",jj="__local_write_time__";function bP(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Vj])===null||t===void 0?void 0:t.stringValue)===Fj}function TP(n){let e=n.mapValue.fields[Uj];return bP(e)?TP(e):e}function xE(n){let e=ua(n.mapValue.fields[jj].timestampValue);return new en(e.seconds,e.nanos)}var sR=class{constructor(e,t,r,i,s,o,a,c,d,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=h}},ME="(default)",oR=class n{constructor(e,t){this.projectId=e,this.database=t||ME}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===ME}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var CP="__type__",Bj="__max__",bE={mapValue:{fields:{__type__:{stringValue:Bj}}}},SP="__vector__",Lp="value";function $c(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?bP(n)?4:Hj(n)?9007199254740991:$j(n)?10:11:Se(28295,{value:n})}function Gi(n,e){if(n===e)return!0;let t=$c(n);if(t!==$c(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return xE(n).isEqual(xE(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=ua(i.timestampValue),a=ua(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,s){return Bc(i.bytesValue).isEqual(Bc(s.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,s){return jt(i.geoPointValue.latitude)===jt(s.geoPointValue.latitude)&&jt(i.geoPointValue.longitude)===jt(s.geoPointValue.longitude)})(n,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return jt(i.integerValue)===jt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=jt(i.doubleValue),a=jt(s.doubleValue);return o===a?Op(o)===Op(a):isNaN(o)&&isNaN(a)}return!1})(n,e);case 9:return Cd(n.arrayValue.values||[],e.arrayValue.values||[],Gi);case 10:case 11:return(function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(GU(o)!==GU(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Gi(o[c],a[c])))return!1;return!0})(n,e);default:return Se(52216,{left:n})}}function Fp(n,e){return(n.values||[]).find(t=>Gi(t,e))!==void 0}function Sd(n,e){if(n===e)return 0;let t=$c(n),r=$c(e);if(t!==r)return Be(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Be(n.booleanValue,e.booleanValue);case 2:return(function(s,o){let a=jt(s.integerValue||s.doubleValue),c=jt(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1})(n,e);case 3:return WU(n.timestampValue,e.timestampValue);case 4:return WU(xE(n),xE(e));case 5:return eR(n.stringValue,e.stringValue);case 6:return(function(s,o){let a=Bc(s),c=Bc(o);return a.compareTo(c)})(n.bytesValue,e.bytesValue);case 7:return(function(s,o){let a=s.split("/"),c=o.split("/");for(let d=0;d<a.length&&d<c.length;d++){let h=Be(a[d],c[d]);if(h!==0)return h}return Be(a.length,c.length)})(n.referenceValue,e.referenceValue);case 8:return(function(s,o){let a=Be(jt(s.latitude),jt(o.latitude));return a!==0?a:Be(jt(s.longitude),jt(o.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return KU(n.arrayValue,e.arrayValue);case 10:return(function(s,o){var a,c,d,h;let m=s.fields||{},I=o.fields||{},R=(a=m[Lp])===null||a===void 0?void 0:a.arrayValue,k=(c=I[Lp])===null||c===void 0?void 0:c.arrayValue,V=Be(((d=R?.values)===null||d===void 0?void 0:d.length)||0,((h=k?.values)===null||h===void 0?void 0:h.length)||0);return V!==0?V:KU(R,k)})(n.mapValue,e.mapValue);case 11:return(function(s,o){if(s===bE.mapValue&&o===bE.mapValue)return 0;if(s===bE.mapValue)return 1;if(o===bE.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),d=o.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let m=0;m<c.length&&m<h.length;++m){let I=eR(c[m],h[m]);if(I!==0)return I;let R=Sd(a[c[m]],d[h[m]]);if(R!==0)return R}return Be(c.length,h.length)})(n.mapValue,e.mapValue);default:throw Se(23264,{le:t})}}function WU(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Be(n,e);let t=ua(n),r=ua(e),i=Be(t.seconds,r.seconds);return i!==0?i:Be(t.nanos,r.nanos)}function KU(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let s=Sd(t[i],r[i]);if(s)return s}return Be(t.length,r.length)}function Dd(n){return aR(n)}function aR(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=ua(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Bc(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Re.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let s of t.values||[])i?i=!1:r+=",",r+=aR(s);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${aR(t.fields[o])}`;return i+"}"})(n.mapValue):Se(61005,{value:n})}function SE(n){switch($c(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=TP(n);return e?16+SE(e):16;case 5:return 2*n.stringValue.length;case 6:return Bc(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,s)=>i+SE(s),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Fd(r.fields,(s,o)=>{i+=s.length+SE(o)}),i})(n.mapValue);default:throw Se(13486,{value:n})}}function cR(n){return!!n&&"integerValue"in n}function DP(n){return!!n&&"arrayValue"in n}function DE(n){return!!n&&"mapValue"in n}function $j(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[CP])===null||t===void 0?void 0:t.stringValue)===SP}function Ap(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Fd(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ap(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ap(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Hj(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Bj}var Z0e={mapValue:{fields:{[CP]:{stringValue:SP},[Lp]:{arrayValue:{}}}}};var Hi=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!DE(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ap(t)}setAll(e){let t=lr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Ap(o):i.push(a.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());DE(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Gi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];DE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Fd(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n(Ap(this.value))}};function qj(n){let e=[];return Fd(n.fields,(t,r)=>{let i=new lr([t]);if(DE(r)){let s=qj(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new qi(e)}var Ad=class n{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new n(e,0,wt.min(),wt.min(),wt.min(),Hi.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,wt.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,wt.min(),wt.min(),Hi.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,wt.min(),wt.min(),Hi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Rd=class{constructor(e,t){this.position=e,this.inclusive=t}};function QU(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],o=n.position[i];if(s.field.isKeyField()?r=Re.comparator(Re.fromName(o.referenceValue),t.key):r=Sd(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function YU(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Gi(n.position[t],e.position[t]))return!1;return!0}var Pd=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function lZ(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var OE=class{},hn=class n extends OE{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new lR(e,t,r):t==="array-contains"?new fR(e,r):t==="in"?new pR(e,r):t==="not-in"?new mR(e,r):t==="array-contains-any"?new gR(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new dR(e,r):new hR(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Sd(t,this.value)):t!==null&&$c(this.value)===$c(t)&&this.matchesComparison(Sd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},la=class n extends OE{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return zj(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function zj(n){return n.op==="and"}function Gj(n){return dZ(n)&&zj(n)}function dZ(n){for(let e of n.filters)if(e instanceof la)return!1;return!0}function uR(n){if(n instanceof hn)return n.field.canonicalString()+n.op.toString()+Dd(n.value);if(Gj(n))return n.filters.map(e=>uR(e)).join(",");{let e=n.filters.map(t=>uR(t)).join(",");return`${n.op}(${e})`}}function Wj(n,e){return n instanceof hn?(function(r,i){return i instanceof hn&&r.op===i.op&&r.field.isEqual(i.field)&&Gi(r.value,i.value)})(n,e):n instanceof la?(function(r,i){return i instanceof la&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Wj(o,i.filters[a]),!0):!1})(n,e):void Se(19439)}function Kj(n){return n instanceof hn?(function(t){return`${t.field.canonicalString()} ${t.op} ${Dd(t.value)}`})(n):n instanceof la?(function(t){return t.op.toString()+" {"+t.getFilters().map(Kj).join(" ,")+"}"})(n):"Filter"}var lR=class extends hn{constructor(e,t,r){super(e,t,r),this.key=Re.fromName(r.referenceValue)}matches(e){let t=Re.comparator(e.key,this.key);return this.matchesComparison(t)}},dR=class extends hn{constructor(e,t){super(e,"in",t),this.keys=Qj("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},hR=class extends hn{constructor(e,t){super(e,"not-in",t),this.keys=Qj("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function Qj(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Re.fromName(r.referenceValue))}var fR=class extends hn{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return DP(t)&&Fp(t.arrayValue,this.value)}},pR=class extends hn{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Fp(this.value.arrayValue,t)}},mR=class extends hn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Fp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Fp(this.value.arrayValue,t)}},gR=class extends hn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!DP(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Fp(this.value.arrayValue,r))}};var yR=class{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Pe=null}};function JU(n,e=null,t=[],r=[],i=null,s=null,o=null){return new yR(n,e,t,r,i,s,o)}function AP(n){let e=ct(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>uR(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(s){return s.field.canonicalString()+s.dir})(r)).join(","),wP(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Dd(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Dd(r)).join(",")),e.Pe=t}return e.Pe}function RP(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!lZ(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Wj(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!YU(n.startAt,e.startAt)&&YU(n.endAt,e.endAt)}var Nd=class{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function hZ(n,e,t,r,i,s,o,a){return new Nd(n,e,t,r,i,s,o,a)}function fZ(n){return new Nd(n)}function XU(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function pZ(n){return n.collectionGroup!==null}function Rp(n){let e=ct(n);if(e.Te===null){e.Te=[];let t=new Set;for(let s of e.explicitOrderBy)e.Te.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new An(lr.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.Te.push(new Pd(s,r))}),t.has(lr.keyField().canonicalString())||e.Te.push(new Pd(lr.keyField(),r))}return e.Te}function xc(n){let e=ct(n);return e.Ie||(e.Ie=mZ(e,Rp(n))),e.Ie}function mZ(n,e){if(n.limitType==="F")return JU(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Pd(i.field,s)});let t=n.endAt?new Rd(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Rd(n.startAt.position,n.startAt.inclusive):null;return JU(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function _R(n,e,t){return new Nd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Yj(n,e){return RP(xc(n),xc(e))&&n.limitType===e.limitType}function Jj(n){return`${AP(xc(n))}|lt:${n.limitType}`}function Dp(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>Kj(i)).join(", ")}]`),wP(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Dd(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Dd(i)).join(",")),`Target(${r})`})(xc(n))}; limitType=${n.limitType})`}function PP(n,e){return e.isFoundDocument()&&(function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Re.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(n,e)&&(function(r,i){for(let s of Rp(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(o,a,c){let d=QU(o,a,c);return o.inclusive?d<=0:d<0})(r.startAt,Rp(r),i)||r.endAt&&!(function(o,a,c){let d=QU(o,a,c);return o.inclusive?d>=0:d>0})(r.endAt,Rp(r),i))})(n,e)}function gZ(n){return(e,t)=>{let r=!1;for(let i of Rp(n)){let s=yZ(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function yZ(n,e,t){let r=n.field.isKeyField()?Re.comparator(e.key,t.key):(function(s,o,a){let c=o.data.field(s),d=a.data.field(s);return c!==null&&d!==null?Sd(c,d):Se(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Se(19790,{direction:n.dir})}}var Ms=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Fd(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return Lj(this.inner)}size(){return this.innerSize}};var _Z=new hr(Re.comparator);function LE(){return _Z}var Xj=new hr(Re.comparator);function TE(...n){let e=Xj;for(let t of n)e=e.insert(t.key,t);return e}function Zj(n){let e=Xj;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function kc(){return Pp()}function eB(){return Pp()}function Pp(){return new Ms(n=>n.toString(),(n,e)=>n.isEqual(e))}var vZ=new hr(Re.comparator),EZ=new An(Re.comparator);function Dn(...n){let e=EZ;for(let t of n)e=e.add(t);return e}var IZ=new An(Be);function wZ(){return IZ}function NP(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Op(e)?"-0":e}}function tB(n){return{integerValue:""+n}}function bZ(n,e){return YX(e)?tB(e):NP(n,e)}var kd=class{constructor(){this._=void 0}};function TZ(n,e,t){return n instanceof xd?(function(i,s){let o={fields:{[Vj]:{stringValue:Fj},[jj]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&bP(s)&&(s=TP(s)),s&&(o.fields[Uj]=s),{mapValue:o}})(t,e):n instanceof Hc?rB(n,e):n instanceof qc?iB(n,e):(function(i,s){let o=nB(i,s),a=ZU(o)+ZU(i.Ee);return cR(o)&&cR(i.Ee)?tB(a):NP(i.serializer,a)})(n,e)}function CZ(n,e,t){return n instanceof Hc?rB(n,e):n instanceof qc?iB(n,e):t}function nB(n,e){return n instanceof Md?(function(r){return cR(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}var xd=class extends kd{},Hc=class extends kd{constructor(e){super(),this.elements=e}};function rB(n,e){let t=sB(e);for(let r of n.elements)t.some(i=>Gi(i,r))||t.push(r);return{arrayValue:{values:t}}}var qc=class extends kd{constructor(e){super(),this.elements=e}};function iB(n,e){let t=sB(e);for(let r of n.elements)t=t.filter(i=>!Gi(i,r));return{arrayValue:{values:t}}}var Md=class extends kd{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function ZU(n){return jt(n.integerValue||n.doubleValue)}function sB(n){return DP(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function SZ(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof Hc&&i instanceof Hc||r instanceof qc&&i instanceof qc?Cd(r.elements,i.elements,Gi):r instanceof Md&&i instanceof Md?Gi(r.Ee,i.Ee):r instanceof xd&&i instanceof xd})(n.transform,e.transform)}var vR=class{constructor(e,t){this.version=e,this.transformResults=t}},Mc=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function AE(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Od=class{};function oB(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new FE(n.key,Mc.none()):new zc(n.key,n.data,Mc.none());{let t=n.data,r=Hi.empty(),i=new An(lr.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Os(n.key,r,new qi(i.toArray()),Mc.none())}}function DZ(n,e,t){n instanceof zc?(function(i,s,o){let a=i.value.clone(),c=tj(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()})(n,e,t):n instanceof Os?(function(i,s,o){if(!AE(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=tj(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(aB(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(n,e,t):(function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,t)}function Np(n,e,t,r){return n instanceof zc?(function(s,o,a,c){if(!AE(s.precondition,o))return a;let d=s.value.clone(),h=nj(s.fieldTransforms,c,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null})(n,e,t,r):n instanceof Os?(function(s,o,a,c){if(!AE(s.precondition,o))return a;let d=nj(s.fieldTransforms,c,o),h=o.data;return h.setAll(aB(s)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))})(n,e,t,r):(function(s,o,a){return AE(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a})(n,e,t)}function AZ(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),s=nB(r.transform,i||null);s!=null&&(t===null&&(t=Hi.empty()),t.set(r.field,s))}return t||null}function ej(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Cd(r,i,(s,o)=>SZ(s,o))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var zc=class extends Od{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Os=class extends Od{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function aB(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function tj(n,e,t){let r=new Map;bt(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,CZ(o,a,t[i]))}return r}function nj(n,e,t){let r=new Map;for(let i of n){let s=i.transform,o=t.data.field(i.field);r.set(i.field,TZ(s,o,e))}return r}var FE=class extends Od{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},ER=class extends Od{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var IR=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&DZ(s,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Np(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Np(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=eB();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;let c=oB(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(wt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Dn())}isEqual(e){return this.batchId===e.batchId&&Cd(this.mutations,e.mutations,(t,r)=>ej(t,r))&&Cd(this.baseMutations,e.baseMutations,(t,r)=>ej(t,r))}},wR=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){bt(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return vZ})(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new n(e,t,r,i)}};var bR=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Vt,Fe;function RZ(n){switch(n){case $.OK:return Se(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return Se(15467,{code:n})}}function PZ(n){if(n===void 0)return Uc("GRPC error has no .code"),$.UNKNOWN;switch(n){case Vt.OK:return $.OK;case Vt.CANCELLED:return $.CANCELLED;case Vt.UNKNOWN:return $.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return $.INTERNAL;case Vt.UNAVAILABLE:return $.UNAVAILABLE;case Vt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Vt.NOT_FOUND:return $.NOT_FOUND;case Vt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Vt.ABORTED:return $.ABORTED;case Vt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Vt.DATA_LOSS:return $.DATA_LOSS;default:return Se(39323,{code:n})}}(Fe=Vt||(Vt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";var ebe=new EE([4294967295,4294967295],0);var TR=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function CR(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NZ(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function kZ(n,e){return CR(n,e.toTimestamp())}function Id(n){return bt(!!n,49232),wt.fromTimestamp((function(t){let r=ua(t);return new en(r.seconds,r.nanos)})(n))}function cB(n,e){return SR(n,e).canonicalString()}function SR(n,e){let t=(function(i){return new Zt(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function xZ(n){let e=Zt.fromString(n);return bt(BZ(e),10190,{key:e.toString()}),e}function DR(n,e){return cB(n.databaseId,e.path)}function MZ(n){let e=xZ(n);return e.length===4?Zt.emptyPath():LZ(e)}function OZ(n){return new Zt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function LZ(n){return bt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function rj(n,e,t){return{name:DR(n,e),fields:t.value.mapValue.fields}}function FZ(n,e){let t;if(e instanceof zc)t={update:rj(n,e.key,e.value)};else if(e instanceof FE)t={delete:DR(n,e.key)};else if(e instanceof Os)t={update:rj(n,e.key,e.data),updateMask:jZ(e.fieldMask)};else{if(!(e instanceof ER))return Se(16599,{Rt:e.type});t={verify:DR(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>(function(s,o){let a=o.transform;if(a instanceof xd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Hc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof qc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Md)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw Se(20930,{transform:o.transform})})(0,r))),e.precondition.isNone||(t.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:kZ(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Se(27497)})(n,e.precondition)),t}function VZ(n,e){return n&&n.length>0?(bt(e!==void 0,14353),n.map(t=>(function(i,s){let o=i.updateTime?Id(i.updateTime):Id(s);return o.isEqual(wt.min())&&(o=Id(s)),new vR(o,i.transformResults||[])})(t,e))):[]}function UZ(n){let e=MZ(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){bt(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];t.where&&(s=(function(m){let I=uB(m);return I instanceof la&&Gj(I)?I.getFilters():[I]})(t.where));let o=[];t.orderBy&&(o=(function(m){return m.map(I=>(function(k){return new Pd(_d(k.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(I))})(t.orderBy));let a=null;t.limit&&(a=(function(m){let I;return I=typeof m=="object"?m.value:m,wP(I)?null:I})(t.limit));let c=null;t.startAt&&(c=(function(m){let I=!!m.before,R=m.values||[];return new Rd(R,I)})(t.startAt));let d=null;return t.endAt&&(d=(function(m){let I=!m.before,R=m.values||[];return new Rd(R,I)})(t.endAt)),hZ(e,i,o,s,a,"F",c,d)}function uB(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=_d(t.unaryFilter.field);return hn.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=_d(t.unaryFilter.field);return hn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=_d(t.unaryFilter.field);return hn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=_d(t.unaryFilter.field);return hn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(n):n.fieldFilter!==void 0?(function(t){return hn.create(_d(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return la.create(t.compositeFilter.filters.map(r=>uB(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(t.compositeFilter.op))})(n):Se(30097,{filter:n})}function _d(n){return lr.fromServerFormat(n.fieldPath)}function jZ(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function BZ(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var AR=class{constructor(e){this.gt=e}};function $Z(n){let e=UZ({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?_R(e,e.limit,"L"):e}var VE=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(jt(e.integerValue));else if("doubleValue"in e){let r=jt(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),Op(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=ua(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(Bc(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?Hj(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):$j(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):Se(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let s=e.fields||{};this.Ct(t,53);let o=Lp,a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(jt(a)),this.xt(o,t),this.Dt(s[o],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),Re.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};VE.Ut=new VE;var RR=class{constructor(){this.Dn=new PR}addToCollectionParentIndex(e,t){return this.Dn.add(t),H.resolve()}getCollectionParents(e,t){return H.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return H.resolve()}deleteFieldIndex(e,t){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,t){return H.resolve()}getDocumentsMatchingTarget(e,t){return H.resolve(null)}getIndexType(e,t){return H.resolve(0)}getFieldIndexes(e,t){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,t){return H.resolve(jc.min())}getMinOffsetFromCollectionGroup(e,t){return H.resolve(jc.min())}updateCollectionGroup(e,t,r){return H.resolve()}updateIndexEntries(e,t){return H.resolve()}},PR=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new An(Zt.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new An(Zt.comparator)).toArray()}};var tbe=new Uint8Array(0);var ij={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lB=41943040,Pr=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Pr.DEFAULT_COLLECTION_PERCENTILE=10,Pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pr.DEFAULT=new Pr(lB,Pr.DEFAULT_COLLECTION_PERCENTILE,Pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pr.DISABLED=new Pr(-1,0,0);var Vp=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var sj="LruGarbageCollector",HZ=1048576;function oj([n,e],[t,r]){let i=Be(n,t);return i===0?Be(e,r):i}var NR=class{constructor(e){this.Tr=e,this.buffer=new An(oj),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();oj(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},kR=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){te(sj,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){qp(t)?te(sj,"Ignoring IndexedDB error during garbage collection: ",t):await EP(t)}await this.Rr(3e5)})}},xR=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return H.resolve(Ij.ue);let r=new NR(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(ij)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ij):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,s,o,a,c,d,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,o=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,a=Date.now(),this.removeTargets(e,r,t))).next(m=>(s=m,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(d=Date.now(),yd()<=xe.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(c-a)+`ms
	Removed ${m} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})))}};function qZ(n,e){return new xR(n,e)}var MR=class{constructor(){this.changes=new Ms(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ad.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?H.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var OR=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var LR=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Np(r.mutation,i,qi.empty(),en.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Dn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Dn()){let i=kc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=TE();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let r=kc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Dn()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=LE(),o=Pp(),a=(function(){return Pp()})();return t.forEach((c,d)=>{let h=r.get(d.key);i.has(d.key)&&(h===void 0||h.mutation instanceof Os)?s=s.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),Np(h.mutation,d,h.mutation.getFieldMask(),en.now())):o.set(d.key,qi.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((d,h)=>o.set(d,h)),t.forEach((d,h)=>{var m;return a.set(d,new OR(h,(m=o.get(d))!==null&&m!==void 0?m:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Pp(),i=new hr((o,a)=>o-a),s=Dn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let a of o)a.keys().forEach(c=>{let d=t.get(c);if(d===null)return;let h=r.get(c)||qi.empty();h=a.applyToLocalView(d,h),r.set(c,h);let m=(i.get(a.batchId)||Dn()).add(c);i=i.insert(a.batchId,m)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),d=c.key,h=c.value,m=eB();h.forEach(I=>{if(!s.has(I)){let R=oB(t.get(I),r.get(I));R!==null&&m.set(I,R),s=s.add(I)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,m))}return H.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(o){return Re.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):pZ(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):H.resolve(kc()),a=Mp,c=s;return o.next(d=>H.forEach(d,(h,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),s.get(h)?H.resolve():this.remoteDocumentCache.getEntry(e,h).next(I=>{c=c.insert(h,I)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,c,d,Dn())).next(h=>({batchId:a,changes:Zj(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Re(t)).next(r=>{let i=TE();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let s=t.collectionGroup,o=TE();return this.indexManager.getCollectionParents(e,s).next(a=>H.forEach(a,c=>{let d=(function(m,I){return new Nd(I,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(t,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(h=>{h.forEach((m,I)=>{o=o.insert(m,I)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((c,d)=>{let h=d.getKey();o.get(h)===null&&(o=o.insert(h,Ad.newInvalidDocument(h)))});let a=TE();return o.forEach((c,d)=>{let h=s.get(c);h!==void 0&&Np(h.mutation,d,qi.empty(),en.now()),PP(t,d)&&(a=a.insert(c,d))}),a})}};var FR=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return H.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Id(i.createTime)}})(t)),H.resolve()}getNamedQuery(e,t){return H.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:$Z(i.bundledQuery),readTime:Id(i.readTime)}})(t)),H.resolve()}};var VR=class{constructor(){this.overlays=new hr(Re.comparator),this.kr=new Map}getOverlay(e,t){return H.resolve(this.overlays.get(t))}getOverlays(e,t){let r=kc();return H.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.wt(e,t,s)}),H.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(r)),H.resolve()}getOverlaysForCollection(e,t,r){let i=kc(),s=t.length+1,o=new Re(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,d=c.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return H.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new hr((d,h)=>d-h),o=this.overlays.getIterator();for(;o.hasNext();){let d=o.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let h=s.get(d.largestBatchId);h===null&&(h=kc(),s=s.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}let a=kc(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=i)););return H.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new bR(t,r));let s=this.kr.get(t);s===void 0&&(s=Dn(),this.kr.set(t,s)),this.kr.set(t,s.add(r.key))}};var UR=class{constructor(){this.sessionToken=xs.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,H.resolve()}};var Up=class{constructor(){this.qr=new An(Ut.Qr),this.$r=new An(Ut.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new Ut(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new Ut(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new Re(new Zt([])),r=new Ut(t,e),i=new Ut(t,e+1),s=[];return this.$r.forEachInRange([r,i],o=>{this.Wr(o),s.push(o.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new Re(new Zt([])),r=new Ut(t,e),i=new Ut(t,e+1),s=Dn();return this.$r.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new Ut(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Ut=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return Re.comparator(e.key,t.key)||Be(e.Hr,t.Hr)}static Ur(e,t){return Be(e.Hr,t.Hr)||Re.comparator(e.key,t.key)}};var jR=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new An(Ut.Qr)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new IR(s,t,r,i);this.mutationQueue.push(o);for(let a of i)this.Yr=this.Yr.add(new Ut(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,t){return H.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),s=i<0?0:i;return H.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?IP:this.er-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Ut(t,0),i=new Ut(t,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([r,i],o=>{let a=this.Zr(o.Hr);s.push(a)}),H.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new An(Be);return t.forEach(i=>{let s=new Ut(i,0),o=new Ut(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,o],a=>{r=r.add(a.Hr)})}),H.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;Re.isDocumentKey(s)||(s=s.child(""));let o=new Ut(new Re(s),0),a=new An(Be);return this.Yr.forEachWhile(c=>{let d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(a=a.add(c.Hr)),!0)},o),H.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){bt(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return H.forEach(t.mutations,i=>{let s=new Ut(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new Ut(t,0),i=this.Yr.firstAfterOrEqual(r);return H.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var BR=class{constructor(e){this.ni=e,this.docs=(function(){return new hr(Re.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return H.resolve(r?r.document.mutableCopy():Ad.newInvalidDocument(t))}getEntries(e,t){let r=LE();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ad.newInvalidDocument(i))}),H.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=LE(),o=t.path,a=new Re(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:d,value:{document:h}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||WX(GX(h),r)<=0||(i.has(h.key)||PP(t,h))&&(s=s.insert(h.key,h.mutableCopy()))}return H.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Se(9500)}ri(e,t){return H.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new $R(this)}getSize(e){return H.resolve(this.size)}},$R=class extends MR{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),H.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var HR=class{constructor(e){this.persistence=e,this.ii=new Ms(t=>AP(t),RP),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.si=0,this.oi=new Up,this.targetCount=0,this._i=Vp.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),H.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new Vp(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,H.resolve()}updateTargetData(e,t){return this.hr(t),H.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.ii.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),H.waitFor(s).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return H.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),H.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),H.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),H.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return H.resolve(r)}containsKey(e,t){return H.resolve(this.oi.containsKey(t))}};var UE=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new Ij(0),this.ci=!1,this.ci=!0,this.li=new UR,this.referenceDelegate=e(this),this.hi=new HR(this),this.indexManager=new RR,this.remoteDocumentCache=(function(i){return new BR(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new AR(t),this.Ti=new FR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new VR,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new jR(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){te("MemoryPersistence","Starting transaction:",e);let i=new qR(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,t){return H.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},qR=class extends rR{constructor(e){super(),this.currentSequenceNumber=e}},zR=class n{constructor(e){this.persistence=e,this.Ai=new Up,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw Se(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),H.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),H.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.mi.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.mi,r=>{let i=Re.fromPath(r);return this.fi(e,i).next(s=>{s||t.removeEntry(i,wt.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return H.or([()=>H.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},jE=class n{constructor(e,t){this.persistence=e,this.gi=new Ms(r=>JX(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=qZ(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return H.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return H.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(s=>s?H.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ri(e,o=>this.Sr(e,o,t).next(a=>{a||(r++,s.removeEntry(o,wt.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),H.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),H.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),H.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=SE(e.data.value)),t}Sr(e,t,r){return H.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return H.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var GR=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=Dn(),i=Dn();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n(e,t.fromCache,r,i)}};var WR=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var KR=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return h2()?8:QX(ln())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let s={result:null};return this.ps(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ys(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new WR;return this.ws(e,t,o).next(a=>{if(s.result=a,this.Rs)return this.Ss(e,t,o,a.size)})}).next(()=>s.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(yd()<=xe.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",Dp(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),H.resolve()):(yd()<=xe.DEBUG&&te("QueryEngine","Query:",Dp(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(yd()<=xe.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",Dp(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xc(t))):H.resolve())}ps(e,t){if(XU(t))return H.resolve(null);let r=xc(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=_R(t,null,"F"),r=xc(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=Dn(...s);return this.gs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let d=this.bs(t,a);return this.Ds(t,d,o,c.readTime)?this.ps(e,_R(t,null,"F")):this.vs(e,d,t,c)}))})))}ys(e,t,r,i){return XU(t)||i.isEqual(wt.min())?H.resolve(null):this.gs.getDocuments(e,r).next(s=>{let o=this.bs(t,s);return this.Ds(t,o,r,i)?H.resolve(null):(yd()<=xe.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Dp(t)),this.vs(e,o,t,zX(i,Mp)).next(a=>a))})}bs(e,t){let r=new An(gZ(e));return t.forEach((i,s)=>{PP(e,s)&&(r=r.add(s))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ws(e,t,r){return yd()<=xe.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",Dp(t)),this.gs.getDocumentsMatchingQuery(e,t,jc.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var zZ="LocalStore";var QR=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new hr(Be),this.Ms=new Ms(s=>AP(s),RP),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LR(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function GZ(n,e,t,r){return new QR(n,e,t,r)}async function dB(n,e){let t=ct(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=Dn();for(let d of i){o.push(d.batchId);for(let h of d.mutations)c=c.add(h.key)}for(let d of s){a.push(d.batchId);for(let h of d.mutations)c=c.add(h.key)}return t.localDocuments.getDocuments(r,c).next(d=>({Bs:d,removedBatchIds:o,addedBatchIds:a}))})})}function WZ(n,e){let t=ct(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=t.Os.newChangeBuffer({trackRemovals:!0});return(function(a,c,d,h){let m=d.batch,I=m.keys(),R=H.resolve();return I.forEach(k=>{R=R.next(()=>h.getEntry(c,k)).next(V=>{let O=d.docVersions.get(k);bt(O!==null,48541),V.version.compareTo(O)<0&&(m.applyToRemoteDocument(V,d),V.isValidDocument()&&(V.setReadTime(d.commitVersion),h.addEntry(V)))})}),R.next(()=>a.mutationQueue.removeMutationBatch(c,m))})(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let c=Dn();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(c=c.add(a.batch.mutations[d].key));return c})(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function KZ(n){let e=ct(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function QZ(n,e){let t=ct(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=IP),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}var BE=class{constructor(){this.activeTargetIds=wZ()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var YR=class{constructor(){this.Fo=new BE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new BE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var JR=class{xo(e){}shutdown(){}};var aj="ConnectivityMonitor",$E=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){te(aj,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){te(aj,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var CE=null;function XR(){return CE===null?CE=(function(){return 268435456+Math.round(2147483648*Math.random())})():CE++,"0x"+CE.toString(16)}var zA="RestConnection",YZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},ZR=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===ME?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,s){let o=XR(),a=this.Go(e,t.toUriEncodedString());te(zA,`Sending RPC '${e}' ${o}:`,a,r);let c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,i,s);let{host:d}=new URL(a),h=Xo(d);return this.jo(e,a,c,r,h).then(m=>(te(zA,`Received RPC '${e}' ${o}: `,m),m),m=>{throw Td(zA,`RPC '${e}' ${o} failed with error: `,m,"url: ",a,"request:",r),m})}Jo(e,t,r,i,s,o){return this.Wo(e,t,r,i,s)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ld})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Go(e,t){let r=YZ[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var eP=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var Sn="WebChannelConnection",tP=class extends ZR{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,s){let o=XR();return new Promise((a,c)=>{let d=new jA;d.setWithCredentials(!0),d.listenOnce(BA.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Sp.NO_ERROR:let m=d.getResponseJson();te(Sn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),a(m);break;case Sp.TIMEOUT:te(Sn,`RPC '${e}' ${o} timed out`),c(new oe($.DEADLINE_EXCEEDED,"Request time out"));break;case Sp.HTTP_ERROR:let I=d.getStatus();if(te(Sn,`RPC '${e}' ${o} failed with status:`,I,"response text:",d.getResponseText()),I>0){let R=d.getResponseJson();Array.isArray(R)&&(R=R[0]);let k=R?.error;if(k&&k.status&&k.message){let V=(function(q){let X=q.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(X)>=0?X:$.UNKNOWN})(k.status);c(new oe(V,k.message))}else c(new oe($.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new oe($.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{c_:e,streamId:o,l_:d.getLastErrorCode(),h_:d.getLastError()})}}finally{te(Sn,`RPC '${e}' ${o} completed.`)}});let h=JSON.stringify(i);te(Sn,`RPC '${e}' ${o} sending request:`,i),d.send(t,"POST",h,r,15)})}P_(e,t,r){let i=XR(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=qA(),a=HA(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let h=s.join("");te(Sn,`Creating RPC '${e}' stream ${i}: ${h}`,c);let m=o.createWebChannel(h,c);this.T_(m);let I=!1,R=!1,k=new eP({Ho:O=>{R?te(Sn,`Not sending because RPC '${e}' stream ${i} is closed:`,O):(I||(te(Sn,`Opening RPC '${e}' stream ${i} transport.`),m.open(),I=!0),te(Sn,`RPC '${e}' stream ${i} sending:`,O),m.send(O))},Yo:()=>m.close()}),V=(O,q,X)=>{O.listen(q,ne=>{try{X(ne)}catch(Pe){setTimeout(()=>{throw Pe},0)}})};return V(m,gd.EventType.OPEN,()=>{R||(te(Sn,`RPC '${e}' stream ${i} transport opened.`),k.s_())}),V(m,gd.EventType.CLOSE,()=>{R||(R=!0,te(Sn,`RPC '${e}' stream ${i} transport closed`),k.__(),this.I_(m))}),V(m,gd.EventType.ERROR,O=>{R||(R=!0,Td(Sn,`RPC '${e}' stream ${i} transport errored. Name:`,O.name,"Message:",O.message),k.__(new oe($.UNAVAILABLE,"The operation could not be completed")))}),V(m,gd.EventType.MESSAGE,O=>{var q;if(!R){let X=O.data[0];bt(!!X,16349);let ne=X,Pe=ne?.error||((q=ne[0])===null||q===void 0?void 0:q.error);if(Pe){te(Sn,`RPC '${e}' stream ${i} received error:`,Pe);let ut=Pe.status,Ne=(function(E){let b=Vt[E];if(b!==void 0)return PZ(b)})(ut),T=Pe.message;Ne===void 0&&(Ne=$.INTERNAL,T="Unknown error status: "+ut+" with message "+Pe.message),R=!0,k.__(new oe(Ne,T)),m.close()}else te(Sn,`RPC '${e}' stream ${i} received:`,X),k.a_(X)}}),V(a,$A.STAT_EVENT,O=>{O.stat===wE.PROXY?te(Sn,`RPC '${e}' stream ${i} detected buffering proxy`):O.stat===wE.NOPROXY&&te(Sn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{k.o_()},0),k}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function GA(){return typeof document<"u"?document:null}function YE(n){return new TR(n,!0)}var HE=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var cj="PersistentStream",nP=class{constructor(e,t,r,i,s,o,a,c){this.Fi=e,this.w_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new HE(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===$.RESOURCE_EXHAUSTED?(Uc(t.toString()),Uc("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new oe($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return te(cj,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(te(cj,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var rP=class extends nP{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return bt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,bt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){bt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=VZ(e.writeResults,e.commitTime),r=Id(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=OZ(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>FZ(this.serializer,r))};this.k_(t)}};var iP=class{},sP=class extends iP{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new oe($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(e,SR(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new oe($.UNKNOWN,s.toString())})}Jo(e,t,r,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Jo(e,SR(t,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new oe($.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},oP=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Uc(t),this._a=!1):te("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var zp="RemoteStore",aP=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(o=>{r.enqueueAndForget(async()=>{Wp(this)&&(te(zp,"Restarting streams for network reachability change."),await(async function(c){let d=ct(c);d.Ia.add(4),await Gp(d),d.Aa.set("Unknown"),d.Ia.delete(4),await JE(d)})(this))})}),this.Aa=new oP(r,i)}};async function JE(n){if(Wp(n))for(let e of n.da)await e(!0)}async function Gp(n){for(let e of n.da)await e(!1)}function Wp(n){return ct(n).Ia.size===0}async function hB(n,e,t){if(!qp(e))throw e;n.Ia.add(1),await Gp(n),n.Aa.set("Offline"),t||(t=()=>KZ(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{te(zp,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await JE(n)})}function fB(n,e){return e().catch(t=>hB(n,t,e))}async function XE(n){let e=ct(n),t=da(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:IP;for(;JZ(e);)try{let i=await QZ(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,XZ(e,i)}catch(i){await hB(e,i)}pB(e)&&mB(e)}function JZ(n){return Wp(n)&&n.Pa.length<10}function XZ(n,e){n.Pa.push(e);let t=da(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function pB(n){return Wp(n)&&!da(n).M_()&&n.Pa.length>0}function mB(n){da(n).start()}async function ZZ(n){da(n).na()}async function eee(n){let e=da(n);for(let t of n.Pa)e.X_(t.mutations)}async function tee(n,e,t){let r=n.Pa.shift(),i=wR.from(r,e,t);await fB(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await XE(n)}async function nee(n,e){e&&da(n).Z_&&await(async function(r,i){if((function(o){return RZ(o)&&o!==$.ABORTED})(i.code)){let s=r.Pa.shift();da(r).N_(),await fB(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await XE(r)}})(n,e),pB(n)&&mB(n)}async function uj(n,e){let t=ct(n);t.asyncQueue.verifyOperationInProgress(),te(zp,"RemoteStore received new credentials");let r=Wp(t);t.Ia.add(3),await Gp(t),r&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await JE(t)}async function ree(n,e){let t=ct(n);e?(t.Ia.delete(2),await JE(t)):e||(t.Ia.add(2),await Gp(t),t.Aa.set("Unknown"))}function da(n){return n.ma||(n.ma=(function(t,r,i){let s=ct(t);return s.ia(),new rP(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:ZZ.bind(null,n),n_:nee.bind(null,n),ea:eee.bind(null,n),ta:tee.bind(null,n)}),n.da.push(async e=>{e?(n.ma.N_(),await XE(n)):(await n.ma.stop(),n.Pa.length>0&&(te(zp,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}var cP=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let o=Date.now()+r,a=new n(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function gB(n,e){if(Uc("AsyncQueue",`${e}: ${n}`),qp(n))return new oe($.UNAVAILABLE,`${e}: ${n}`);throw n}var uP=class{constructor(){this.queries=lj(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=ct(t),s=i.queries;i.queries=lj(),s.forEach((o,a)=>{for(let c of a.wa)c.onError(r)})})(this,new oe($.ABORTED,"Firestore shutting down"))}};function lj(){return new Ms(n=>Jj(n),Yj)}function iee(n){n.Da.forEach(e=>{e.next()})}var dj,hj;(hj=dj||(dj={})).Fa="default",hj.Cache="cache";var see="SyncEngine";var lP=class{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new Ms(a=>Jj(a),Yj),this.Tu=new Map,this.Iu=new Set,this.du=new hr(Re.comparator),this.Eu=new Map,this.Au=new Up,this.Ru={},this.Vu=new Map,this.mu=Vp.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};async function oee(n,e,t){let r=lee(n);try{let i=await(function(o,a){let c=ct(o),d=en.now(),h=a.reduce((R,k)=>R.add(k.key),Dn()),m,I;return c.persistence.runTransaction("Locally write mutations","readwrite",R=>{let k=LE(),V=Dn();return c.Os.getEntries(R,h).next(O=>{k=O,k.forEach((q,X)=>{X.isValidDocument()||(V=V.add(q))})}).next(()=>c.localDocuments.getOverlayedDocuments(R,k)).next(O=>{m=O;let q=[];for(let X of a){let ne=AZ(X,m.get(X.key).overlayedDocument);ne!=null&&q.push(new Os(X.key,ne,qj(ne.value.mapValue),Mc.exists(!0)))}return c.mutationQueue.addMutationBatch(R,d,q,a)}).next(O=>{I=O;let q=O.applyToLocalDocumentSet(m,V);return c.documentOverlayCache.saveOverlays(R,O.batchId,q)})}).then(()=>({batchId:I.batchId,changes:Zj(m)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,a,c){let d=o.Ru[o.currentUser.toKey()];d||(d=new hr(Be)),d=d.insert(a,c),o.Ru[o.currentUser.toKey()]=d})(r,i.batchId,t),await ZE(r,i.changes),await XE(r.remoteStore)}catch(i){let s=gB(i,"Failed to persist write");t.reject(s)}}function fj(n,e,t){let r=ct(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((s,o)=>{let a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(o,a){let c=ct(o);c.onlineState=a;let d=!1;c.queries.forEach((h,m)=>{for(let I of m.wa)I.va(a)&&(d=!0)}),d&&iee(c)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function aee(n,e){let t=ct(n),r=e.batch.batchId;try{let i=await WZ(t.localStore,e);_B(t,r,null),yB(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await ZE(t,i)}catch(i){await EP(i)}}async function cee(n,e,t){let r=ct(n);try{let i=await(function(o,a){let c=ct(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,a).next(m=>(bt(m!==null,37113),h=m.keys(),c.mutationQueue.removeMutationBatch(d,m))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})})(r.localStore,e);_B(r,e,t),yB(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await ZE(r,i)}catch(i){await EP(i)}}function yB(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function _B(n,e,t){let r=ct(n),i=r.Ru[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}async function ZE(n,e,t){let r=ct(n),i=[],s=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((a,c)=>{o.push(r.gu(c,e,t).then(d=>{var h;if((d||t)&&r.isPrimaryClient){let m=d?!d.fromCache:(h=t?.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(d){i.push(d);let m=GR.Es(c.targetId,d);s.push(m)}}))}),await Promise.all(o),r.hu.J_(i),await(async function(c,d){let h=ct(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>H.forEach(d,I=>H.forEach(I.Is,R=>h.persistence.referenceDelegate.addReference(m,I.targetId,R)).next(()=>H.forEach(I.ds,R=>h.persistence.referenceDelegate.removeReference(m,I.targetId,R)))))}catch(m){if(!qp(m))throw m;te(zZ,"Failed to update sequence numbers: "+m)}for(let m of d){let I=m.targetId;if(!m.fromCache){let R=h.Fs.get(I),k=R.snapshotVersion,V=R.withLastLimboFreeSnapshotVersion(k);h.Fs=h.Fs.insert(I,V)}}})(r.localStore,s))}async function uee(n,e){let t=ct(n);if(!t.currentUser.isEqual(e)){te(see,"User change. New user:",e.toKey());let r=await dB(t.localStore,e);t.currentUser=e,(function(s,o){s.Vu.forEach(a=>{a.forEach(c=>{c.reject(new oe($.CANCELLED,o))})}),s.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ZE(t,r.Bs)}}function lee(n){let e=ct(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aee.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cee.bind(null,e),e}var vB=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=YE(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,r){return null}Fu(t,r){return null}vu(t){return GZ(this.persistence,new KR,t.initialUser,this.serializer)}Du(t){return new UE(zR.Vi,this.serializer)}bu(t){return new YR}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return n.provider={build:()=>new n},n})(),dP=class extends vB{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){bt(this.persistence.referenceDelegate instanceof jE,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new kR(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?Pr.withCacheSize(this.cacheSizeBytes):Pr.DEFAULT;return new UE(r=>jE.Vi(r,t),this.serializer)}};var dee=(()=>{class n{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>fj(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=uee.bind(null,this.syncEngine),await ree(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new uP})()}createDatastore(t){let r=YE(t.databaseInfo.databaseId),i=(function(o){return new tP(o)})(t.databaseInfo);return(function(o,a,c,d){return new sP(o,a,c,d)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,s,o,a,c){return new aP(i,s,o,a,c)})(this.localStore,this.datastore,t.asyncQueue,r=>fj(this.syncEngine,r,0),(function(){return $E.C()?new $E:new JR})())}createSyncEngine(t,r){return(function(s,o,a,c,d,h,m){let I=new lP(s,o,a,c,d,h);return m&&(I.fu=!0),I})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await(async function(s){let o=ct(s);te(zp,"RemoteStore shutting down."),o.Ia.add(5),await Gp(o),o.Ea.shutdown(),o.Aa.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}return n.provider={build:()=>new n},n})();var ha="FirestoreClient",hP=class{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=dn.UNAUTHENTICATED,this.clientId=xp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{te(ha,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(te(ha,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=gB(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function WA(n,e){n.asyncQueue.verifyOperationInProgress(),te(ha,"Initializing OfflineComponentProvider");let t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await dB(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{Td("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{te("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Td("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e}async function pj(n,e){n.asyncQueue.verifyOperationInProgress();let t=await hee(n);te(ha,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>uj(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>uj(e.remoteStore,i)),n._onlineComponents=e}async function hee(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){te(ha,"Using user provided OfflineComponentProvider");try{await WA(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===$.FAILED_PRECONDITION||i.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Td("Error using user provided cache. Falling back to memory cache: "+t),await WA(n,new vB)}}else te(ha,"Using default OfflineComponentProvider"),await WA(n,new dP(void 0));return n._offlineComponents}async function fee(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(te(ha,"Using user provided OnlineComponentProvider"),await pj(n,n._uninitializedComponentsProvider._online)):(te(ha,"Using default OnlineComponentProvider"),await pj(n,new dee))),n._onlineComponents}function pee(n){return fee(n).then(e=>e.syncEngine)}function EB(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var mj=new Map;var IB="firestore.googleapis.com",gj=!0,qE=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new oe($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=IB,this.ssl=gj}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:gj;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lB;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<HZ)throw new oe($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qX("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=EB((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},jp=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new KA;switch(r.type){case"firstParty":return new XA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oe($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=mj.get(t);r&&(te("ComponentProvider","Removing Datastore"),mj.delete(t),r.terminate())})(this),Promise.resolve()}};function wB(n,e,t,r={}){var i;n=tR(n,jp);let s=Xo(e),o=n._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;s&&(Wv(`https://${c}`),Kv("Firestore",!0)),o.host!==IB&&o.host!==c&&Td("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let d=Object.assign(Object.assign({},o),{host:c,ssl:s,emulatorOptions:r});if(!Vi(d,a)&&(n._setSettings(d),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=dn.MOCK_USER;else{h=o2(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let I=r.mockUserToken.sub||r.mockUserToken.user_id;if(!I)throw new oe($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new dn(I)}n._authCredentials=new QA(new RE(h,m))}}var fP=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},dr=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bp(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Hp(t,n._jsonSchema))return new n(e,r||null,new Re(Zt.fromString(t.referencePath)))}};dr._jsonSchemaVersion="firestore/documentReference/1.0",dr._jsonSchema={type:Bt("string",dr._jsonSchemaVersion),referencePath:Bt("string")};var Bp=class n extends fP{constructor(e,t,r){super(e,t,fZ(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new dr(this.firestore,null,new Re(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function bB(n,e,...t){if(n=Gn(n),arguments.length===1&&(e=xp.newId()),HX("doc","path",e),n instanceof jp){let r=Zt.fromString(e,...t);return $U(r),new dr(n,null,new Re(r))}{if(!(n instanceof dr||n instanceof Bp))throw new oe($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Zt.fromString(e,...t));return $U(r),new dr(n.firestore,n instanceof Bp?n.converter:null,new Re(r))}}var yj="AsyncQueue",zE=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new HE(this,"async_queue_retry"),this.oc=()=>{let r=GA();r&&te(yj,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=GA();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=GA();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new ks;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!qp(e))throw e;te(yj,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Uc("INTERNAL UNHANDLED ERROR: ",_j(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=cP.createAndSchedule(this,e,t,r,s=>this.lc(s));return this.ec.push(i),i}ac(){this.tc&&Se(47125,{hc:_j(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function _j(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}var GE=class extends jp{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new zE,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new zE(e),this._firestoreClient=void 0,await e}}};function TB(n,e){let t=typeof n=="object"?n:Cc(),r=typeof n=="string"?n:e||ME,i=dd(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=s2("firestore");s&&wB(i,...s)}return i}function mee(n){if(n._terminated)throw new oe($.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||gee(n),n._firestoreClient}function gee(n){var e,t,r;let i=n._freezeSettings(),s=(function(a,c,d,h){return new sR(a,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,EB(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new hP(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&(function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}})(n._componentsProvider))}var Oc=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(xs.fromBase64String(e))}catch(t){throw new oe($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(xs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Hp(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};Oc._jsonSchemaVersion="firestore/bytes/1.0",Oc._jsonSchema={type:Bt("string",Oc._jsonSchemaVersion),bytes:Bt("string")};var $p=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new oe($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var WE=class{constructor(e){this._methodName=e}};var Lc=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new oe($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new oe($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Hp(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};Lc._jsonSchemaVersion="firestore/geoPoint/1.0",Lc._jsonSchema={type:Bt("string",Lc._jsonSchemaVersion),latitude:Bt("number"),longitude:Bt("number")};var Fc=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Hp(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new oe($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Fc._jsonSchemaVersion="firestore/vectorValue/1.0",Fc._jsonSchema={type:Bt("string",Fc._jsonSchemaVersion),vectorValues:Bt("object")};var yee=/^__.*__$/,pP=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Os(e,this.data,this.fieldMask,t,this.fieldTransforms):new zc(e,this.data,t,this.fieldTransforms)}};function CB(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ec:n})}}var mP=class n{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return KE(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(CB(this.Ec)&&yee.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},gP=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||YE(e)}Dc(e,t,r,i=!1){return new mP({Ec:e,methodName:t,bc:r,path:lr.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function _ee(n){let e=n._freezeSettings(),t=YE(n._databaseId);return new gP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function vee(n,e,t,r,i,s={}){let o=n.Dc(s.merge||s.mergeFields?2:0,e,t,i);RB("Data must be an object, but it was:",o,r);let a=DB(r,o),c,d;if(s.merge)c=new qi(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){let h=[];for(let m of s.mergeFields){let I=Eee(e,m,t);if(!o.contains(I))throw new oe($.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);wee(h,I)||h.push(I)}c=new qi(h),d=o.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,d=o.fieldTransforms;return new pP(new Hi(a),c,d)}function SB(n,e){if(AB(n=Gn(n)))return RB("Unsupported field value:",e,n),DB(n,e);if(n instanceof WE)return(function(r,i){if(!CB(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let s=[],o=0;for(let a of r){let c=SB(a,i.yc(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}})(n,e)}return(function(r,i){if((r=Gn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return bZ(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=en.fromDate(r);return{timestampValue:CR(i.serializer,s)}}if(r instanceof en){let s=new en(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:CR(i.serializer,s)}}if(r instanceof Lc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Oc)return{bytesValue:NZ(i.serializer,r._byteString)};if(r instanceof dr){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:cB(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Fc)return(function(o,a){return{mapValue:{fields:{[CP]:{stringValue:SP},[Lp]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw a.wc("VectorValues must only contain numeric values.");return NP(a.serializer,d)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${vP(r)}`)})(n,e)}function DB(n,e){let t={};return Lj(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fd(n,(r,i)=>{let s=SB(i,e.Vc(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function AB(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof en||n instanceof Lc||n instanceof Oc||n instanceof dr||n instanceof WE||n instanceof Fc)}function RB(n,e,t){if(!AB(t)||!Ej(t)){let r=vP(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function Eee(n,e,t){if((e=Gn(e))instanceof $p)return e._internalPath;if(typeof e=="string")return PB(n,e);throw KE("Field path arguments must be of type string or ",n,!1,void 0,t)}var Iee=new RegExp("[~\\*/\\[\\]]");function PB(n,e,t){if(e.search(Iee)>=0)throw KE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new $p(...e.split("."))._internalPath}catch{throw KE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function KE(n,e,t,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new oe($.INVALID_ARGUMENT,a+n+c)}function wee(n,e){return n.some(t=>t.isEqual(e))}var QE=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new dr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new yP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(NB("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},yP=class extends QE{data(){return super.data()}};function NB(n,e){return typeof e=="string"?PB(n,e):e instanceof $p?e._internalPath:e._delegate._internalPath}function bee(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Ed=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},wd=class n extends QE{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new bd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(NB("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};wd._jsonSchemaVersion="firestore/documentSnapshot/1.0",wd._jsonSchema={type:Bt("string",wd._jsonSchemaVersion),bundleSource:Bt("string","DocumentSnapshot"),bundleName:Bt("string"),bundle:Bt("string")};var bd=class extends wd{data(e={}){return super.data(e)}},kp=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ed(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new bd(this._firestore,this._userDataWriter,r.key,r,new Ed(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new oe($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new bd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ed(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new bd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ed(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,h=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:Tee(a.type),doc:c,oldIndex:d,newIndex:h}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=xp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(t.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function Tee(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:n})}}kp._jsonSchemaVersion="firestore/querySnapshot/1.0",kp._jsonSchema={type:Bt("string",kp._jsonSchemaVersion),bundleSource:Bt("string","QuerySnapshot"),bundleName:Bt("string"),bundle:Bt("string")};function kB(n,e,t){n=tR(n,dr);let r=tR(n.firestore,GE),i=bee(n.converter,e,t);return Cee(r,[vee(_ee(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Mc.none())])}function Cee(n,e){return(function(r,i){let s=new ks;return r.asyncQueue.enqueueAndForget(async()=>oee(await pee(r),i,s)),s.promise})(mee(n),e)}(function(e,t=!0){(function(i){Ld=i})(ea),ri(new Fn("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new GE(new YA(r.getProvider("auth-internal")),new ZA(o,r.getProvider("app-check-internal")),(function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new oe($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oR(d.options.projectId,h)})(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),It(VU,UU,e),It(VU,UU,"esm2017")})();var Gc=class{constructor(e){return e}},xB="firestore",kP=class{constructor(){return fd(xB)}};var xP=new Z("angularfire2.firestore-instances");function See(n,e){let t=fp(xB,n,e);return t&&new Gc(t)}function Dee(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Gc(r)}}var Aee={provide:kP,deps:[[new tr,xP]]},Ree={provide:Gc,useFactory:See,deps:[[new tr,xP],Ds]};function MB(n,...e){return It("angularfire",ta.full,"fst"),mr([Ree,Aee,{provide:xP,useFactory:Dee(n),multi:!0,deps:[lt,vt,na,Dc,[new tr,Cp],[new tr,pd],...e]}])}var OB=ji(bB,!0,2);var LB=ji(TB,!0);var FB=ji(kB,!0,2);var eI=class n{auth=U(Ps);router=U(at);firestore=U(Gc);name="";email="";password="";theme="green";async registerUser(){if(!this.name||!this.email||!this.password){alert("Molimo popunite sva polja!");return}try{let e=await sC(this.auth,this.email,this.password);await oC(e.user,{displayName:this.name});let t=e.user.uid,r=OB(this.firestore,`users/${t}`);await FB(r,{name:this.name,email:this.email,theme:this.theme,trackers:[]}),alert("Registracija uspje\u0161na!"),this.router.navigate(["/dashboard"])}catch(e){console.error("Gre\u0161ka pri registraciji:",e),alert("Gre\u0161ka: "+e.message)}}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ue({type:n,selectors:[["app-register"]],decls:39,vars:4,consts:[[1,"site-header"],[1,"logo-wrap"],["src","/assets/slike/logo-ipi.png","alt","Logo",1,"logo"],[1,"page-main"],[1,"auth-article"],[1,"register-container"],[3,"ngSubmit"],[1,"form-group"],["type","text","name","name","required","",3,"ngModelChange","ngModel"],["type","email","name","email","required","",3,"ngModelChange","ngModel"],["type","password","name","password","required","",3,"ngModelChange","ngModel"],["name","theme",3,"ngModelChange","ngModel"],["value","green"],["value","blue"],["value","pink"],["value","orange"],["value","dark"],["value","cyberpunk"],["type","submit",1,"register-btn"]],template:function(t,r){t&1&&(P(0,"header",0)(1,"div",1),K(2,"img",2),N()(),P(3,"main",3)(4,"article",4)(5,"div",5)(6,"h2"),D(7,"Registracija"),N(),P(8,"form",6),ie("ngSubmit",function(){return r.registerUser()}),P(9,"div",7)(10,"label"),D(11,"Ime:"),N(),P(12,"input",8),tt("ngModelChange",function(s){return ot(r.name,s)||(r.name=s),s}),N()(),P(13,"div",7)(14,"label"),D(15,"Email:"),N(),P(16,"input",9),tt("ngModelChange",function(s){return ot(r.email,s)||(r.email=s),s}),N()(),P(17,"div",7)(18,"label"),D(19,"Password:"),N(),P(20,"input",10),tt("ngModelChange",function(s){return ot(r.password,s)||(r.password=s),s}),N()(),P(21,"div",7)(22,"label"),D(23,"Odaberi temu:"),N(),P(24,"select",11),tt("ngModelChange",function(s){return ot(r.theme,s)||(r.theme=s),s}),P(25,"option",12),D(26,"Zelena"),N(),P(27,"option",13),D(28,"Plava"),N(),P(29,"option",14),D(30,"Roza"),N(),P(31,"option",15),D(32,"Narand\u017Easta"),N(),P(33,"option",16),D(34,"Dark"),N(),P(35,"option",17),D(36,"Cyberpunk"),N()()(),P(37,"button",18),D(38,"Registruj se"),N()()()()()),t&2&&(J(12),et("ngModel",r.name),J(4),et("ngModel",r.email),J(4),et("ngModel",r.password),J(4),et("ngModel",r.theme))},dependencies:[gt,td,Mv,Ov,Ft,nd,un,ed,op,Xt,wc,yn],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.site-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:12px 0;background:transparent}.logo-wrap[_ngcontent-%COMP%]{margin-bottom:8px}.logo[_ngcontent-%COMP%]{height:60px}.page-main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:calc(100vh - 140px);width:100%}.auth-article[_ngcontent-%COMP%]{width:80%;max-width:1100px;margin:0 auto;display:flex;justify-content:center}.register-container[_ngcontent-%COMP%]{width:480px;margin:40px auto;padding:36px;background-color:#fff;color:#2c3e50;border-radius:10px;box-shadow:0 6px 18px #0000001f;text-align:center;font-family:Arial,sans-serif}.register-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:20px;color:#1e73be}.form-group[_ngcontent-%COMP%]{margin-bottom:15px;text-align:left}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:#333;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:5px;border:2px solid #ddd;outline:none;font-size:14px;box-sizing:border-box;transition:border-color .3s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#1e73be;box-shadow:0 0 5px #007bff4d}.register-btn[_ngcontent-%COMP%]{width:100%;padding:12px;border:none;border-radius:5px;background-color:#1e73be;color:#fff;font-weight:700;cursor:pointer;font-size:16px;transition:background-color .3s;margin-top:20px}.register-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.alt[_ngcontent-%COMP%]{text-align:center;font-size:14px;margin-top:10px}.linkish[_ngcontent-%COMP%]{padding:6px 10px;border:none;border-radius:5px;background-color:#1e73be;color:#fff;font-weight:700;cursor:pointer;font-size:12px;transition:background-color .3s;margin-left:8px}.linkish[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})};var tI=class n{constructor(e){this.router=e}navigate(e,t){t&&t.preventDefault(),this.router.navigate([e])}static \u0275fac=function(t){return new(t||n)(se(at))};static \u0275cmp=ue({type:n,selectors:[["app-courses"]],decls:46,vars:0,consts:[["src","/assets/slike/tecajevi3.jpg","alt","Kursevi IPI"],["start","9"]],template:function(t,r){t&1&&(K(0,"app-header"),P(1,"article")(2,"h2"),D(3,"Popis kurseva"),N(),K(4,"img",0),P(5,"h3"),D(6,"Kursevi o osnovama upotrebe ra\u010Dunara i Interneta"),N(),P(7,"ol")(8,"li"),D(9,"Osnove ra\u010Dunala (Windows)"),N(),P(10,"li"),D(11,"Osnove komunikacija (Internet Explorer, Microsoft Outlook)"),N(),P(12,"li"),D(13,"Obrada teksta (Word)"),N(),P(14,"li"),D(15,"Prora\u010Dunske tablice (Excel)"),N(),P(16,"li"),D(17,"Uporaba baza podataka (Access)"),N(),P(18,"li"),D(19,"Prezentacije (PowerPoint)"),N(),P(20,"li"),D(21,"IT sigurnost"),N(),P(22,"li"),D(23,"Online suradnja"),N()(),P(24,"h3"),D(25,"Te\u010Dajevi o "),P(26,"em"),D(27,"web"),N(),D(28,"-tehnologijama, izradi "),P(29,"em"),D(30,"web"),N(),D(31,"-stranica i "),P(32,"em"),D(33,"web"),N(),D(34,"-sjedi\u0161ta"),N(),P(35,"ol",1)(36,"li"),D(37,"Uvod u HTML"),N(),P(38,"li"),D(39,"Uvod u CSS"),N(),P(40,"li"),D(41,"Osnove JavaScripta"),N(),P(42,"li"),D(43,"Uvod u XML"),N()()(),P(44,"footer"),D(45,"\xA9 Internacionalna poslovno-informaciona akademija Tuzla "),N())},dependencies:[ve,yn,Fi],styles:["html[_ngcontent-%COMP%]{background:#e9f0f7}body[_ngcontent-%COMP%]{font-size:14px;font-family:Arial,Verdana,sans-serif;color:#2c3e50;margin:0;line-height:1.6}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:active{color:#1e73be;font-weight:700;transition:color .2s ease}a[_ngcontent-%COMP%]:hover{color:#0d47a1;text-decoration:underline}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#1565c0}article[_ngcontent-%COMP%]{width:80%;margin:0 auto;background-color:#fff;box-shadow:0 0 15px #0000001a;padding:30px 50px;box-sizing:border-box;border-bottom:3px solid #1e73be;min-height:calc(100vh - 220px);border-radius:0 0 8px 8px}article[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{float:right;margin-right:15px;margin-bottom:15px;border-radius:6px;box-shadow:0 0 10px #0000001a;max-width:300px;width:100%;height:auto}article[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:15px 0;padding-left:40px}article[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px}footer[_ngcontent-%COMP%]{width:80%;margin:0 auto;padding:20px 0;background:#1e73be;color:#fff;text-align:center;box-shadow:0 0 15px #0000001a;border-radius:0 0 8px 8px}@media(max-width:768px){article[_ngcontent-%COMP%]{width:90%;padding:20px 30px}article[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{float:none;display:block;margin:20px auto}article[_ngcontent-%COMP%], footer[_ngcontent-%COMP%]{width:90%}}"]})};var nI=class n{router=U(at);navigate(e,t){t&&t.preventDefault(),this.router.navigate([e])}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ue({type:n,selectors:[["app-raspored"]],decls:114,vars:0,consts:[["src","/assets/slike/tecajevi2.jpg","alt","Te\u010Dajevi Srca"],["border","1"]],template:function(t,r){t&1&&(K(0,"app-header"),P(1,"article")(2,"h2"),D(3,"Raspored kurseva"),N(),P(4,"p"),D(5,"Objavljen je raspored kurseva za juni."),N(),K(6,"img",0),P(7,"table",1)(8,"tr")(9,"th"),D(10,"Kurs"),N(),P(11,"th"),D(12,"\u0160ifra"),N(),P(13,"th"),D(14,"Po\u010Detak"),N(),P(15,"th"),D(16,"Sat"),N(),P(17,"th"),D(18,"Trajanje"),N(),P(19,"th"),D(20,"U\u010Dionica"),N()(),P(21,"tr")(22,"td"),D(23,"Uporaba baza podataka (Access)"),N(),P(24,"td"),D(25,"E504"),N(),P(26,"td"),D(27,"Ponedjeljak, 15.09.2014."),N(),P(28,"td"),D(29,"09:00"),N(),P(30,"td"),D(31,"4 x 4"),N(),P(32,"td"),D(33,"Srce-A"),N()(),P(34,"tr")(35,"td"),D(36,"Obrada teksta (Word)"),N(),P(37,"td"),D(38,"E304"),N(),P(39,"td"),D(40,"Ponedjeljak, 15.09.2014."),N(),P(41,"td"),D(42,"17:30"),N(),P(43,"td"),D(44,"4 x 4"),N(),P(45,"td"),D(46,"Srce-B"),N()(),P(47,"tr")(48,"td"),D(49,"Wordionica ili kako oblikovati seminarski rad"),N(),P(50,"td"),D(51,"R100"),N(),P(52,"td"),D(53,"\u010Cetvrtak, 18.09.2014."),N(),P(54,"td"),D(55,"09:00"),N(),P(56,"td"),D(57,"1 x 5"),N(),P(58,"td"),D(59,"Srce-E1"),N()(),P(60,"tr")(61,"td"),D(62,"Prezentacije (PowerPoint)"),N(),P(63,"td"),D(64,"E604"),N(),P(65,"td"),D(66,"Subota, 20.09.2014."),N(),P(67,"td"),D(68,"09:00"),N(),P(69,"td"),D(70,"2 x 6"),N(),P(71,"td"),D(72,"Srce-B"),N()(),P(73,"tr")(74,"td"),D(75,"Prora\u010Dunske tablice - napredna razina (Excel)"),N(),P(76,"td"),D(77,"E414"),N(),P(78,"td"),D(79,"Subota, 20.09.2014."),N(),P(80,"td"),D(81,"09:00"),N(),P(82,"td"),D(83,"2 x 8"),N(),P(84,"td"),D(85,"Srce-B"),N()(),P(86,"tr")(87,"td"),D(88,"Baze podataka - napredna razina (Access)"),N(),P(89,"td"),D(90,"E514"),N(),P(91,"td"),D(92,"Ponedjeljak, 29.09.2014."),N(),P(93,"td"),D(94,"09:00"),N(),P(95,"td"),D(96,"4 x 4"),N(),P(97,"td"),D(98,"Srce-A"),N()(),P(99,"tr")(100,"td"),D(101,"Exceliranje ili kako izraditi tablice, grafikone i formule"),N(),P(102,"td"),D(103,"R200"),N(),P(104,"td"),D(105,"Utorak, 30.09.2014."),N(),P(106,"td"),D(107,"09:00"),N(),P(108,"td"),D(109,"1 x 5"),N(),P(110,"td"),D(111,"Srce-E1"),N()()()(),P(112,"footer"),D(113,"\xA9 Internacionalna poslovno-informaciona akademija Tuzla"),N())},dependencies:[ve,yn,Fi],styles:["html[_ngcontent-%COMP%]{background:#e9f0f7}body[_ngcontent-%COMP%]{font-size:14px;font-family:Arial,Verdana,sans-serif;color:#2c3e50;margin:0;line-height:1.6}header[_ngcontent-%COMP%]{width:100%;background-color:#fff;box-shadow:0 0 15px #0000001a;display:flex;flex-direction:column}.header-logo[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:15px 0;background-color:#fff}.logo[_ngcontent-%COMP%]{flex:0 0 auto;display:flex;align-items:center}header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:80px;width:auto}nav[_ngcontent-%COMP%]{width:100%;background-color:#1e73be;border-top:3px solid #1565c0;border-bottom:3px solid #1565c0}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;justify-content:center;gap:15px;flex-wrap:wrap}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-transform:uppercase;font-weight:600;letter-spacing:.5px;text-decoration:none;border-radius:4px;transition:background .3s ease,color .3s ease;padding:12px 15px;font-size:13px;display:inline-block}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#0d47a1}.nav-btn[_ngcontent-%COMP%]{border:2px solid white;padding:10px 15px;font-size:12px}.login-btn[_ngcontent-%COMP%]{background-color:#0d47a1;border-color:#0d47a1;color:#fff}.login-btn[_ngcontent-%COMP%]:hover{background-color:#051c5e}.register-btn[_ngcontent-%COMP%]{background-color:#0d47a1;border-color:#0d47a1;color:#fff}.register-btn[_ngcontent-%COMP%]:hover{background-color:#051c5e}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:active{color:#1e73be;font-weight:700;transition:color .2s ease}a[_ngcontent-%COMP%]:hover{color:#0d47a1;text-decoration:underline}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#1565c0}article[_ngcontent-%COMP%]{width:80%;margin:0 auto;background-color:#fff;box-shadow:0 0 15px #0000001a;padding:30px 50px;box-sizing:border-box;border-bottom:3px solid #1e73be;min-height:calc(100vh - 220px);border-radius:0 0 8px 8px}article[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{float:right;margin-right:15px;margin-bottom:15px;border-radius:6px;box-shadow:0 0 10px #0000001a;max-width:300px;width:100%;height:auto}article[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:15px 0;padding-left:40px}article[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px}footer[_ngcontent-%COMP%]{width:80%;margin:0 auto;padding:20px 0;background:#1e73be;color:#fff;text-align:center;box-shadow:0 0 15px #0000001a;border-radius:0 0 8px 8px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin:20px 0;background-color:#fff;box-shadow:0 0 10px #0000001a;border-radius:8px;overflow:hidden;font-size:14px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 15px;text-align:left}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#1e73be;color:#fff;font-weight:600;text-transform:uppercase}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f4f7fa}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#dbe9f7;transition:background .3s ease}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #e1eaff}"]})};var rI=class n{constructor(e){this.router=e}navigate(e,t){t&&t.preventDefault(),this.router.navigate([e])}validateForm(){let e=document.getElementById("ime").value.trim(),t=document.getElementById("email").value.trim(),r=document.getElementById("tema").value,i=document.getElementById("poruka").value.trim(),s=document.getElementById("privatnost").checked;return!e||!t||!r||!i||!s?(alert("Molimo ispunite sva polja i prihvatite politiku privatnosti."),!1):(alert("Va\u0161a poruka je uspje\u0161no poslana! Hvala vam."),!0)}static \u0275fac=function(t){return new(t||n)(se(at))};static \u0275cmp=ue({type:n,selectors:[["app-kontakt"]],decls:72,vars:0,consts:[["src","/assets/slike/srce.jpg","alt","Srce",1,"kontakt-srce"],["href","mailto:info@ipi-akademija.ba"],[2,"margin","30px 0","border","none","border-top","2px solid #1e73be"],[1,"kontakt-forma"],[3,"submit"],["for","ime"],["type","text","id","ime","placeholder","Va\u0161e ime i prezime","required",""],["for","email"],["type","email","id","email","placeholder","npr. ime@domena.com","required",""],["for","tema"],["id","tema","required",""],["value",""],["value","upis"],["value","raspored"],["value","tehnicka"],["value","ostalo"],["for","poruka"],["id","poruka","rows","5","placeholder","Va\u0161a poruka...","required",""],["type","checkbox","id","privatnost","required",""],["for","privatnost"],["href","#"],["type","submit"],[1,"kontakt-mapa"],["src",N0`https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2843.765443522128!2d18.671060776591176!3d44.5404349945972!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x475ead18c8b55eff%3A0x26cffbf67ffbb9e2!2sInternacionalna%20poslovno-informaciona%20akademija!5e0!3m2!1shr!2sba!4v1762985790973!5m2!1shr!2sba`,"width","100%","height","350","allowfullscreen","","loading","lazy","referrerpolicy","no-referrer-when-downgrade"]],template:function(t,r){t&1&&(K(0,"app-header"),P(1,"article")(2,"h2"),D(3,"Kontakt"),N(),K(4,"img",0),P(5,"p"),D(6,"Do IPI-ja se mo\u017Ee do\u0107i javnim gradskim prevozom ili taksijem."),N(),P(7,"p"),D(8,"Na\u0161a adresa je:"),N(),P(9,"p"),D(10," Sveu\u010Dili\u0161ni ra\u010Dunski centar"),K(11,"br"),D(12," Kulina bana br. 2 (Skver)"),K(13,"br"),D(14," Tuzla"),K(15,"br"),D(16," 75000"),K(17,"br"),D(18," Bosna i Hercegovina"),K(19,"br"),P(20,"a",1),D(21,"info@ipi-akademija.ba"),N()(),K(22,"hr",2),P(23,"section",3)(24,"h3"),D(25,"Po\u0161aljite nam poruku"),N(),P(26,"form",4),ie("submit",function(s){return r.validateForm(),s.preventDefault()}),P(27,"fieldset")(28,"legend"),D(29,"Va\u0161i podaci"),N(),P(30,"label",5),D(31,"Ime i prezime:"),N(),K(32,"input",6)(33,"br"),P(34,"label",7),D(35,"E-mail adresa:"),N(),K(36,"input",8)(37,"br"),P(38,"label",9),D(39,"Tema poruke:"),N(),P(40,"select",10)(41,"option",11),D(42,"-- Odaberite temu --"),N(),P(43,"option",12),D(44,"Upis na kurseve"),N(),P(45,"option",13),D(46,"Raspored kurseva"),N(),P(47,"option",14),D(48,"Tehni\u010Dka podr\u0161ka"),N(),P(49,"option",15),D(50,"Ostalo"),N()(),K(51,"br"),P(52,"label",16),D(53,"Poruka:"),N(),K(54,"textarea",17)(55,"br")(56,"input",18),P(57,"label",19),D(58,"Prihvatam "),P(59,"a",20),D(60,"politiku privatnosti"),N(),D(61,"."),N(),K(62,"br")(63,"br"),P(64,"button",21),D(65,"Po\u0161alji poruku"),N()()()(),P(66,"section",22)(67,"h3"),D(68,"Prona\u0111ite nas na karti"),N(),K(69,"iframe",23),N()(),P(70,"footer"),D(71,"\xA9 Internacionalna poslovno-informaciona akademija Tuzla"),N())},dependencies:[ve,yn,Fi],styles:["html[_ngcontent-%COMP%]{background:#e9f0f7}body[_ngcontent-%COMP%]{font-size:14px;font-family:Arial,Verdana,sans-serif;color:#2c3e50;margin:0;line-height:1.6}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:active{color:#1e73be;font-weight:700;transition:color .2s ease}a[_ngcontent-%COMP%]:hover{color:#0d47a1;text-decoration:underline}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#1565c0}article[_ngcontent-%COMP%]{width:80%;margin:0 auto;background-color:#fff;box-shadow:0 0 15px #0000001a;padding:30px 50px;box-sizing:border-box;border-bottom:3px solid #1e73be;min-height:calc(100vh - 220px);border-radius:0 0 8px 8px}article[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{float:right;margin-right:15px;margin-bottom:15px;border-radius:6px;box-shadow:0 0 10px #0000001a;max-width:300px;width:100%;height:auto}article[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:15px 0;padding-left:40px}article[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px}footer[_ngcontent-%COMP%]{width:80%;margin:0 auto;padding:20px 0;background:#1e73be;color:#fff;text-align:center;box-shadow:0 0 15px #0000001a;border-radius:0 0 8px 8px}.kontakt-forma[_ngcontent-%COMP%]{margin:30px 0;padding:20px;background-color:#f9f9f9;border:2px solid #1e73be;border-radius:8px;box-shadow:0 0 10px #0000001a}.kontakt-forma[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#1565c0;margin-bottom:20px;text-align:center}.kontakt-forma[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]{border:1px solid #1e73be;border-radius:6px;padding:15px 20px}.kontakt-forma[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{font-weight:700;color:#0d47a1;padding:0 10px}.kontakt-forma[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-top:15px;margin-bottom:5px;font-weight:600}.kontakt-forma[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .kontakt-forma[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .kontakt-forma[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .kontakt-forma[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box;font-size:14px}.kontakt-forma[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}.kontakt-forma[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-right:8px}.kontakt-forma[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{margin-top:20px;padding:12px 20px;background-color:#1e73be;border:none;color:#fff;font-size:14px;font-weight:700;border-radius:4px;cursor:pointer;transition:background .3s ease}.kontakt-forma[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0d47a1}@media(max-width:768px){.kontakt-forma[_ngcontent-%COMP%]{padding:15px}.kontakt-forma[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .kontakt-forma[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .kontakt-forma[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .kontakt-forma[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font-size:13px}}.kontakt-srce[_ngcontent-%COMP%]{display:block;margin:-10px auto 20px;max-width:100%;height:auto}@media(max-width:768px){article[_ngcontent-%COMP%]{width:90%;padding:20px 30px}article[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{float:none;display:block;margin:20px auto}article[_ngcontent-%COMP%], footer[_ngcontent-%COMP%]{width:90%}}"]})};var VB=[{path:"",component:Hv},{path:"login",component:vE},{path:"register",component:eI},{path:"courses",component:tI},{path:"schedule",component:nI},{path:"contact",component:rI},{path:"dashboard",component:r_,children:[{path:"profile",component:Tv},{path:"trackers",component:Lv},{path:"trackers/habit",component:rd},{path:"trackers/sleep",component:id},{path:"trackers/study",component:sd},{path:"trackers/yoga",component:od},{path:"trackers/task",component:ad},{path:"trackers/water",component:cd},{path:"student-fun-zone",component:$v,children:e2}]},{path:"**",redirectTo:""}];var UB={production:!1,firebaseConfig:{apiKey:"AIzaSyDmSchuoPoY5zFyicFtyF__c-YQnePDZbs",authDomain:"wp-2-dzenita-kapetanovic.firebaseapp.com",projectId:"wp-2-dzenita-kapetanovic",storageBucket:"wp-2-dzenita-kapetanovic.firebasestorage.app",messagingSenderId:"774511551788",appId:"1:774511551788:web:e8fb398f7ac8d66691b889",measurementId:"G-HY66C4XF4P"}};Ob(n_,{providers:[uT(VB),S2(()=>D2(UB.firebaseConfig)),kU(()=>xU()),MB(()=>LB())]}).catch(n=>console.error(n));
