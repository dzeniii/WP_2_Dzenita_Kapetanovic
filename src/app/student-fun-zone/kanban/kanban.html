<h3>Kanban ploča</h3>

<div class="toolbar">
  <button (click)="openTaskModal()">Dodaj zadatak</button>
  <button (click)="saveBoard()">Snimi</button>
  <button (click)="clearBoard()">Očisti ploču</button>
</div>

<!-- Task Modal -->
<div class="modal" [style.display]="showTaskModal ? 'block' : 'none'">
  <div class="modal-content">
    <h3>Dodaj zadatak</h3>
    <input 
      type="text" 
      [(ngModel)]="taskInput" 
      placeholder="Vaš zadatak..."
      (keyup.enter)="addTask()"
    />
    <div class="modal-buttons">
      <button (click)="addTask()">Dodaj</button>
      <button (click)="closeTaskModal()">Poništi</button>
    </div>
  </div>
</div>

<!-- Clear Modal -->
<div class="modal" [style.display]="showClearModal ? 'block' : 'none'">
  <div class="modal-content">
    <h3>Očisti cijelu ploču?</h3>
    <p>Ova se radnja ne može poništiti.</p>
    <div class="modal-buttons">
      <button style="background: #e74c3c;" (click)="confirmClear()">Očisti</button>
      <button (click)="cancelClear()">Poništi</button>
    </div>
  </div>
</div>

<!-- Kanban Board -->
<div class="board">
  <div *ngFor="let column of columns" class="column">
    <h2>{{ column.title }}</h2>
    <div 
      class="taskList"
      (dragover)="onDragOver($event)"
      (drop)="onDrop(column.status)"
    >
      <div 
        *ngFor="let task of getTasksByStatus(column.status)" 
        class="task"
        draggable="true"
        (dragstart)="onDragStart(task)"
      >
        <div class="task-content">{{ task.text }}</div>
        <button class="delete-btn" (click)="deleteTask(task.id)">✕</button>
      </div>
    </div>
  </div>
</div>
