var kB=Object.defineProperty,xB=Object.defineProperties;var MB=Object.getOwnPropertyDescriptors;var Im=Object.getOwnPropertySymbols;var SP=Object.prototype.hasOwnProperty,DP=Object.prototype.propertyIsEnumerable;var CP=(n,e,t)=>e in n?kB(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,j=(n,e)=>{for(var t in e||={})SP.call(e,t)&&CP(n,t,e[t]);if(Im)for(var t of Im(e))DP.call(e,t)&&CP(n,t,e[t]);return n},ue=(n,e)=>xB(n,MB(e));var oI=(n,e)=>{var t={};for(var r in n)SP.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Im)for(var r of Im(n))e.indexOf(r)<0&&DP.call(n,r)&&(t[r]=n[r]);return t};var En=null,wm=!1,lI=1,OB=null,An=Symbol("SIGNAL");function Ie(n){let e=En;return En=n,e}function Tm(){return En}var oh={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ah(n){if(wm)throw new Error("");if(En===null)return;En.consumerOnSignalRead(n);let e=En.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=En.recomputing;if(r&&(t=e!==void 0?e.nextProducer:En.producers,t!==void 0&&t.producer===n)){En.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===En&&(!r||FB(i,En)))return;let s=_u(En),o={producer:n,consumer:En,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};En.producersTail=o,e!==void 0?e.nextProducer=o:En.producers=o,s&&NP(n,o)}function AP(){lI++}function dI(n){if(!(_u(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===lI)){if(!n.producerMustRecompute(n)&&!Sm(n)){uI(n);return}n.producerRecomputeValue(n),uI(n)}}function hI(n){if(n.consumers===void 0)return;let e=wm;wm=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||LB(r)}}finally{wm=e}}function fI(){return En?.consumerAllowSignalWrites!==!1}function LB(n){n.dirty=!0,hI(n),n.consumerMarkedDirty?.(n)}function uI(n){n.dirty=!1,n.lastCleanEpoch=lI}function ch(n){return n&&RP(n),Ie(n)}function RP(n){n.producersTail=void 0,n.recomputing=!0}function Cm(n,e){Ie(e),n&&PP(n)}function PP(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(_u(n))do t=pI(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function Sm(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(dI(t),r!==t.version))return!0}return!1}function uh(n){if(_u(n)){let e=n.producers;for(;e!==void 0;)e=pI(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function NP(n,e){let t=n.consumersTail,r=_u(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)NP(i.producer,i)}function pI(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!_u(e)){let s=e.producers;for(;s!==void 0;)s=pI(s)}return t}function _u(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function mI(n){OB?.(n)}function FB(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function gI(n,e){return Object.is(n,e)}function Dm(n,e){let t=Object.create(VB);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(dI(t),ah(t),t.value===bm)throw t.error;return t.value};return r[An]=t,mI(t),r}var aI=Symbol("UNSET"),cI=Symbol("COMPUTING"),bm=Symbol("ERRORED"),VB=ue(j({},oh),{value:aI,dirty:!0,error:null,equal:gI,kind:"computed",producerMustRecompute(n){return n.value===aI||n.value===cI},producerRecomputeValue(n){if(n.value===cI)throw new Error("");let e=n.value;n.value=cI;let t=ch(n),r,i=!1;try{r=n.computation(),Ie(null),i=e!==aI&&e!==bm&&r!==bm&&n.equal(e,r)}catch(s){r=bm,n.error=s}finally{Cm(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function UB(){throw new Error}var kP=UB;function xP(n){kP(n)}function yI(n){kP=n}var jB=null;function _I(n,e){let t=Object.create(Am);t.value=n,e!==void 0&&(t.equal=e);let r=()=>MP(t);return r[An]=t,mI(t),[r,o=>lh(t,o),o=>OP(t,o)]}function MP(n){return ah(n),n.value}function lh(n,e){fI()||xP(n),n.equal(n.value,e)||(n.value=e,BB(n))}function OP(n,e){fI()||xP(n),lh(n,e(n.value))}var Am=ue(j({},oh),{equal:gI,value:void 0,kind:"signal"});function BB(n){n.version++,AP(),hI(n),jB?.(n)}function vI(n){let e=Ie(null);try{return n()}finally{Ie(e)}}function _e(n){return typeof n=="function"}function vu(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Rm=vu(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Pa(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Wt=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(_e(r))try{r()}catch(s){e=s instanceof Rm?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{LP(s)}catch(o){e=e??[],o instanceof Rm?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Rm(e)}}add(e){var t;if(e&&e!==this)if(this.closed)LP(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Pa(t,e)}remove(e){let{_finalizers:t}=this;t&&Pa(t,e),e instanceof n&&e._removeParent(this)}};Wt.EMPTY=(()=>{let n=new Wt;return n.closed=!0,n})();var EI=Wt.EMPTY;function Pm(n){return n instanceof Wt||n&&"closed"in n&&_e(n.remove)&&_e(n.add)&&_e(n.unsubscribe)}function LP(n){_e(n)?n():n.unsubscribe()}var Vr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Eu={setTimeout(n,e,...t){let{delegate:r}=Eu;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Eu;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Nm(n){Eu.setTimeout(()=>{let{onUnhandledError:e}=Vr;if(e)e(n);else throw n})}function dh(){}var FP=II("C",void 0,void 0);function VP(n){return II("E",void 0,n)}function UP(n){return II("N",n,void 0)}function II(n,e,t){return{kind:n,value:e,error:t}}var Na=null;function Iu(n){if(Vr.useDeprecatedSynchronousErrorHandling){let e=!Na;if(e&&(Na={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Na;if(Na=null,t)throw r}}else n()}function jP(n){Vr.useDeprecatedSynchronousErrorHandling&&Na&&(Na.errorThrown=!0,Na.error=n)}var ka=class extends Wt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Pm(e)&&e.add(this)):this.destination=qB}static create(e,t,r){return new wu(e,t,r)}next(e){this.isStopped?bI(UP(e),this):this._next(e)}error(e){this.isStopped?bI(VP(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?bI(FP,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},$B=Function.prototype.bind;function wI(n,e){return $B.call(n,e)}var TI=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){km(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){km(r)}else km(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){km(t)}}},wu=class extends ka{constructor(e,t,r){super();let i;if(_e(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&Vr.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&wI(e.next,s),error:e.error&&wI(e.error,s),complete:e.complete&&wI(e.complete,s)}):i=e}this.destination=new TI(i)}};function km(n){Vr.useDeprecatedSynchronousErrorHandling?jP(n):Nm(n)}function HB(n){throw n}function bI(n,e){let{onStoppedNotification:t}=Vr;t&&Eu.setTimeout(()=>t(n,e))}var qB={closed:!0,next:dh,error:HB,complete:dh};var bu=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ur(n){return n}function CI(...n){return SI(n)}function SI(n){return n.length===0?Ur:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var De=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let s=GB(t)?t:new wu(t,r,i);return Iu(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=BP(r),new r((i,s)=>{let o=new wu({next:a=>{try{t(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[bu](){return this}pipe(...t){return SI(t)(this)}toPromise(t){return t=BP(t),new t((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function BP(n){var e;return(e=n??Vr.Promise)!==null&&e!==void 0?e:Promise}function zB(n){return n&&_e(n.next)&&_e(n.error)&&_e(n.complete)}function GB(n){return n&&n instanceof ka||zB(n)&&Pm(n)}function WB(n){return _e(n?.lift)}function Ge(n){return e=>{if(WB(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function We(n,e,t,r,i){return new DI(n,e,t,r,i)}var DI=class extends ka{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var $P=vu(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Rt=(()=>{class n extends De{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new xm(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new $P}next(t){Iu(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Iu(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Iu(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:s}=this;return r||i?EI:(this.currentObservers=null,s.push(t),new Wt(()=>{this.currentObservers=null,Pa(s,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){let t=new De;return t.source=this,t}}return n.create=(e,t)=>new xm(e,t),n})(),xm=class extends Rt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:EI}};var fn=class extends Rt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var AI={now(){return(AI.delegate||Date).now()},delegate:void 0};var Mm=class extends Wt{constructor(e,t){super()}schedule(e,t=0){return this}};var hh={setInterval(n,e,...t){let{delegate:r}=hh;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=hh;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Tu=class extends Mm{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return hh.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&hh.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Pa(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Cu=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Cu.now=AI.now;var Su=class extends Cu{constructor(e,t=Cu.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var RI=new Su(Tu);var Om=class extends Tu{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Lm=class extends Su{};var PI=new Lm(Om);var Un=new De(n=>n.complete());function HP(n){return n&&_e(n.schedule)}function qP(n){return n[n.length-1]}function Fm(n){return _e(qP(n))?n.pop():void 0}function io(n){return HP(qP(n))?n.pop():void 0}function NI(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function GP(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{d(r.next(h))}catch(m){o(m)}}function c(h){try{d(r.throw(h))}catch(m){o(m)}}function d(h){h.done?s(h.value):i(h.value).then(a,c)}d((r=r.apply(n,e||[])).next())})}function zP(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function xa(n){return this instanceof xa?(this.v=n,this):new xa(n)}function WP(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(R){return function(k){return Promise.resolve(k).then(R,m)}}function a(R,k){r[R]&&(i[R]=function(V){return new Promise(function(O,q){s.push([R,V,O,q])>1||c(R,V)})},k&&(i[R]=k(i[R])))}function c(R,k){try{d(r[R](k))}catch(V){I(s[0][3],V)}}function d(R){R.value instanceof xa?Promise.resolve(R.value.v).then(h,m):I(s[0][2],R)}function h(R){c("next",R)}function m(R){c("throw",R)}function I(R,k){R(k),s.shift(),s.length&&c(s[0][0],s[0][1])}}function KP(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof zP=="function"?zP(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,c){o=n[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(d){s({value:d,done:a})},o)}}var Vm=n=>n&&typeof n.length=="number"&&typeof n!="function";function Um(n){return _e(n?.then)}function jm(n){return _e(n[bu])}function Bm(n){return Symbol.asyncIterator&&_e(n?.[Symbol.asyncIterator])}function $m(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function KB(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Hm=KB();function qm(n){return _e(n?.[Hm])}function zm(n){return WP(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield xa(t.read());if(i)return yield xa(void 0);yield yield xa(r)}}finally{t.releaseLock()}})}function Gm(n){return _e(n?.getReader)}function Pt(n){if(n instanceof De)return n;if(n!=null){if(jm(n))return QB(n);if(Vm(n))return YB(n);if(Um(n))return JB(n);if(Bm(n))return QP(n);if(qm(n))return XB(n);if(Gm(n))return ZB(n)}throw $m(n)}function QB(n){return new De(e=>{let t=n[bu]();if(_e(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function YB(n){return new De(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function JB(n){return new De(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Nm)})}function XB(n){return new De(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function QP(n){return new De(e=>{e4(n,e).catch(t=>e.error(t))})}function ZB(n){return QP(zm(n))}function e4(n,e){var t,r,i,s;return GP(this,void 0,void 0,function*(){try{for(t=KP(n);r=yield t.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})}function jn(n,e,t,r=0,i=!1){let s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function so(n,e=0){return Ge((t,r)=>{t.subscribe(We(r,i=>jn(r,n,()=>r.next(i),e),()=>jn(r,n,()=>r.complete(),e),i=>jn(r,n,()=>r.error(i),e)))})}function oo(n,e=0){return Ge((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function YP(n,e){return Pt(n).pipe(oo(e),so(e))}function JP(n,e){return Pt(n).pipe(oo(e),so(e))}function XP(n,e){return new De(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function ZP(n,e){return new De(t=>{let r;return jn(t,e,()=>{r=n[Hm](),jn(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){t.error(o);return}s?t.complete():t.next(i)},0,!0)}),()=>_e(r?.return)&&r.return()})}function Wm(n,e){if(!n)throw new Error("Iterable cannot be null");return new De(t=>{jn(t,e,()=>{let r=n[Symbol.asyncIterator]();jn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function eN(n,e){return Wm(zm(n),e)}function tN(n,e){if(n!=null){if(jm(n))return YP(n,e);if(Vm(n))return XP(n,e);if(Um(n))return JP(n,e);if(Bm(n))return Wm(n,e);if(qm(n))return ZP(n,e);if(Gm(n))return eN(n,e)}throw $m(n)}function ht(n,e){return e?tN(n,e):Pt(n)}function we(...n){let e=io(n);return ht(n,e)}function kI(n,e){let t=_e(n)?n:()=>n,r=i=>i.error(t());return new De(e?i=>e.schedule(r,0,i):r)}function Km(n){return!!n&&(n instanceof De||_e(n.lift)&&_e(n.subscribe))}var Ma=vu(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function rt(n,e){return Ge((t,r)=>{let i=0;t.subscribe(We(r,s=>{r.next(n.call(e,s,i++))}))})}var{isArray:t4}=Array;function n4(n,e){return t4(e)?n(...e):n(e)}function Qm(n){return rt(e=>n4(n,e))}var{isArray:r4}=Array,{getPrototypeOf:i4,prototype:s4,keys:o4}=Object;function Ym(n){if(n.length===1){let e=n[0];if(r4(e))return{args:e,keys:null};if(a4(e)){let t=o4(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function a4(n){return n&&typeof n=="object"&&i4(n)===s4}function Jm(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Xm(...n){let e=io(n),t=Fm(n),{args:r,keys:i}=Ym(n);if(r.length===0)return ht([],e);let s=new De(c4(r,e,i?o=>Jm(i,o):Ur));return t?s.pipe(Qm(t)):s}function c4(n,e,t=Ur){return r=>{nN(e,()=>{let{length:i}=n,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)nN(e,()=>{let d=ht(n[c],e),h=!1;d.subscribe(We(r,m=>{s[c]=m,h||(h=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function nN(n,e,t){n?jn(t,n,e):e()}function rN(n,e,t,r,i,s,o,a){let c=[],d=0,h=0,m=!1,I=()=>{m&&!c.length&&!d&&e.complete()},R=V=>d<r?k(V):c.push(V),k=V=>{s&&e.next(V),d++;let O=!1;Pt(t(V,h++)).subscribe(We(e,q=>{i?.(q),s?R(q):e.next(q)},()=>{O=!0},void 0,()=>{if(O)try{for(d--;c.length&&d<r;){let q=c.shift();o?jn(e,o,()=>k(q)):k(q)}I()}catch(q){e.error(q)}}))};return n.subscribe(We(e,R,()=>{m=!0,I()})),()=>{a?.()}}function pn(n,e,t=1/0){return _e(e)?pn((r,i)=>rt((s,o)=>e(r,s,i,o))(Pt(n(r,i))),t):(typeof e=="number"&&(t=e),Ge((r,i)=>rN(r,i,n,t)))}function ao(n=1/0){return pn(Ur,n)}function iN(){return ao(1)}function Du(...n){return iN()(ht(n,io(n)))}function fh(n){return new De(e=>{Pt(n()).subscribe(e)})}function xI(...n){let e=Fm(n),{args:t,keys:r}=Ym(n),i=new De(s=>{let{length:o}=t;if(!o){s.complete();return}let a=new Array(o),c=o,d=o;for(let h=0;h<o;h++){let m=!1;Pt(t[h]).subscribe(We(s,I=>{m||(m=!0,d--),a[h]=I},()=>c--,void 0,()=>{(!c||!m)&&(d||s.next(r?Jm(r,a):a),s.complete())}))}});return e?i.pipe(Qm(e)):i}function Bn(n,e){return Ge((t,r)=>{let i=0;t.subscribe(We(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Au(n){return Ge((e,t)=>{let r=null,i=!1,s;r=e.subscribe(We(t,void 0,void 0,o=>{s=Pt(n(o,Au(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function Ru(n,e){return _e(e)?pn(n,e,1):pn(n,1)}function MI(n){return Ge((e,t)=>{let r=!1;e.subscribe(We(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ts(n){return n<=0?()=>Un:Ge((e,t)=>{let r=0;e.subscribe(We(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function sN(n=u4){return Ge((e,t)=>{let r=!1;e.subscribe(We(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function u4(){return new Ma}function OI(n){return Ge((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function ns(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Bn((i,s)=>n(i,s,r)):Ur,ts(1),t?MI(e):sN(()=>new Ma))}function Zm(n){return n<=0?()=>Un:Ge((e,t)=>{let r=[];e.subscribe(We(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function LI(...n){let e=io(n);return Ge((t,r)=>{(e?Du(n,t,e):Du(n,t)).subscribe(r)})}function jr(n,e){return Ge((t,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();t.subscribe(We(r,c=>{i?.unsubscribe();let d=0,h=s++;Pt(n(c,h)).subscribe(i=We(r,m=>r.next(e?e(c,m,h,d++):m),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function ph(n){return Ge((e,t)=>{Pt(n).subscribe(We(t,()=>t.complete(),dh)),!t.closed&&e.subscribe(t)})}function Rn(n,e,t){let r=_e(n)||e||t?{next:n,error:e,complete:t}:n;return r?Ge((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(We(s,c=>{var d;(d=r.next)===null||d===void 0||d.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var d;a=!1,(d=r.error)===null||d===void 0||d.call(r,c),s.error(c)},()=>{var c,d;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):Ur}var FI;function eg(){return FI}function hi(n){let e=FI;return FI=n,e}var oN=Symbol("NotFound");function Pu(n){return n===oN||n?.name==="\u0275NotFound"}var co=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},ZI=new co("21.0.6");var sg="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",ee=class extends Error{code;constructor(e,t){super(ho(e,t)),this.code=e}};function h4(n){return`NG0${Math.abs(n)}`}function ho(n,e){return`${h4(n)}${e?": "+e:""}`}var ja=globalThis;function Ke(n){for(let e in n)if(n[e]===Ke)return e;throw Error("")}function dN(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function is(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(is).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function ew(n,e){return n?e?`${n} ${e}`:n:e||""}var f4=Ke({__forward_ref__:Ke});function Jn(n){return n.__forward_ref__=Jn,n.toString=function(){return is(this())},n}function mn(n){return tw(n)?n():n}function tw(n){return typeof n=="function"&&n.hasOwnProperty(f4)&&n.__forward_ref__===Jn}function re(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Br(n){return{providers:n.providers||[],imports:n.imports||[]}}function Eh(n){return p4(n,og)}function nw(n){return Eh(n)!==null}function p4(n,e){return n.hasOwnProperty(e)&&n[e]||null}function m4(n){let e=n?.[og]??null;return e||null}function UI(n){return n&&n.hasOwnProperty(ng)?n[ng]:null}var og=Ke({\u0275prov:Ke}),ng=Ke({\u0275inj:Ke}),Z=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=re({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function rw(n){return n&&!!n.\u0275providers}var iw=Ke({\u0275cmp:Ke}),sw=Ke({\u0275dir:Ke}),ow=Ke({\u0275pipe:Ke}),aw=Ke({\u0275mod:Ke}),gh=Ke({\u0275fac:Ke}),Ba=Ke({__NG_ELEMENT_ID__:Ke}),aN=Ke({__NG_ENV_ID__:Ke});function cw(n){return ag(n,"@NgModule"),n[aw]||null}function ss(n){return ag(n,"@Component"),n[iw]||null}function uw(n){return ag(n,"@Directive"),n[sw]||null}function hN(n){return ag(n,"@Pipe"),n[ow]||null}function ag(n,e){if(n==null)throw new ee(-919,!1)}function pi(n){return typeof n=="string"?n:n==null?"":String(n)}function fN(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():pi(n)}var pN=Ke({ngErrorCode:Ke}),g4=Ke({ngErrorMessage:Ke}),y4=Ke({ngTokenPath:Ke});function lw(n,e){return mN("",-200,e)}function cg(n,e){throw new ee(-201,!1)}function mN(n,e,t){let r=new ee(e,n);return r[pN]=e,r[g4]=n,t&&(r[y4]=t),r}function _4(n){return n[pN]}var jI;function gN(){return jI}function Qn(n){let e=jI;return jI=n,e}function dw(n,e,t){let r=Eh(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;cg(n,"")}var v4={},Oa=v4,BI="__NG_DI_FLAG__",$I=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=La(t)||0;try{return this.injector.get(e,r&8?null:Oa,r)}catch(i){if(Pu(i))return i;throw i}}};function E4(n,e=0){let t=eg();if(t===void 0)throw new ee(-203,!1);if(t===null)return dw(n,void 0,e);{let r=I4(e),i=t.retrieve(n,r);if(Pu(i)){if(r.optional)return null;throw i}return i}}function fe(n,e=0){return(gN()||E4)(mn(n),e)}function U(n,e){return fe(n,La(e))}function La(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function I4(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function HI(n){let e=[];for(let t=0;t<n.length;t++){let r=mn(n[t]);if(Array.isArray(r)){if(r.length===0)throw new ee(900,!1);let i,s=0;for(let o=0;o<r.length;o++){let a=r[o],c=w4(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(fe(i,s))}else e.push(fe(r))}return e}function yN(n,e){return n[BI]=e,n.prototype[BI]=e,n}function w4(n){return n[BI]}function Fa(n,e){let t=n.hasOwnProperty(gh);return t?n[gh]:null}function _N(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}function vN(n){return n.flat(Number.POSITIVE_INFINITY)}function ug(n,e){n.forEach(t=>Array.isArray(t)?ug(t,e):e(t))}function hw(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Ih(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function EN(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let s=i-2;n[i]=n[s],i--}n[e]=t,n[e+1]=r}}function IN(n,e,t){let r=ku(n,e);return r>=0?n[r|1]=t:(r=~r,EN(n,r,e,t)),r}function lg(n,e){let t=ku(n,e);if(t>=0)return n[t|1]}function ku(n,e){return b4(n,e,1)}function b4(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}var fo={},Yn=[],xu=new Z(""),fw=new Z("",-1),pw=new Z(""),yh=class{get(e,t=Oa){if(t===Oa){let i=mN("",-201);throw i.name="\u0275NotFound",i}return t}};function mr(n){return{\u0275providers:n}}function wN(...n){return{\u0275providers:mw(!0,n),\u0275fromNgModule:!0}}function mw(n,...e){let t=[],r=new Set,i,s=o=>{t.push(o)};return ug(e,o=>{let a=o;rg(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&bN(i,s),t}function bN(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];gw(i,s=>{e(s,r)})}}function rg(n,e,t,r){if(n=mn(n),!n)return!1;let i=null,s=UI(n),o=!s&&ss(n);if(!s&&!o){let c=n.ngModule;if(s=UI(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=n}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let d of c)rg(d,e,t,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let d;try{ug(s.imports,h=>{rg(h,e,t,r)&&(d||=[],d.push(h))})}finally{}d!==void 0&&bN(d,e)}if(!a){let d=Fa(i)||(()=>new i);e({provide:i,useFactory:d,deps:Yn},i),e({provide:pw,useValue:i,multi:!0},i),e({provide:xu,useValue:()=>fe(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let d=n;gw(c,h=>{e(h,d)})}}else return!1;return i!==n&&n.providers!==void 0}function gw(n,e){for(let t of n)rw(t)&&(t=t.\u0275providers),Array.isArray(t)?gw(t,e):e(t)}var T4=Ke({provide:String,useValue:Ke});function TN(n){return n!==null&&typeof n=="object"&&T4 in n}function C4(n){return!!(n&&n.useExisting)}function S4(n){return!!(n&&n.useFactory)}function Va(n){return typeof n=="function"}function CN(n){return!!n.useClass}var wh=new Z(""),tg={},cN={},VI;function bh(){return VI===void 0&&(VI=new yh),VI}var St=class{},Ua=class extends St{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,zI(e,o=>this.processProvider(o)),this.records.set(fw,Nu(void 0,this)),i.has("environment")&&this.records.set(St,Nu(void 0,this));let s=this.records.get(wh);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(pw,Yn,{self:!0}))}retrieve(e,t){let r=La(t)||0;try{return this.get(e,Oa,r)}catch(i){if(Pu(i))return i;throw i}}destroy(){mh(this),this._destroyed=!0;let e=Ie(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ie(e)}}onDestroy(e){return mh(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){mh(this);let t=hi(this),r=Qn(void 0),i;try{return e()}finally{hi(t),Qn(r)}}get(e,t=Oa,r){if(mh(this),e.hasOwnProperty(aN))return e[aN](this);let i=La(r),s,o=hi(this),a=Qn(void 0);try{if(!(i&4)){let d=this.records.get(e);if(d===void 0){let h=N4(e)&&Eh(e);h&&this.injectableDefInScope(h)?d=Nu(qI(e),tg):d=null,this.records.set(e,d)}if(d!=null)return this.hydrate(e,d,i)}let c=i&2?bh():this.parent;return t=i&8&&t===Oa?null:t,c.get(e,t)}catch(c){let d=_4(c);throw d===-200||d===-201?new ee(d,null):c}finally{Qn(a),hi(o)}}resolveInjectorInitializers(){let e=Ie(null),t=hi(this),r=Qn(void 0),i;try{let s=this.get(xu,Yn,{self:!0});for(let o of s)o()}finally{hi(t),Qn(r),Ie(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(is(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=mn(e);let t=Va(e)?e:mn(e&&e.provide),r=A4(e);if(!Va(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Nu(void 0,tg,!0),i.factory=()=>HI(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=Ie(null);try{if(t.value===cN)throw lw(is(e));return t.value===tg&&(t.value=cN,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&P4(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Ie(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=mn(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function qI(n){let e=Eh(n),t=e!==null?e.factory:Fa(n);if(t!==null)return t;if(n instanceof Z)throw new ee(204,!1);if(n instanceof Function)return D4(n);throw new ee(204,!1)}function D4(n){if(n.length>0)throw new ee(204,!1);let t=m4(n);return t!==null?()=>t.factory(n):()=>new n}function A4(n){if(TN(n))return Nu(void 0,n.useValue);{let e=yw(n);return Nu(e,tg)}}function yw(n,e,t){let r;if(Va(n)){let i=mn(n);return Fa(i)||qI(i)}else if(TN(n))r=()=>mn(n.useValue);else if(S4(n))r=()=>n.useFactory(...HI(n.deps||[]));else if(C4(n))r=(i,s)=>fe(mn(n.useExisting),s!==void 0&&s&8?8:void 0);else{let i=mn(n&&(n.useClass||n.provide));if(R4(n))r=()=>new i(...HI(n.deps));else return Fa(i)||qI(i)}return r}function mh(n){if(n.destroyed)throw new ee(205,!1)}function Nu(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function R4(n){return!!n.deps}function P4(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function N4(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function zI(n,e){for(let t of n)Array.isArray(t)?zI(t,e):t&&rw(t)?zI(t.\u0275providers,e):e(t)}function Nt(n,e){let t;n instanceof Ua?(mh(n),t=n):t=new $I(n);let r,i=hi(t),s=Qn(void 0);try{return e()}finally{hi(i),Qn(s)}}function SN(){return gN()!==void 0||eg()!=null}var $r=0,le=1,me=2,tn=3,gr=4,yr=5,Th=6,Mu=7,In=8,po=9,mi=10,ft=11,Ou=12,_w=13,$a=14,_r=15,mo=16,Ha=17,gi=18,Ch=19,vw=20,rs=21,dg=22,Sh=23,Xn=24,qa=25,Dh=26,wn=27,DN=1;var go=7,Ah=8,za=9,Pn=10;function yi(n){return Array.isArray(n)&&typeof n[DN]=="object"}function Hr(n){return Array.isArray(n)&&n[DN]===!0}function Ew(n){return(n.flags&4)!==0}function yo(n){return n.componentOffset>-1}function Lu(n){return(n.flags&1)===1}function _i(n){return!!n.template}function Fu(n){return(n[me]&512)!==0}function Ga(n){return(n[me]&256)===256}var AN="svg",RN="math";function vr(n){for(;Array.isArray(n);)n=n[$r];return n}function Iw(n,e){return vr(e[n])}function qr(n,e){return vr(e[n.index])}function hg(n,e){return n.data[e]}function PN(n,e){return n[e]}function Er(n,e){let t=e[n];return yi(t)?t:t[$r]}function NN(n){return(n[me]&4)===4}function fg(n){return(n[me]&128)===128}function kN(n){return Hr(n[tn])}function Wa(n,e){return e==null?null:n[e]}function ww(n){n[Ha]=0}function bw(n){n[me]&1024||(n[me]|=1024,fg(n)&&Vu(n))}function xN(n,e){for(;n>0;)e=e[$a],n--;return e}function Rh(n){return!!(n[me]&9216||n[Xn]?.dirty)}function pg(n){n[mi].changeDetectionScheduler?.notify(8),n[me]&64&&(n[me]|=1024),Rh(n)&&Vu(n)}function Vu(n){n[mi].changeDetectionScheduler?.notify(0);let e=uo(n);for(;e!==null&&!(e[me]&8192||(e[me]|=8192,!fg(e)));)e=uo(e)}function Tw(n,e){if(Ga(n))throw new ee(911,!1);n[rs]===null&&(n[rs]=[]),n[rs].push(e)}function MN(n,e){if(n[rs]===null)return;let t=n[rs].indexOf(e);t!==-1&&n[rs].splice(t,1)}function uo(n){let e=n[tn];return Hr(e)?e[tn]:e}function Cw(n){return n[Mu]??=[]}function Sw(n){return n.cleanup??=[]}function ON(n,e,t,r){let i=Cw(e);i.push(t),n.firstCreatePass&&Sw(n).push(r,i.length-1)}var Se={lFrame:KN(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var GI=!1;function LN(){return Se.lFrame.elementDepthCount}function FN(){Se.lFrame.elementDepthCount++}function Dw(){Se.lFrame.elementDepthCount--}function mg(){return Se.bindingsEnabled}function VN(){return Se.skipHydrationRootTNode!==null}function Aw(n){return Se.skipHydrationRootTNode===n}function Rw(){Se.skipHydrationRootTNode=null}function xe(){return Se.lFrame.lView}function nn(){return Se.lFrame.tView}function it(n){return Se.lFrame.contextLView=n,n[In]}function st(n){return Se.lFrame.contextLView=null,n}function Kt(){let n=Pw();for(;n!==null&&n.type===64;)n=n.parent;return n}function Pw(){return Se.lFrame.currentTNode}function UN(){let n=Se.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Uu(n,e){let t=Se.lFrame;t.currentTNode=n,t.isParent=e}function Nw(){return Se.lFrame.isParent}function jN(){Se.lFrame.isParent=!1}function BN(){return Se.lFrame.contextLView}function kw(){return GI}function xw(n){let e=GI;return GI=n,e}function Mw(){return Se.lFrame.bindingIndex}function $N(n){return Se.lFrame.bindingIndex=n}function Ph(){return Se.lFrame.bindingIndex++}function gg(n){let e=Se.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function HN(){return Se.lFrame.inI18n}function qN(n,e){let t=Se.lFrame;t.bindingIndex=t.bindingRootIndex=n,yg(e)}function zN(){return Se.lFrame.currentDirectiveIndex}function yg(n){Se.lFrame.currentDirectiveIndex=n}function GN(n){let e=Se.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Ow(){return Se.lFrame.currentQueryIndex}function _g(n){Se.lFrame.currentQueryIndex=n}function k4(n){let e=n[le];return e.type===2?e.declTNode:e.type===1?n[yr]:null}function Lw(n,e,t){if(t&4){let i=e,s=n;for(;i=i.parent,i===null&&!(t&1);)if(i=k4(s),i===null||(s=s[$a],i.type&10))break;if(i===null)return!1;e=i,n=s}let r=Se.lFrame=WN();return r.currentTNode=e,r.lView=n,!0}function vg(n){let e=WN(),t=n[le];Se.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function WN(){let n=Se.lFrame,e=n===null?null:n.child;return e===null?KN(n):e}function KN(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function QN(){let n=Se.lFrame;return Se.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Fw=QN;function Eg(){let n=QN();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function YN(n){return(Se.lFrame.contextLView=xN(n,Se.lFrame.contextLView))[In]}function os(){return Se.lFrame.selectedIndex}function _o(n){Se.lFrame.selectedIndex=n}function Ig(){let n=Se.lFrame;return hg(n.tView,n.selectedIndex)}function JN(){return Se.lFrame.currentNamespace}var XN=!0;function wg(){return XN}function Nh(n){XN=n}function WI(n,e=null,t=null,r){let i=Vw(n,e,t,r);return i.resolveInjectorInitializers(),i}function Vw(n,e=null,t=null,r,i=new Set){let s=[t||Yn,wN(n)];return r=r||(typeof n=="object"?void 0:is(n)),new Ua(s,e||bh(),r||null,i)}var vt=class n{static THROW_IF_NOT_FOUND=Oa;static NULL=new yh;static create(e,t){if(Array.isArray(e))return WI({name:""},t,e,"");{let r=e.name??"";return WI({name:r},e.parent,e.providers,r)}}static \u0275prov=re({token:n,providedIn:"any",factory:()=>fe(fw)});static __NG_ELEMENT_ID__=-1},Dt=new Z(""),zr=(()=>{class n{static __NG_ELEMENT_ID__=x4;static __NG_ENV_ID__=t=>t}return n})(),KI=class extends zr{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Ga(this._lView)}onDestroy(e){let t=this._lView;return Tw(t,e),()=>MN(t,e)}};function x4(){return new KI(xe())}var ZN=!1,as=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new fn(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new De(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=re({token:n,providedIn:"root",factory:()=>new n})}return n})(),QI=class extends Rt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,SN()&&(this.destroyRef=U(zr,{optional:!0})??void 0,this.pendingTasks=U(as,{optional:!0})??void 0)}emit(e){let t=Ie(null);try{super.next(e)}finally{Ie(t)}}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Wt&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ct=QI;function ig(...n){}function Uw(n){let e,t;function r(){n=ig;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function jw(n){return queueMicrotask(()=>n()),()=>{n=ig}}var Bw="isAngularZone",_h=Bw+"_ID",M4=0,lt=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ct(!1);onMicrotaskEmpty=new Ct(!1);onStable=new Ct(!1);onError=new Ct(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=ZN}=e;if(typeof Zone>"u")throw new ee(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,F4(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Bw)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new ee(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new ee(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,O4,ig,ig);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},O4={};function $w(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function L4(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){Uw(()=>{n.callbackScheduled=!1,YI(n),n.isCheckStableRunning=!0,$w(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),YI(n)}function F4(n){let e=()=>{L4(n)},t=M4++;n._inner=n._inner.fork({name:"angular",properties:{[Bw]:!0,[_h]:t,[_h+t]:!0},onInvokeTask:(r,i,s,o,a,c)=>{if(V4(c))return r.invokeTask(s,o,a,c);try{return uN(n),r.invokeTask(s,o,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),lN(n)}},onInvoke:(r,i,s,o,a,c,d)=>{try{return uN(n),r.invoke(s,o,a,c,d)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!U4(c)&&e(),lN(n)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,YI(n),$w(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function YI(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function uN(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function lN(n){n._nesting--,$w(n)}var vh=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ct;onMicrotaskEmpty=new Ct;onStable=new Ct;onError=new Ct;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function V4(n){return ek(n,"__ignore_ng_zone__")}function U4(n){return ek(n,"__scheduler_tick__")}function ek(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var fi=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Ir=new Z("",{factory:()=>{let n=U(lt),e=U(St),t;return r=>{n.runOutsideAngular(()=>{e.destroyed&&!t?setTimeout(()=>{throw r}):(t??=e.get(fi),t.handleError(r))})}}}),tk={provide:xu,useValue:()=>{let n=U(fi,{optional:!0})},multi:!0};function Zn(n,e){let[t,r,i]=_I(n,e?.equal),s=t,o=s[An];return s.set=r,s.update=i,s.asReadonly=nk.bind(s),s}function nk(){let n=this[An];if(n.readonlyFn===void 0){let e=()=>this();e[An]=n,n.readonlyFn=e}return n.readonlyFn}var bg=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=j4}return n})();function j4(){return new bg(xe(),Kt())}var lo=class{},kh=new Z("",{factory:()=>!0});var Hw=new Z(""),ju=(()=>{class n{internalPendingTasks=U(as);scheduler=U(lo);errorHandler=U(Ir);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=re({token:n,providedIn:"root",factory:()=>new n})}return n})(),qw=(()=>{class n{static \u0275prov=re({token:n,providedIn:"root",factory:()=>new JI})}return n})(),JI=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}},XI=class{[An];constructor(e){this[An]=e}destroy(){this[An].destroy()}};function kt(n){return vI(n)}function Wu(n){return{toString:n}.toString()}var Tg="__parameters__";function Q4(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function Y4(n,e,t){return Wu(()=>{let r=Q4(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,d,h){let m=c.hasOwnProperty(Tg)?c[Tg]:Object.defineProperty(c,Tg,{value:[]})[Tg];for(;m.length<=h;)m.push(null);return(m[h]=m[h]||[]).push(o),c}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var er=yN(Y4("Optional"),8);function J4(n){return typeof n=="function"}function kk(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var xg=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}},Kr=(()=>{let n=()=>xk;return n.ngInherit=!0,n})();function xk(n){return n.type.prototype.ngOnChanges&&(n.setInput=Z4),X4}function X4(){let n=Ok(this),e=n?.current;if(e){let t=n.previous;if(t===fo)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Z4(n,e,t,r,i){let s=this.declaredInputs[r],o=Ok(n)||e$(n,{previous:fo,current:null}),a=o.current||(o.current={}),c=o.previous,d=c[s];a[s]=new xg(d&&d.currentValue,t,c===fo),kk(n,e,i,t)}var Mk="__ngSimpleChanges__";function Ok(n){return n[Mk]||null}function e$(n,e){return n[Mk]=e}var rk=[];var Qe=function(n,e=null,t){for(let r=0;r<rk.length;r++){let i=rk[r];i(n,e,t)}},Ve=(function(n){return n[n.TemplateCreateStart=0]="TemplateCreateStart",n[n.TemplateCreateEnd=1]="TemplateCreateEnd",n[n.TemplateUpdateStart=2]="TemplateUpdateStart",n[n.TemplateUpdateEnd=3]="TemplateUpdateEnd",n[n.LifecycleHookStart=4]="LifecycleHookStart",n[n.LifecycleHookEnd=5]="LifecycleHookEnd",n[n.OutputStart=6]="OutputStart",n[n.OutputEnd=7]="OutputEnd",n[n.BootstrapApplicationStart=8]="BootstrapApplicationStart",n[n.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",n[n.BootstrapComponentStart=10]="BootstrapComponentStart",n[n.BootstrapComponentEnd=11]="BootstrapComponentEnd",n[n.ChangeDetectionStart=12]="ChangeDetectionStart",n[n.ChangeDetectionEnd=13]="ChangeDetectionEnd",n[n.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",n[n.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",n[n.AfterRenderHooksStart=16]="AfterRenderHooksStart",n[n.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",n[n.ComponentStart=18]="ComponentStart",n[n.ComponentEnd=19]="ComponentEnd",n[n.DeferBlockStateStart=20]="DeferBlockStateStart",n[n.DeferBlockStateEnd=21]="DeferBlockStateEnd",n[n.DynamicComponentStart=22]="DynamicComponentStart",n[n.DynamicComponentEnd=23]="DynamicComponentEnd",n[n.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",n[n.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",n})(Ve||{});function t$(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=xk(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function Lk(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:d,ngOnDestroy:h}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),d&&((n.viewHooks??=[]).push(t,d),(n.viewCheckHooks??=[]).push(t,d)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Ag(n,e,t){Fk(n,e,3,t)}function Rg(n,e,t,r){(n[me]&3)===t&&Fk(n,e,t,r)}function zw(n,e){let t=n[me];(t&3)===e&&(t&=16383,t+=1,n[me]=t)}function Fk(n,e,t,r){let i=r!==void 0?n[Ha]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Ha]+=65536),(a<s||s==-1)&&(n$(n,t,e,c),n[Ha]=(n[Ha]&4294901760)+c+2),c++}function ik(n,e){Qe(Ve.LifecycleHookStart,n,e);let t=Ie(null);try{e.call(n)}finally{Ie(t),Qe(Ve.LifecycleHookEnd,n,e)}}function n$(n,e,t,r){let i=t[r]<0,s=t[r+1],o=i?-t[r]:t[r],a=n[o];i?n[me]>>14<n[Ha]>>16&&(n[me]&3)===e&&(n[me]+=16384,ik(a,s)):ik(a,s)}var $u=-1,Qa=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function r$(n){return(n.flags&8)!==0}function i$(n){return(n.flags&16)!==0}function s$(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{let s=i,o=t[++r];o$(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function Vk(n){return n===3||n===4||n===6}function o$(n){return n.charCodeAt(0)===64}function Hu(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?sk(n,t,i,null,e[++r]):sk(n,t,i,null,null))}}return n}function sk(n,e,t,r,i){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let a=n[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<n.length;){let a=n[s];if(typeof a=="number")break;if(a===t){i!==null&&(n[s+1]=i);return}s++,i!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),i!==null&&n.splice(s++,0,i)}function Uk(n){return n!==$u}function Mg(n){return n&32767}function a$(n){return n>>16}function Og(n,e){let t=a$(n),r=e;for(;t>0;)r=r[$a],t--;return r}var e0=!0;function ok(n){let e=e0;return e0=n,e}var c$=256,jk=c$-1,Bk=5,u$=0,vi={};function l$(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ba)&&(r=t[Ba]),r==null&&(r=t[Ba]=u$++);let i=r&jk,s=1<<i;e.data[n+(i>>Bk)]|=s}function Lg(n,e){let t=$k(n,e);if(t!==-1)return t;let r=e[le];r.firstCreatePass&&(n.injectorIndex=e.length,Gw(r.data,n),Gw(e,null),Gw(r.blueprint,null));let i=E0(n,e),s=n.injectorIndex;if(Uk(i)){let o=Mg(i),a=Og(i,e),c=a[le].data;for(let d=0;d<8;d++)e[s+d]=a[o+d]|c[o+d]}return e[s+8]=i,s}function Gw(n,e){n.push(0,0,0,0,0,0,0,0,e)}function $k(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function E0(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=Wk(i),r===null)return $u;if(t++,i=i[$a],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return $u}function t0(n,e,t){l$(n,e,t)}function d$(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let s=t[i];if(Vk(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(s===e)return t[i+1];i=i+2}}}return null}function Hk(n,e,t){if(t&8||n!==void 0)return n;cg(e,"NodeInjector")}function qk(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[po],s=Qn(void 0);try{return i?i.get(e,r,t&8):dw(e,r,t&8)}finally{Qn(s)}}return Hk(r,e,t)}function zk(n,e,t,r=0,i){if(n!==null){if(e[me]&2048&&!(r&2)){let o=m$(n,e,t,r,vi);if(o!==vi)return o}let s=Gk(n,e,t,r,vi);if(s!==vi)return s}return qk(e,t,r,i)}function Gk(n,e,t,r,i){let s=f$(t);if(typeof s=="function"){if(!Lw(e,n,r))return r&1?Hk(i,t,r):qk(e,t,r,i);try{let o;if(o=s(r),o==null&&!(r&8))cg(t);else return o}finally{Fw()}}else if(typeof s=="number"){let o=null,a=$k(n,e),c=$u,d=r&1?e[_r][yr]:null;for((a===-1||r&4)&&(c=a===-1?E0(n,e):e[a+8],c===$u||!ck(r,!1)?a=-1:(o=e[le],a=Mg(c),e=Og(c,e)));a!==-1;){let h=e[le];if(ak(s,a,h.data)){let m=h$(a,e,t,o,r,d);if(m!==vi)return m}c=e[a+8],c!==$u&&ck(r,e[le].data[a+8]===d)&&ak(s,a,e)?(o=h,a=Mg(c),e=Og(c,e)):a=-1}}return i}function h$(n,e,t,r,i,s){let o=e[le],a=o.data[n+8],c=r==null?yo(a)&&e0:r!=o&&(a.type&3)!==0,d=i&1&&s===a,h=Pg(a,o,t,c,d);return h!==null?Oh(e,o,h,a,i):vi}function Pg(n,e,t,r,i){let s=n.providerIndexes,o=e.data,a=s&1048575,c=n.directiveStart,d=n.directiveEnd,h=s>>20,m=r?a:a+h,I=i?a+h:d;for(let R=m;R<I;R++){let k=o[R];if(R<c&&t===k||R>=c&&k.type===t)return R}if(i){let R=o[c];if(R&&_i(R)&&R.type===t)return c}return null}function Oh(n,e,t,r,i){let s=n[t],o=e.data;if(s instanceof Qa){let a=s;if(a.resolving){let R=fN(o[t]);throw lw(R)}let c=ok(a.canSeeViewProviders);a.resolving=!0;let d=o[t].type||o[t],h,m=a.injectImpl?Qn(a.injectImpl):null,I=Lw(n,r,0);try{s=n[t]=a.factory(void 0,i,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&t$(t,o[t],e)}finally{m!==null&&Qn(m),ok(c),a.resolving=!1,Fw()}}return s}function f$(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Ba)?n[Ba]:void 0;return typeof e=="number"?e>=0?e&jk:p$:e}function ak(n,e,t){let r=1<<n;return!!(t[e+(n>>Bk)]&r)}function ck(n,e){return!(n&2)&&!(n&1&&e)}var Ka=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return zk(this._tNode,this._lView,e,La(r),t)}};function p$(){return new Ka(Kt(),xe())}function wr(n){return Wu(()=>{let e=n.prototype.constructor,t=e[gh]||n0(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let s=i[gh]||n0(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function n0(n){return tw(n)?()=>{let e=n0(mn(n));return e&&e()}:Fa(n)}function m$(n,e,t,r,i){let s=n,o=e;for(;s!==null&&o!==null&&o[me]&2048&&!Fu(o);){let a=Gk(s,o,t,r|2,vi);if(a!==vi)return a;let c=s.parent;if(!c){let d=o[vw];if(d){let h=d.get(t,vi,r);if(h!==vi)return h}c=Wk(o),o=o[$a]}s=c}return i}function Wk(n){let e=n[le],t=e.type;return t===2?e.declTNode:t===1?n[yr]:null}function jh(n){return d$(Kt(),n)}function g$(){return Ku(Kt(),xe())}function Ku(n,e){return new Nn(qr(n,e))}var Nn=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=g$}return n})();function y$(n){return n instanceof Nn?n.nativeElement:n}function _$(){return this._results[Symbol.iterator]()}var Fg=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Rt}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=vN(e);(this._changesDetected=!_N(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=_$};function Kk(n){return(n.flags&128)===128}var I0=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(I0||{}),Qk=new Map,v$=0;function E$(){return v$++}function I$(n){Qk.set(n[Ch],n)}function r0(n){Qk.delete(n[Ch])}var uk="__ngContext__";function qu(n,e){yi(e)?(n[uk]=e[Ch],I$(e)):n[uk]=e}function Yk(n){return Xk(n[Ou])}function Jk(n){return Xk(n[gr])}function Xk(n){for(;n!==null&&!Hr(n);)n=n[gr];return n}var w$;function w0(n){w$=n}var Kg=new Z("",{factory:()=>b$}),b$="ng";var Qg=new Z(""),Za=new Z("",{providedIn:"platform",factory:()=>"unknown"});var Yg=new Z("",{factory:()=>U(Dt).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Zk=!1,ex=new Z("",{factory:()=>Zk});var b0=new Z("");var T$=(n,e,t,r)=>{};function C$(n,e,t,r){T$(n,e,t,r)}function T0(n){return(n.flags&32)===32}var S$=()=>null;function tx(n,e,t=!1){return S$(n,e,t)}function nx(n,e){let t=n.contentQueries;if(t!==null){let r=Ie(null);try{for(let i=0;i<t.length;i+=2){let s=t[i],o=t[i+1];if(o!==-1){let a=n.data[o];_g(s),a.contentQueries(2,e[o],o)}}}finally{Ie(r)}}}function i0(n,e,t){_g(0);let r=Ie(null);try{e(n,t)}finally{Ie(r)}}function C0(n,e,t){if(Ew(e)){let r=Ie(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=n.data[o];if(a.contentQueries){let c=t[o];a.contentQueries(1,c,o)}}}finally{Ie(r)}}}var Wr=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n[n.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",n})(Wr||{});var Cg;function D$(){if(Cg===void 0&&(Cg=null,ja.trustedTypes))try{Cg=ja.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Cg}function A$(n){return D$()?.createScriptURL(n)||n}var Sg;function R$(){if(Sg===void 0&&(Sg=null,ja.trustedTypes))try{Sg=ja.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Sg}function lk(n){return R$()?.createScriptURL(n)||n}var Vg=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${sg})`}};function Bh(n){return n instanceof Vg?n.changingThisBreaksApplicationSecurity:n}function S0(n,e){let t=rx(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${sg})`)}return t===e}function rx(n){return n instanceof Vg&&n.getTypeName()||null}var P$=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ix(n){return n=String(n),n.match(P$)?n:"unsafe:"+n}var N$=/^>|^->|<!--|-->|--!>|<!-$/g,k$=/(<|>)/g,x$="\u200B$1\u200B";function M$(n){return n.replace(N$,e=>e.replace(k$,x$))}function O$(n,e){return n.createText(e)}function L$(n,e,t){n.setValue(e,t)}function F$(n,e){return n.createComment(M$(e))}function sx(n,e,t){return n.createElement(e,t)}function Ug(n,e,t,r,i){n.insertBefore(e,t,r,i)}function ox(n,e,t){n.appendChild(e,t)}function dk(n,e,t,r,i){r!==null?Ug(n,e,t,r,i):ox(n,e,t)}function V$(n,e,t,r){n.removeChild(null,e,t,r)}function U$(n,e,t){n.setAttribute(e,"style",t)}function j$(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function ax(n,e,t){let{mergedAttrs:r,classes:i,styles:s}=t;r!==null&&s$(n,e,r),i!==null&&j$(n,e,i),s!==null&&U$(n,e,s)}var Jg=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(Jg||{});function Xg(n){let e=ux();return e?e.sanitize(Jg.URL,n)||"":S0(n,"URL")?Bh(n):ix(pi(n))}function cx(n){let e=ux();if(e)return lk(e.sanitize(Jg.RESOURCE_URL,n)||"");if(S0(n,"ResourceURL"))return lk(Bh(n));throw new ee(904,!1)}function D0(n){return A$(n[0])}function B$(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?cx:Xg}function A0(n,e,t){return B$(e,t)(n)}function ux(){let n=xe();return n&&n[mi].sanitizer}function lx(n){return n instanceof Function?n():n}function $$(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}var dx="ng-template";function H$(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&$$(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(R0(n))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===t)return!0}return!1}function R0(n){return n.type===4&&n.value!==dx}function q$(n,e,t){let r=n.type===4&&!t?dx:n.value;return e===r}function z$(n,e,t){let r=4,i=n.attrs,s=i!==null?K$(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!Gr(r)&&!Gr(c))return!1;if(o&&Gr(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!q$(n,c,t)||c===""&&e.length===1){if(Gr(r))return!1;o=!0}}else if(r&8){if(i===null||!H$(n,i,c,t)){if(Gr(r))return!1;o=!0}}else{let d=e[++a],h=G$(c,i,R0(n),t);if(h===-1){if(Gr(r))return!1;o=!0;continue}if(d!==""){let m;if(h>s?m="":m=i[h+1].toLowerCase(),r&2&&d!==m){if(Gr(r))return!1;o=!0}}}}return Gr(r)||o}function Gr(n){return(n&1)===0}function G$(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){let o=e[i];if(o===n)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return Q$(e,n)}function W$(n,e,t=!1){for(let r=0;r<e.length;r++)if(z$(n,e[r],t))return!0;return!1}function K$(n){for(let e=0;e<n.length;e++){let t=n[e];if(Vk(t))return e}return n.length}function Q$(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function hk(n,e){return n?":not("+e.trim()+")":e}function Y$(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(r&2){let a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Gr(o)&&(e+=hk(s,i),i=""),r=o,s=s||!Gr(r);t++}return i!==""&&(e+=hk(s,i)),e}function J$(n){return n.map(Y$).join(",")}function X$(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let s=n[r];if(typeof s=="string")i===2?s!==""&&e.push(s,n[++r]):i===8&&t.push(s);else{if(!Gr(i))break;i=s}r++}return t.length&&e.push(1,...t),e}var br={};function P0(n,e,t,r,i,s,o,a,c,d,h){let m=wn+r,I=m+i,R=Z$(m,I),k=typeof d=="function"?d():d;return R[le]={type:n,blueprint:R,template:t,queries:null,viewQuery:a,declTNode:e,data:R.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:I,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:k,incompleteFirstPass:!1,ssrId:h}}function Z$(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:br);return t}function e3(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=P0(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function N0(n,e,t,r,i,s,o,a,c,d,h){let m=e.blueprint.slice();return m[$r]=i,m[me]=r|4|128|8|64|1024,(d!==null||n&&n[me]&2048)&&(m[me]|=2048),ww(m),m[tn]=m[$a]=n,m[In]=t,m[mi]=o||n&&n[mi],m[ft]=a||n&&n[ft],m[po]=c||n&&n[po]||null,m[yr]=s,m[Ch]=E$(),m[Th]=h,m[vw]=d,m[_r]=e.type==2?n[_r]:m,m}function t3(n,e,t){let r=qr(e,n),i=e3(t),s=n[mi].rendererFactory,o=k0(n,N0(n,i,null,hx(t),r,e,null,s.createRenderer(r,t),null,null,null));return n[e.index]=o}function hx(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function fx(n,e,t,r){if(t===0)return-1;let i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function k0(n,e){return n[Ou]?n[_w][gr]=e:n[Ou]=e,n[_w]=e,e}function Q(n=1){px(nn(),xe(),os()+n,!1)}function px(n,e,t,r){if(!r)if((e[me]&3)===3){let s=n.preOrderCheckHooks;s!==null&&Ag(e,s,t)}else{let s=n.preOrderHooks;s!==null&&Rg(e,s,0,t)}_o(t)}var Zg=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Zg||{});function s0(n,e,t,r){let i=Ie(null);try{let[s,o,a]=n.inputs[t],c=null;(o&Zg.SignalBased)!==0&&(c=e[s][An]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,s):kk(e,c,s,r)}finally{Ie(i)}}var Ei=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Ei||{}),n3;function x0(n,e){return n3(n,e)}var zu=new Set,ey=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(ey||{}),ec=new Z(""),fk=new Set;function Qu(n){fk.has(n)||(fk.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var M0=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=re({token:n,providedIn:"root",factory:()=>new n})}return n})(),mx=[0,1,2,3],gx=(()=>{class n{ngZone=U(lt);scheduler=U(lo);errorHandler=U(fi,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){U(ec,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Qe(Ve.AfterRenderHooksStart),this.executing=!0;for(let r of mx)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let s=i.hooks[r];return s(i.pipelinedValue)},i.snapshot))}catch(s){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(s)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Qe(Ve.AfterRenderHooksEnd)}register(t){let{view:r}=t;r!==void 0?((r[qa]??=[]).push(t),Vu(r),r[me]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(ey.AFTER_NEXT_RENDER,t):t()}static \u0275prov=re({token:n,providedIn:"root",factory:()=>new n})}return n})(),jg=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,s,o=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=o,this.unregisterOnDestroy=s?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[qa];e&&(this.view[qa]=e.filter(t=>t!==this))}};function $h(n,e){let t=e?.injector??U(vt);return Qu("NgAfterNextRender"),i3(n,t,e,!0)}function r3(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function i3(n,e,t,r){let i=e.get(M0);i.impl??=e.get(gx);let s=e.get(ec,null,{optional:!0}),o=t?.manualCleanup!==!0?e.get(zr):null,a=e.get(bg,null,{optional:!0}),c=new jg(i.impl,r3(n),a?.view,r,o,s?.snapshot(null));return i.impl.register(c),c}var s3=new Z("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:U(St)})});function yx(n,e,t){let r=n.get(s3);if(Array.isArray(e))for(let i of e)r.queue.add(i),t?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),t?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(n)}function o3(n,e){for(let[t,r]of e)yx(n,r.animateFns)}function pk(n,e,t,r){let i=n?.[Dh]?.enter;e!==null&&i&&i.has(t.index)&&o3(r,i)}function Bu(n,e,t,r,i,s,o,a){if(i!=null){let c,d=!1;Hr(i)?c=i:yi(i)&&(d=!0,i=i[$r]);let h=vr(i);n===0&&r!==null?(pk(a,r,s,t),o==null?ox(e,r,h):Ug(e,r,h,o||null,!0)):n===1&&r!==null?(pk(a,r,s,t),Ug(e,r,h,o||null,!0)):n===2?mk(a,s,t,m=>{V$(e,h,d,m)}):n===3&&mk(a,s,t,()=>{e.destroyNode(h)}),c!=null&&v3(e,n,t,c,s,r,o)}}function a3(n,e){_x(n,e),e[$r]=null,e[yr]=null}function c3(n,e,t,r,i,s){r[$r]=i,r[yr]=e,ty(n,r,t,1,i,s)}function _x(n,e){e[mi].changeDetectionScheduler?.notify(9),ty(n,e,e[ft],2,null,null)}function u3(n){let e=n[Ou];if(!e)return Ww(n[le],n);for(;e;){let t=null;if(yi(e))t=e[Ou];else{let r=e[Pn];r&&(t=r)}if(!t){for(;e&&!e[gr]&&e!==n;)yi(e)&&Ww(e[le],e),e=e[tn];e===null&&(e=n),yi(e)&&Ww(e[le],e),t=e&&e[gr]}e=t}}function O0(n,e){let t=n[za],r=t.indexOf(e);t.splice(r,1)}function vx(n,e){if(Ga(e))return;let t=e[ft];t.destroyNode&&ty(n,e,t,3,null,null),u3(e)}function Ww(n,e){if(Ga(e))return;let t=Ie(null);try{e[me]&=-129,e[me]|=256,e[Xn]&&uh(e[Xn]),h3(n,e),d3(n,e),e[le].type===1&&e[ft].destroy();let r=e[mo];if(r!==null&&Hr(e[tn])){r!==e[tn]&&O0(r,e);let i=e[gi];i!==null&&i.detachView(n)}r0(e)}finally{Ie(t)}}function mk(n,e,t,r){let i=n?.[Dh];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);n&&zu.add(n),yx(t,()=>{if(i.leave&&i.leave.has(e.index)){let o=i.leave.get(e.index),a=[];if(o){for(let c=0;c<o.animateFns.length;c++){let d=o.animateFns[c],{promise:h}=d();a.push(h)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),l3(n,r)}else n&&zu.delete(n),r(!1)},i)}function l3(n,e){let t=n[Dh]?.running;if(t){t.then(()=>{n[Dh].running=void 0,zu.delete(n),e(!0)});return}e(!1)}function d3(n,e){let t=n.cleanup,r=e[Mu];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let a=t[o+3];a>=0?r[a]():r[-a].unsubscribe(),o+=2}else{let a=r[t[o+1]];t[o].call(a)}r!==null&&(e[Mu]=null);let i=e[rs];if(i!==null){e[rs]=null;for(let o=0;o<i.length;o++){let a=i[o];a()}}let s=e[Sh];if(s!==null){e[Sh]=null;for(let o of s)o.destroy()}}function h3(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Qa)){let s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];Qe(Ve.LifecycleHookStart,a,c);try{c.call(a)}finally{Qe(Ve.LifecycleHookEnd,a,c)}}else{Qe(Ve.LifecycleHookStart,i,s);try{s.call(i)}finally{Qe(Ve.LifecycleHookEnd,i,s)}}}}}function f3(n,e,t){return p3(n,e.parent,t)}function p3(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[$r];if(yo(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Wr.None||i===Wr.Emulated)return null}return qr(r,t)}function m3(n,e,t){return y3(n,e,t)}function g3(n,e,t){return n.type&40?qr(n,t):null}var y3=g3,gk;function L0(n,e,t,r){let i=f3(n,r,e),s=e[ft],o=r.parent||e[yr],a=m3(o,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)dk(s,i,t[c],a,!1);else dk(s,i,t,a,!1);gk!==void 0&&gk(s,r,e,t,i)}function xh(n,e){if(e!==null){let t=e.type;if(t&3)return qr(e,n);if(t&4)return o0(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return xh(n,r);{let i=n[e.index];return Hr(i)?o0(-1,i):vr(i)}}else{if(t&128)return xh(n,e.next);if(t&32)return x0(e,n)()||vr(n[e.index]);{let r=Ex(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=uo(n[_r]);return xh(i,r)}else return xh(n,e.next)}}}return null}function Ex(n,e){if(e!==null){let r=n[_r][yr],i=e.projection;return r.projection[i]}return null}function o0(n,e){let t=Pn+n+1;if(t<e.length){let r=e[t],i=r[le].firstChild;if(i!==null)return xh(r,i)}return e[go]}function F0(n,e,t,r,i,s,o){for(;t!=null;){let a=r[po];if(t.type===128){t=t.next;continue}let c=r[t.index],d=t.type;if(o&&e===0&&(c&&qu(vr(c),r),t.flags|=2),!T0(t))if(d&8)F0(n,e,t.child,r,i,s,!1),Bu(e,n,a,i,c,t,s,r);else if(d&32){let h=x0(t,r),m;for(;m=h();)Bu(e,n,a,i,m,t,s,r);Bu(e,n,a,i,c,t,s,r)}else d&16?_3(n,e,r,t,i,s):Bu(e,n,a,i,c,t,s,r);t=o?t.projectionNext:t.next}}function ty(n,e,t,r,i,s){F0(t,r,n.firstChild,e,i,s,!1)}function _3(n,e,t,r,i,s){let o=t[_r],c=o[yr].projection[r.projection];if(Array.isArray(c))for(let d=0;d<c.length;d++){let h=c[d];Bu(e,n,t[po],i,h,r,s,t)}else{let d=c,h=o[tn];Kk(r)&&(d.flags|=128),F0(n,e,d,h,i,s,!0)}}function v3(n,e,t,r,i,s,o){let a=r[go],c=vr(r);a!==c&&Bu(e,n,t,s,a,i,o);for(let d=Pn;d<r.length;d++){let h=r[d];ty(h[le],h,n,e,s,a)}}function E3(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=r.indexOf("-")===-1?void 0:Ei.DashCase;i==null?n.removeStyle(t,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Ei.Important),n.setStyle(t,r,i,s))}}function Ix(n,e,t,r,i){let s=os(),o=r&2;try{_o(-1),o&&e.length>wn&&px(n,e,wn,!1);let a=o?Ve.TemplateUpdateStart:Ve.TemplateCreateStart;Qe(a,i,t),t(r,i)}finally{_o(s);let a=o?Ve.TemplateUpdateEnd:Ve.TemplateCreateEnd;Qe(a,i,t)}}function ny(n,e,t){D3(n,e,t),(t.flags&64)===64&&A3(n,e,t)}function ry(n,e,t=qr){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?t(e,n):n[o];n[i++]=a}}}function I3(n,e,t,r){let s=r.get(ex,Zk)||t===Wr.ShadowDom||t===Wr.ExperimentalIsolatedShadowDom,o=n.selectRootElement(e,s);return w3(o),o}function w3(n){b3(n)}var b3=()=>null;function T3(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function wx(n,e,t,r,i,s){let o=e[le];if(B0(n,o,e,t,r)){yo(n)&&S3(e,n.index);return}n.type&3&&(t=T3(t)),C3(n,e,t,r,i,s)}function C3(n,e,t,r,i,s){if(n.type&3){let o=qr(n,e);r=s!=null?s(r,n.value||"",t):r,i.setProperty(o,t,r)}else n.type&12}function S3(n,e){let t=Er(e,n);t[me]&16||(t[me]|=64)}function D3(n,e,t){let r=t.directiveStart,i=t.directiveEnd;yo(t)&&t3(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Lg(t,e);let s=t.initialInputs;for(let o=r;o<i;o++){let a=n.data[o],c=Oh(e,n,o,t);if(qu(c,e),s!==null&&k3(e,o-r,c,a,t,s),_i(a)){let d=Er(t.index,e);d[In]=Oh(e,n,o,t)}}}function A3(n,e,t){let r=t.directiveStart,i=t.directiveEnd,s=t.index,o=zN();try{_o(s);for(let a=r;a<i;a++){let c=n.data[a],d=e[a];yg(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&R3(c,d)}}finally{_o(-1),yg(o)}}function R3(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function V0(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let s=t[i];W$(e,s.selectors,!1)&&(r??=[],_i(s)?r.unshift(s):r.push(s))}return r}function P3(n,e,t,r,i,s){let o=qr(n,e);N3(e[ft],o,s,n.value,t,r,i)}function N3(n,e,t,r,i,s,o){if(s==null)n.removeAttribute(e,i,t);else{let a=o==null?pi(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}function k3(n,e,t,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;a+=2){let c=o[a],d=o[a+1];s0(r,t,c,d)}}function U0(n,e,t,r,i){let s=wn+t,o=e[le],a=i(o,e,n,r,t);e[s]=a,Uu(n,!0);let c=n.type===2;return c?(ax(e[ft],a,n),(LN()===0||Lu(n))&&qu(a,e),FN()):qu(a,e),wg()&&(!c||!T0(n))&&L0(o,e,a,n),n}function j0(n){let e=n;return Nw()?jN():(e=e.parent,Uu(e,!1)),e}function x3(n,e){let t=n[po];if(!t)return;let r;try{r=t.get(Ir,null)}catch{r=null}r?.(e)}function B0(n,e,t,r,i){let s=n.inputs?.[r],o=n.hostDirectiveInputs?.[r],a=!1;if(o)for(let c=0;c<o.length;c+=2){let d=o[c],h=o[c+1],m=e.data[d];s0(m,t[d],h,i),a=!0}if(s)for(let c of s){let d=t[c],h=e.data[c];s0(h,d,r,i),a=!0}return a}function M3(n,e){let t=Er(e,n),r=t[le];O3(r,t);let i=t[$r];i!==null&&t[Th]===null&&(t[Th]=tx(i,t[po])),Qe(Ve.ComponentStart);try{$0(r,t,t[In])}finally{Qe(Ve.ComponentEnd,t[In])}}function O3(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function $0(n,e,t){vg(e);try{let r=n.viewQuery;r!==null&&i0(1,r,t);let i=n.template;i!==null&&Ix(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[gi]?.finishViewCreation(n),n.staticContentQueries&&nx(n,e),n.staticViewQueries&&i0(2,n.viewQuery,t);let s=n.components;s!==null&&L3(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[me]&=-5,Eg()}}function L3(n,e){for(let t=0;t<e.length;t++)M3(n,e[t])}function F3(n,e,t,r){let i=Ie(null);try{let s=e.tView,a=n[me]&4096?4096:16,c=N0(n,s,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=n[e.index];c[mo]=d;let h=n[gi];return h!==null&&(c[gi]=h.createEmbeddedView(s)),$0(s,c,t),c}finally{Ie(i)}}function yk(n,e){return!e||e.firstChild===null||Kk(n)}function Lh(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&r.push(vr(s)),Hr(s)&&bx(s,r);let o=t.type;if(o&8)Lh(n,e,t.child,r);else if(o&32){let a=x0(t,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=Ex(e,t);if(Array.isArray(a))r.push(...a);else{let c=uo(e[_r]);Lh(c[le],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function bx(n,e){for(let t=Pn;t<n.length;t++){let r=n[t],i=r[le].firstChild;i!==null&&Lh(r[le],r,i,e)}n[go]!==n[$r]&&e.push(n[go])}function Tx(n){if(n[qa]!==null){for(let e of n[qa])e.impl.addSequence(e);n[qa].length=0}}var Cx=[];function V3(n){return n[Xn]??U3(n)}function U3(n){let e=Cx.pop()??Object.create(B3);return e.lView=n,e}function j3(n){n.lView[Xn]!==n&&(n.lView=null,Cx.push(n))}var B3=ue(j({},oh),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Vu(n.lView)},consumerOnSignalRead(){this.lView[Xn]=this}});function $3(n){let e=n[Xn]??Object.create(H3);return e.lView=n,e}var H3=ue(j({},oh),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=uo(n.lView);for(;e&&!Sx(e[le]);)e=uo(e);e&&bw(e)},consumerOnSignalRead(){this.lView[Xn]=this}});function Sx(n){return n.type!==2}function Dx(n){if(n[Sh]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Sh])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[me]&8192)}}var q3=100;function Ax(n,e=0){let r=n[mi].rendererFactory,i=!1;i||r.begin?.();try{z3(n,e)}finally{i||r.end?.()}}function z3(n,e){let t=kw();try{xw(!0),a0(n,e);let r=0;for(;Rh(n);){if(r===q3)throw new ee(103,!1);r++,a0(n,1)}}finally{xw(t)}}function G3(n,e,t,r){if(Ga(e))return;let i=e[me],s=!1,o=!1;vg(e);let a=!0,c=null,d=null;s||(Sx(n)?(d=V3(e),c=ch(d)):Tm()===null?(a=!1,d=$3(e),c=ch(d)):e[Xn]&&(uh(e[Xn]),e[Xn]=null));try{ww(e),$N(n.bindingStartIndex),t!==null&&Ix(n,e,t,2,r);let h=(i&3)===3;if(!s)if(h){let R=n.preOrderCheckHooks;R!==null&&Ag(e,R,null)}else{let R=n.preOrderHooks;R!==null&&Rg(e,R,0,null),zw(e,0)}if(o||W3(e),Dx(e),Rx(e,0),n.contentQueries!==null&&nx(n,e),!s)if(h){let R=n.contentCheckHooks;R!==null&&Ag(e,R)}else{let R=n.contentHooks;R!==null&&Rg(e,R,1),zw(e,1)}Q3(n,e);let m=n.components;m!==null&&Nx(e,m,0);let I=n.viewQuery;if(I!==null&&i0(2,I,r),!s)if(h){let R=n.viewCheckHooks;R!==null&&Ag(e,R)}else{let R=n.viewHooks;R!==null&&Rg(e,R,2),zw(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[dg]){for(let R of e[dg])R();e[dg]=null}s||(Tx(e),e[me]&=-73)}catch(h){throw s||Vu(e),h}finally{d!==null&&(Cm(d,c),a&&j3(d)),Eg()}}function Rx(n,e){for(let t=Yk(n);t!==null;t=Jk(t))for(let r=Pn;r<t.length;r++){let i=t[r];Px(i,e)}}function W3(n){for(let e=Yk(n);e!==null;e=Jk(e)){if(!(e[me]&2))continue;let t=e[za];for(let r=0;r<t.length;r++){let i=t[r];bw(i)}}}function K3(n,e,t){Qe(Ve.ComponentStart);let r=Er(e,n);try{Px(r,t)}finally{Qe(Ve.ComponentEnd,r[In])}}function Px(n,e){fg(n)&&a0(n,e)}function a0(n,e){let r=n[le],i=n[me],s=n[Xn],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Sm(s)),o||=!1,s&&(s.dirty=!1),n[me]&=-9217,o)G3(r,n,r.template,n[In]);else if(i&8192){let a=Ie(null);try{Dx(n),Rx(n,1);let c=r.components;c!==null&&Nx(n,c,1),Tx(n)}finally{Ie(a)}}}function Nx(n,e,t){for(let r=0;r<e.length;r++)K3(n,e[r],t)}function Q3(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)_o(~i);else{let s=i,o=t[++r],a=t[++r];qN(o,s);let c=e[s];Qe(Ve.HostBindingsUpdateStart,c);try{a(2,c)}finally{Qe(Ve.HostBindingsUpdateEnd,c)}}}}finally{_o(-1)}}function H0(n,e){let t=kw()?64:1088;for(n[mi].changeDetectionScheduler?.notify(e);n;){n[me]|=t;let r=uo(n);if(Fu(n)&&!r)return n;n=r}return null}function kx(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function Y3(n,e,t,r=!0){let i=e[le];if(J3(i,e,n,t),r){let o=o0(t,n),a=e[ft],c=a.parentNode(n[go]);c!==null&&c3(i,n[yr],a,e,c,o)}let s=e[Th];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function c0(n,e){if(n.length<=Pn)return;let t=Pn+e,r=n[t];if(r){let i=r[mo];i!==null&&i!==n&&O0(i,r),e>0&&(n[t-1][gr]=r[gr]);let s=Ih(n,Pn+e);a3(r[le],r);let o=s[gi];o!==null&&o.detachView(s[le]),r[tn]=null,r[gr]=null,r[me]&=-129}return r}function J3(n,e,t,r){let i=Pn+r,s=t.length;r>0&&(t[i-1][gr]=e),r<s-Pn?(e[gr]=t[i],hw(t,Pn+r,e)):(t.push(e),e[gr]=null),e[tn]=t;let o=e[mo];o!==null&&t!==o&&xx(o,e);let a=e[gi];a!==null&&a.insertView(n),pg(e),e[me]|=128}function xx(n,e){let t=n[za],r=e[tn];if(yi(r))n[me]|=2;else{let i=r[tn][_r];e[_r]!==i&&(n[me]|=2)}t===null?n[za]=[e]:t.push(e)}var vo=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[le];return Lh(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[In]}set context(e){this._lView[In]=e}get destroyed(){return Ga(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[tn];if(Hr(e)){let t=e[Ah],r=t?t.indexOf(this):-1;r>-1&&(c0(e,r),Ih(t,r))}this._attachedToViewContainer=!1}vx(this._lView[le],this._lView)}onDestroy(e){Tw(this._lView,e)}markForCheck(){H0(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[me]&=-129}reattach(){pg(this._lView),this._lView[me]|=128}detectChanges(){this._lView[me]|=1024,Ax(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Fu(this._lView),t=this._lView[mo];t!==null&&!e&&O0(t,this._lView),_x(this._lView[le],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ee(902,!1);this._appRef=e;let t=Fu(this._lView),r=this._lView[mo];r!==null&&!t&&xx(r,this._lView),pg(this._lView)}};var Eo=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=X3;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let s=F3(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new vo(s)}}return n})();function X3(){return q0(Kt(),xe())}function q0(n,e){return n.type&4?new Eo(e,n,Ku(n,e)):null}function iy(n,e,t,r,i){let s=n.data[e];if(s===null)s=Z3(n,e,t,r,i),HN()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=r,s.attrs=i;let o=UN();s.injectorIndex=o===null?-1:o.injectorIndex}return Uu(s,!0),s}function Z3(n,e,t,r,i){let s=Pw(),o=Nw(),a=o?s:s&&s.parent,c=n.data[e]=tH(n,a,t,e,r,i);return eH(n,c,s,o),c}function eH(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function tH(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return VN()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var nH=()=>null;function _k(n,e){return nH(n,e)}var Mx=class{},sy=class{},u0=class{resolveComponentFactory(e){throw new ee(917,!1)}},Hh=class{static NULL=new u0},Ya=class{},tr=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>rH()}return n})();function rH(){let n=xe(),e=Kt(),t=Er(e.index,n);return(yi(t)?t:n)[ft]}var Ox=(()=>{class n{static \u0275prov=re({token:n,providedIn:"root",factory:()=>null})}return n})();var Ng={},l0=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,Ng,r);return i!==Ng||t===Ng?i:this.parentInjector.get(e,t,r)}};function Bg(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=ew(i,a);else if(s==2){let c=a,d=e[++o];r=ew(r,c+": "+d+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function se(n,e=0){let t=xe();if(t===null)return fe(n,e);let r=Kt();return zk(r,t,mn(n),e)}function z0(){let n="invalid";throw new Error(n)}function Lx(n,e,t,r,i){let s=r===null?null:{"":-1},o=i(n,t);if(o!==null){let a=o,c=null,d=null;for(let h of o)if(h.resolveHostDirectives!==null){[a,c,d]=h.resolveHostDirectives(o);break}oH(n,e,t,a,s,c,d)}s!==null&&r!==null&&iH(t,r,s)}function iH(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let s=t[e[i+1]];if(s==null)throw new ee(-301,!1);r.push(e[i],s)}}function sH(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function oH(n,e,t,r,i,s,o){let a=r.length,c=null;for(let I=0;I<a;I++){let R=r[I];c===null&&_i(R)&&(c=R,sH(n,t,I)),t0(Lg(t,e),n,R.type)}hH(t,n.data.length,a),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let I=0;I<a;I++){let R=r[I];R.providersResolver&&R.providersResolver(R)}let d=!1,h=!1,m=fx(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let I=0;I<a;I++){let R=r[I];if(t.mergedAttrs=Hu(t.mergedAttrs,R.hostAttrs),cH(n,t,e,m,R),dH(m,R,i),o!==null&&o.has(R)){let[V,O]=o.get(R);t.directiveToIndex.set(R.type,[m,V+t.directiveStart,O+t.directiveStart])}else(s===null||!s.has(R))&&t.directiveToIndex.set(R.type,m);R.contentQueries!==null&&(t.flags|=4),(R.hostBindings!==null||R.hostAttrs!==null||R.hostVars!==0)&&(t.flags|=64);let k=R.type.prototype;!d&&(k.ngOnChanges||k.ngOnInit||k.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),d=!0),!h&&(k.ngOnChanges||k.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),m++}aH(n,t,s)}function aH(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))vk(0,e,i,r),vk(1,e,i,r),Ik(e,r,!1);else{let s=t.get(i);Ek(0,e,s,r),Ek(1,e,s,r),Ik(e,r,!0)}}}function vk(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o;n===0?o=e.inputs??={}:o=e.outputs??={},o[s]??=[],o[s].push(r),Fx(e,s)}}function Ek(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o=i[s],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[o]??=[],a[o].push(r,s),Fx(e,o)}}function Fx(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function Ik(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:s}=n;if(r===null||!t&&i===null||t&&s===null||R0(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let o=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let d=i[c];for(let h of d)if(h===e){o??=[],o.push(c,r[a+1]);break}}else if(t&&s.hasOwnProperty(c)){let d=s[c];for(let h=0;h<d.length;h+=2)if(d[h]===e){o??=[],o.push(d[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(o)}function cH(n,e,t,r,i){n.data[r]=i;let s=i.factory||(i.factory=Fa(i.type,!0)),o=new Qa(s,_i(i),se,null);n.blueprint[r]=o,t[r]=o,uH(n,e,r,fx(n,t,i.hostVars,br),i)}function uH(n,e,t,r,i){let s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let a=~e.index;lH(o)!=a&&o.push(a),o.push(t,r,s)}}function lH(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function dH(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;_i(e)&&(t[""]=n)}}function hH(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function G0(n,e,t,r,i,s,o,a){let c=e[le],d=c.consts,h=Wa(d,o),m=iy(c,n,t,r,h);return s&&Lx(c,e,m,Wa(d,a),i),m.mergedAttrs=Hu(m.mergedAttrs,m.attrs),m.attrs!==null&&Bg(m,m.attrs,!1),m.mergedAttrs!==null&&Bg(m,m.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,m),m}function W0(n,e){Lk(n,e),Ew(e)&&n.queries.elementEnd(e)}function fH(n,e,t,r,i,s){let o=e.consts,a=Wa(o,i),c=iy(e,n,t,r,a);if(c.mergedAttrs=Hu(c.mergedAttrs,c.attrs),s!=null){let d=Wa(o,s);c.localNames=[];for(let h=0;h<d.length;h+=2)c.localNames.push(d[h],-1)}return c.attrs!==null&&Bg(c,c.attrs,!1),c.mergedAttrs!==null&&Bg(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function K0(n){return Ux(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function Vx(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function Ux(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Io(n,e,t){if(t===br)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function jx(n,e,t,r){let i=Io(n,e,t);return Io(n,e+1,r)||i}function pH(n,e,t,r,i){let s=jx(n,e,t,r);return Io(n,e+2,i)||s}function kg(n,e,t){return function r(i){let s=yo(n)?Er(n.index,e):e;H0(s,5);let o=e[In],a=wk(e,o,t,i),c=r.__ngNextListenerFn__;for(;c;)a=wk(e,o,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function wk(n,e,t,r){let i=Ie(null);try{return Qe(Ve.OutputStart,e,t),t(r)!==!1}catch(s){return x3(n,s),!1}finally{Qe(Ve.OutputEnd,e,t),Ie(i)}}function Bx(n,e,t,r,i,s,o,a){let c=Lu(n),d=!1,h=null;if(!r&&c&&(h=gH(e,t,s,n.index)),h!==null){let m=h.__ngLastListenerFn__||h;m.__ngNextListenerFn__=o,h.__ngLastListenerFn__=o,d=!0}else{let m=qr(n,t),I=r?r(m):m;C$(t,I,s,a);let R=i.listen(I,s,a);if(!mH(s)){let k=r?V=>r(vr(V[n.index])):n.index;$x(k,e,t,s,a,R,!1)}}return d}function mH(n){return n.startsWith("animation")||n.startsWith("transition")}function gH(n,e,t,r){let i=n.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===t&&i[s+1]===r){let a=e[Mu],c=i[s+2];return a&&a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function $x(n,e,t,r,i,s,o){let a=e.firstCreatePass?Sw(e):null,c=Cw(t),d=c.length;c.push(i,s),a&&a.push(r,n,d,(d+1)*(o?-1:1))}function bk(n,e,t,r,i,s){let o=e[t],a=e[le],d=a.data[t].outputs[r],m=o[d].subscribe(s);$x(n.index,a,e,i,s,m,!0)}var d0=Symbol("BINDING");var $g=class extends Hh{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=ss(e);return new Ja(t,this.ngModule)}};function yH(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],s={propName:t,templateName:e,isSignal:(r&Zg.SignalBased)!==0};return i&&(s.transform=i),s})}function _H(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function vH(n,e,t){let r=e instanceof St?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new l0(t,r):t}function EH(n){let e=n.get(Ya,null);if(e===null)throw new ee(407,!1);let t=n.get(Ox,null),r=n.get(lo,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function IH(n,e){let t=Hx(n);return sx(e,t,t==="svg"?AN:t==="math"?RN:null)}function Hx(n){return(n.selectors[0][0]||"div").toLowerCase()}var Ja=class extends sy{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=yH(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=_H(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=J$(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,s,o){Qe(Ve.DynamicComponentStart);let a=Ie(null);try{let c=this.componentDef,d=wH(r,c,o,s),h=vH(c,i||this.ngModule,e),m=EH(h),I=m.rendererFactory.createRenderer(null,c),R=r?I3(I,r,c.encapsulation,h):IH(c,I),k=o?.some(Tk)||s?.some(q=>typeof q!="function"&&q.bindings.some(Tk)),V=N0(null,d,null,512|hx(c),null,null,m,I,h,null,tx(R,h,!0));V[wn]=R,vg(V);let O=null;try{let q=G0(wn,V,2,"#host",()=>d.directiveRegistry,!0,0);ax(I,R,q),qu(R,V),ny(d,V,q),C0(d,q,V),W0(d,q),t!==void 0&&TH(q,this.ngContentSelectors,t),O=Er(q.index,V),V[In]=O[In],$0(d,V,null)}catch(q){throw O!==null&&r0(O),r0(V),q}finally{Qe(Ve.DynamicComponentEnd),Eg()}return new Hg(this.componentType,V,!!k)}finally{Ie(a)}}};function wH(n,e,t,r){let i=n?["ng-version","21.0.6"]:X$(e.selectors[0]),s=null,o=null,a=0;if(t)for(let h of t)a+=h[d0].requiredVars,h.create&&(h.targetIdx=0,(s??=[]).push(h)),h.update&&(h.targetIdx=0,(o??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let m=r[h];if(typeof m!="function")for(let I of m.bindings){a+=I[d0].requiredVars;let R=h+1;I.create&&(I.targetIdx=R,(s??=[]).push(I)),I.update&&(I.targetIdx=R,(o??=[]).push(I))}}let c=[e];if(r)for(let h of r){let m=typeof h=="function"?h:h.type,I=uw(m);c.push(I)}return P0(0,null,bH(s,o),1,a,c,null,null,null,[i],null)}function bH(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function Tk(n){let e=n[d0].kind;return e==="input"||e==="twoWay"}var Hg=class extends Mx{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=hg(t[le],wn),this.location=Ku(this._tNode,t),this.instance=Er(this._tNode.index,t)[In],this.hostView=this.changeDetectorRef=new vo(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,s=B0(r,i[le],i,e,t);this.previousInputValues.set(e,t);let o=Er(r.index,i);H0(o,1)}get injector(){return new Ka(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function TH(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let s=t[i];r.push(s!=null&&s.length?Array.from(s):null)}}var Ii=(()=>{class n{static __NG_ELEMENT_ID__=CH}return n})();function CH(){let n=Kt();return zx(n,xe())}var SH=Ii,qx=class extends SH{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Ku(this._hostTNode,this._hostLView)}get injector(){return new Ka(this._hostTNode,this._hostLView)}get parentInjector(){let e=E0(this._hostTNode,this._hostLView);if(Uk(e)){let t=Og(e,this._hostLView),r=Mg(e),i=t[le].data[r+8];return new Ka(i,t)}else return new Ka(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=Ck(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Pn}createEmbeddedView(e,t,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=_k(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,i,yk(this._hostTNode,o)),a}createComponent(e,t,r,i,s,o,a){let c=e&&!J4(e),d;if(c)d=t;else{let O=t||{};d=O.index,r=O.injector,i=O.projectableNodes,s=O.environmentInjector||O.ngModuleRef,o=O.directives,a=O.bindings}let h=c?e:new Ja(ss(e)),m=r||this.parentInjector;if(!s&&h.ngModule==null){let q=(c?m:this.parentInjector).get(St,null);q&&(s=q)}let I=ss(h.componentType??{}),R=_k(this._lContainer,I?.id??null),k=R?.firstChild??null,V=h.create(m,i,k,s,o,a);return this.insertImpl(V.hostView,d,yk(this._hostTNode,R)),V}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(kN(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[tn],d=new qx(c,c[yr],c[tn]);d.detach(d.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return Y3(o,i,s,r),e.attachToViewContainerRef(),hw(Kw(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=Ck(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=c0(this._lContainer,t);r&&(Ih(Kw(this._lContainer),t),vx(r[le],r))}detach(e){let t=this._adjustIndex(e,-1),r=c0(this._lContainer,t);return r&&Ih(Kw(this._lContainer),t)!=null?new vo(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function Ck(n){return n[Ah]}function Kw(n){return n[Ah]||(n[Ah]=[])}function zx(n,e){let t,r=e[n.index];return Hr(r)?t=r:(t=kx(r,e,null,n),e[n.index]=t,k0(e,t)),AH(t,e,n,r),new qx(t,n,e)}function DH(n,e){let t=n[ft],r=t.createComment(""),i=qr(e,n),s=t.parentNode(i);return Ug(t,s,r,t.nextSibling(i),!1),r}var AH=NH,RH=()=>!1;function PH(n,e,t){return RH(n,e,t)}function NH(n,e,t,r){if(n[go])return;let i;t.type&8?i=vr(r):i=DH(e,t),n[go]=i}var h0=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},f0=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){let o=t.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Q0(e,t).matches!==null&&this.queries[t].setDirty()}},qg=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=UH(e):this.predicate=e}},p0=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,t!==null?t.push(s):t=[s])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},m0=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,t,kH(t,s)),this.matchTNodeWithReadOption(e,t,Pg(t,e,s,!1,!1))}else r===Eo?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Pg(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Nn||i===Ii||i===Eo&&t.type&4)this.addMatch(t.index,-2);else{let s=Pg(t,e,i,!1,!1);s!==null&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function kH(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function xH(n,e){return n.type&11?Ku(n,e):n.type&4?q0(n,e):null}function MH(n,e,t,r){return t===-1?xH(e,n):t===-2?OH(n,e,r):Oh(n,n[le],t,e)}function OH(n,e,t){if(t===Nn)return Ku(e,n);if(t===Eo)return q0(e,n);if(t===Ii)return zx(e,n)}function Gx(n,e,t,r){let i=e[gi].queries[r];if(i.matches===null){let s=n.data,o=t.matches,a=[];for(let c=0;o!==null&&c<o.length;c+=2){let d=o[c];if(d<0)a.push(null);else{let h=s[d];a.push(MH(e,h,o[c+1],t.metadata.read))}}i.matches=a}return i.matches}function g0(n,e,t,r){let i=n.queries.getByIndex(t),s=i.matches;if(s!==null){let o=Gx(n,e,i,t);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)r.push(o[a/2]);else{let d=s[a+1],h=e[-c];for(let m=Pn;m<h.length;m++){let I=h[m];I[mo]===I[tn]&&g0(I[le],I,d,r)}if(h[za]!==null){let m=h[za];for(let I=0;I<m.length;I++){let R=m[I];g0(R[le],R,d,r)}}}}}return r}function LH(n,e){return n[gi].queries[e].queryList}function Wx(n,e,t){let r=new Fg((t&4)===4);return ON(n,e,r,r.destroy),(e[gi]??=new f0).queries.push(new h0(r))-1}function FH(n,e,t){let r=nn();return r.firstCreatePass&&(Kx(r,new qg(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),Wx(r,xe(),e)}function VH(n,e,t,r){let i=nn();if(i.firstCreatePass){let s=Kt();Kx(i,new qg(e,t,r),s.index),jH(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return Wx(i,xe(),t)}function UH(n){return n.split(",").map(e=>e.trim())}function Kx(n,e,t){n.queries===null&&(n.queries=new p0),n.queries.track(new m0(e,t))}function jH(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function Q0(n,e){return n.queries.getByIndex(e)}function BH(n,e){let t=n[le],r=Q0(t,e);return r.crossesNgTemplate?g0(t,n,e,[]):Gx(t,n,r,e)}var wo=class{},oy=class{};function Y0(n,e){return new Fh(n,e??null,[])}var Fh=class extends wo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new $g(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let s=cw(e);this._bootstrapComponents=lx(s.bootstrap),this._r3Injector=Vw(e,t,[{provide:wo,useValue:this},{provide:Hh,useValue:this.componentFactoryResolver},...r],is(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},zg=class extends oy{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Fh(this.moduleType,e,[])}};var Vh=class extends wo{injector;componentFactoryResolver=new $g(this);instance=null;constructor(e){super();let t=new Ua([...e.providers,{provide:wo,useValue:this},{provide:Hh,useValue:this.componentFactoryResolver}],e.parent||bh(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Yu(n,e,t=null){return new Vh({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var $H=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=mw(!1,t.type),i=r.length>0?Yu([r],this._injector,""):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=re({token:n,providedIn:"environment",factory:()=>new n(fe(St))})}return n})();function ce(n){return Wu(()=>{let e=Qx(n),t=ue(j({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===I0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get($H).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Wr.Emulated,styles:n.styles||Yn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Qu("NgStandalone"),Yx(t);let r=n.dependencies;return t.directiveDefs=Sk(r,HH),t.pipeDefs=Sk(r,hN),t.id=GH(t),t})}function HH(n){return ss(n)||uw(n)}function wi(n){return Wu(()=>({type:n.type,bootstrap:n.bootstrap||Yn,declarations:n.declarations||Yn,imports:n.imports||Yn,exports:n.exports||Yn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function qH(n,e){if(n==null)return fo;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],s,o,a,c;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s,c=i[3]||null):(s=i,o=i,a=Zg.None,c=null),t[s]=[r,a,c],e[s]=o}return t}function zH(n){if(n==null)return fo;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function et(n){return Wu(()=>{let e=Qx(n);return Yx(e),e})}function Qx(n){let e={};return{type:n.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||fo,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Yn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:qH(n.inputs,e),outputs:zH(n.outputs),debugInfo:null}}function Yx(n){n.features?.forEach(e=>e(n))}function Sk(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let s=e(i);s!==null&&r.push(s)}return r}:null}function GH(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let s of r.join("|"))e=Math.imul(31,e)+s.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function WH(n){return Object.getPrototypeOf(n.prototype).constructor}function $n(n){let e=WH(n.type),t=!0,r=[n];for(;e;){let i;if(_i(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ee(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let o=n;o.inputs=Qw(n.inputs),o.declaredInputs=Qw(n.declaredInputs),o.outputs=Qw(n.outputs);let a=i.hostBindings;a&&XH(n,a);let c=i.viewQuery,d=i.contentQueries;if(c&&YH(n,c),d&&JH(n,d),KH(n,i),dN(n.outputs,i.outputs),_i(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(n),a===$n&&(t=!1)}}e=Object.getPrototypeOf(e)}QH(r)}function KH(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function QH(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Hu(i.hostAttrs,t=Hu(t,i.hostAttrs))}}function Qw(n){return n===fo?{}:n===Yn?[]:n}function YH(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function JH(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,s)=>{e(r,i,s),t(r,i,s)}:n.contentQueries=e}function XH(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function ZH(n,e,t,r,i,s,o,a){if(t.firstCreatePass){n.mergedAttrs=Hu(n.mergedAttrs,n.attrs);let h=n.tView=P0(2,n,i,s,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),h.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),Uu(n,!1);let c=t6(t,e,n,r);wg()&&L0(t,e,c,n),qu(c,e);let d=kx(c,e,c,n);e[r+wn]=d,k0(e,d),PH(d,n,e)}function e6(n,e,t,r,i,s,o,a,c,d,h){let m=t+wn,I;return e.firstCreatePass?(I=iy(e,m,4,o||null,a||null),mg()&&Lx(e,n,I,Wa(e.consts,d),V0),Lk(e,I)):I=e.data[m],ZH(I,n,e,t,r,i,s,c),Lu(I)&&ny(e,n,I),d!=null&&ry(n,I,h),I}function pt(n,e,t,r,i,s,o,a){let c=xe(),d=nn(),h=Wa(d.consts,s);return e6(c,d,n,e,t,r,i,h,void 0,o,a),pt}var t6=n6;function n6(n,e,t,r){return Nh(!0),e[ft].createComment("")}var J0=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function Jx(n){return typeof n=="function"&&n[An]!==void 0}function X0(n){return Jx(n)&&typeof n.set=="function"}var Z0=new Z("");function bo(n){return!!n&&typeof n.then=="function"}function eb(n){return!!n&&typeof n.subscribe=="function"}var tb=new Z("");function ay(n){return mr([{provide:tb,multi:!0,useValue:n}])}var nb=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=U(tb,{optional:!0})??[];injector=U(vt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let s=Nt(this.injector,i);if(bo(s))t.push(s);else if(eb(s)){let o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});t.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qh=new Z("");function Xx(){yI(()=>{let n="";throw new ee(600,n)})}function Zx(n){return n.isBoundToModule}var r6=10;var To=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=U(Ir);afterRenderManager=U(M0);zonelessEnabled=U(kh);rootEffectScheduler=U(qw);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Rt;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=U(as);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(rt(t=>!t))}constructor(){U(ec,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=U(St);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=vt.NULL){return this._injector.get(lt).run(()=>{Qe(Ve.BootstrapComponentStart);let o=t instanceof sy;if(!this._injector.get(nb).done){let k="";throw new ee(405,k)}let c;o?c=t:c=this._injector.get(Hh).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let d=Zx(c)?void 0:this._injector.get(wo),h=r||c.selector,m=c.create(i,[],h,d),I=m.location.nativeElement,R=m.injector.get(Z0,null);return R?.registerApplication(I),m.onDestroy(()=>{this.detachView(m.hostView),Mh(this.components,m),R?.unregisterApplication(I)}),this._loadComponent(m),Qe(Ve.BootstrapComponentEnd,m),m})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Qe(Ve.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(ey.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw Qe(Ve.ChangeDetectionEnd),new ee(101,!1);let t=Ie(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Ie(t),this.afterTick.next(),Qe(Ve.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ya,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<r6;){Qe(Ve.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{Qe(Ve.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Rh(i))continue;let s=r&&!this.zonelessEnabled?0:1;Ax(i,s),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Rh(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Mh(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(qh,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Mh(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new ee(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Mh(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Ju(n,e,t,r){let i=xe(),s=Ph();if(Io(i,s,e)){let o=nn(),a=Ig();P3(a,i,n,e,t,r)}return Ju}var qae=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function Xe(n,e,t){let r=xe(),i=Ph();if(Io(r,i,e)){let s=nn(),o=Ig();wx(o,r,n,e,r[ft],t)}return Xe}function Dk(n,e,t,r,i){B0(e,n,t,i?"class":"style",r)}function P(n,e,t,r){let i=xe(),s=i[le],o=n+wn,a=s.firstCreatePass?G0(o,i,2,e,V0,mg(),t,r):s.data[o];if(U0(a,i,n,e,eM),Lu(a)){let c=i[le];ny(c,i,a),C0(c,a,i)}return r!=null&&ry(i,a),P}function N(){let n=nn(),e=Kt(),t=j0(e);return n.firstCreatePass&&W0(n,t),Aw(t)&&Rw(),Dw(),t.classesWithoutHost!=null&&r$(t)&&Dk(n,t,xe(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&i$(t)&&Dk(n,t,xe(),t.stylesWithoutHost,!1),N}function K(n,e,t,r){return P(n,e,t,r),N(),K}function be(n,e,t,r){let i=xe(),s=i[le],o=n+wn,a=s.firstCreatePass?fH(o,s,2,e,t,r):s.data[o];return U0(a,i,n,e,eM),r!=null&&ry(i,a),be}function Te(){let n=Kt(),e=j0(n);return Aw(e)&&Rw(),Dw(),Te}function Xu(n,e,t,r){return be(n,e,t,r),Te(),Xu}var eM=(n,e,t,r,i)=>(Nh(!0),sx(e[ft],r,JN()));function rb(n,e,t){let r=xe(),i=r[le],s=n+wn,o=i.firstCreatePass?G0(s,r,8,"ng-container",V0,mg(),e,t):i.data[s];if(U0(o,r,n,"ng-container",i6),Lu(o)){let a=r[le];ny(a,r,o),C0(a,o,r)}return t!=null&&ry(r,o),rb}function ib(){let n=nn(),e=Kt(),t=j0(e);return n.firstCreatePass&&W0(n,t),ib}function cy(n,e,t){return rb(n,e,t),ib(),cy}var i6=(n,e,t,r,i)=>(Nh(!0),F$(e[ft],""));function kn(){return xe()}var zh="en-US";var s6=zh;function tM(n){typeof n=="string"&&(s6=n.toLowerCase().replace(/_/g,"-"))}function ie(n,e,t){let r=xe(),i=nn(),s=Kt();return nM(i,r,r[ft],s,n,e,t),ie}function bi(n,e,t){let r=xe(),i=nn(),s=Kt();return(s.type&3||t)&&Bx(s,i,r,t,r[ft],n,e,kg(s,r,e)),bi}function nM(n,e,t,r,i,s,o){let a=!0,c=null;if((r.type&3||o)&&(c??=kg(r,e,s),Bx(r,n,e,o,t,i,s,c)&&(a=!1)),a){let d=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let m=0;m<h.length;m+=2){let I=h[m],R=h[m+1];c??=kg(r,e,s),bk(r,e,I,R,i,c)}if(d&&d.length)for(let m of d)c??=kg(r,e,s),bk(r,e,m,i,i,c)}}function rn(n=1){return YN(n)}function uy(n,e,t,r){return VH(n,e,t,r),uy}function Zu(n,e,t){return FH(n,e,t),Zu}function tc(n){let e=xe(),t=nn(),r=Ow();_g(r+1);let i=Q0(t,r);if(n.dirty&&NN(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let s=BH(e,r);n.reset(s,y$),n.notifyOnChanges()}return!0}return!1}function nc(){return LH(xe(),Ow())}function Gh(n){let e=BN();return PN(e,wn+n)}function Dg(n,e){return n<<17|e<<2}function Xa(n){return n>>17&32767}function o6(n){return(n&2)==2}function a6(n,e){return n&131071|e<<17}function y0(n){return n|2}function Gu(n){return(n&131068)>>2}function Yw(n,e){return n&-131069|e<<2}function c6(n){return(n&1)===1}function _0(n){return n|1}function u6(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Xa(o),c=Gu(o);n[r]=t;let d=!1,h;if(Array.isArray(t)){let m=t;h=m[1],(h===null||ku(m,h)>0)&&(d=!0)}else h=t;if(i)if(c!==0){let I=Xa(n[a+1]);n[r+1]=Dg(I,a),I!==0&&(n[I+1]=Yw(n[I+1],r)),n[a+1]=a6(n[a+1],r)}else n[r+1]=Dg(a,0),a!==0&&(n[a+1]=Yw(n[a+1],r)),a=r;else n[r+1]=Dg(c,0),a===0?a=r:n[c+1]=Yw(n[c+1],r),c=r;d&&(n[r+1]=y0(n[r+1])),Ak(n,h,r,!0),Ak(n,h,r,!1),l6(e,h,n,r,s),o=Dg(a,c),s?e.classBindings=o:e.styleBindings=o}function l6(n,e,t,r,i){let s=i?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&ku(s,e)>=0&&(t[r+1]=_0(t[r+1]))}function Ak(n,e,t,r){let i=n[t+1],s=e===null,o=r?Xa(i):Gu(i),a=!1;for(;o!==0&&(a===!1||s);){let c=n[o],d=n[o+1];d6(c,e)&&(a=!0,n[o+1]=r?_0(d):y0(d)),o=r?Xa(d):Gu(d)}a&&(n[t+1]=r?y0(i):_0(i))}function d6(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?ku(n,e)>=0:!1}function Wh(n,e,t){return rM(n,e,t,!1),Wh}function Co(n,e){return rM(n,e,null,!0),Co}function rM(n,e,t,r){let i=xe(),s=nn(),o=gg(2);if(s.firstUpdatePass&&f6(s,n,o,r),e!==br&&Io(i,o,e)){let a=s.data[os()];_6(s,a,i,i[ft],n,i[o+1]=v6(e,t),r,o)}}function h6(n,e){return e>=n.expandoStartIndex}function f6(n,e,t,r){let i=n.data;if(i[t+1]===null){let s=i[os()],o=h6(n,t);E6(s,r)&&e===null&&!o&&(e=!1),e=p6(i,s,e,r),u6(i,s,e,t,o,r)}}function p6(n,e,t,r){let i=GN(n),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Jw(null,n,e,t,r),t=Uh(t,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||n[o]!==i)if(t=Jw(i,n,e,t,r),s===null){let c=m6(n,e,r);c!==void 0&&Array.isArray(c)&&(c=Jw(null,n,e,c[1],r),c=Uh(c,e.attrs,r),g6(n,e,r,c))}else s=y6(n,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),t}function m6(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Gu(r)!==0)return n[Xa(r)]}function g6(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Xa(i)]=r}function y6(n,e,t){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=n[s].hostAttrs;r=Uh(r,o,t)}return Uh(r,e.attrs,t)}function Jw(n,e,t,r,i){let s=null,o=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<o&&(s=e[a],r=Uh(r,s.hostAttrs,i),s!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Uh(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),IN(n,o,t?!0:e[++s]))}return n===void 0?null:n}function _6(n,e,t,r,i,s,o,a){if(!(e.type&3))return;let c=n.data,d=c[a+1],h=c6(d)?Rk(c,e,t,i,Gu(d),o):void 0;if(!Gg(h)){Gg(s)||o6(d)&&(s=Rk(c,null,t,i,a,o));let m=Iw(os(),t);E3(r,o,m,i,s)}}function Rk(n,e,t,r,i,s){let o=e===null,a;for(;i>0;){let c=n[i],d=Array.isArray(c),h=d?c[1]:c,m=h===null,I=t[i+1];I===br&&(I=m?Yn:void 0);let R=m?lg(I,r):h===r?I:void 0;if(d&&!Gg(R)&&(R=lg(c,r)),Gg(R)&&(a=R,o))return a;let k=n[i+1];i=o?Xa(k):Gu(k)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=lg(c,r))}return a}function Gg(n){return n!==void 0}function v6(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=is(Bh(n)))),n}function E6(n,e){return(n.flags&(e?8:16))!==0}function D(n,e=""){let t=xe(),r=nn(),i=n+wn,s=r.firstCreatePass?iy(r,i,1,e,null):r.data[i],o=I6(r,t,s,e,n);t[i]=o,wg()&&L0(r,t,o,s),Uu(s,!1)}var I6=(n,e,t,r,i)=>(Nh(!0),O$(e[ft],r));function w6(n,e,t,r=""){return Io(n,Ph(),t)?e+pi(t)+r:br}function b6(n,e,t,r,i,s=""){let o=Mw(),a=jx(n,o,t,i);return gg(2),a?e+pi(t)+r+pi(i)+s:br}function T6(n,e,t,r,i,s,o,a=""){let c=Mw(),d=pH(n,c,t,i,o);return gg(3),d?e+pi(t)+r+pi(i)+s+pi(o)+a:br}function Hn(n){return nr("",n),Hn}function nr(n,e,t){let r=xe(),i=w6(r,n,e,t);return i!==br&&sb(r,os(),i),nr}function el(n,e,t,r,i){let s=xe(),o=b6(s,n,e,t,r,i);return o!==br&&sb(s,os(),o),el}function ly(n,e,t,r,i,s,o){let a=xe(),c=T6(a,n,e,t,r,i,s,o);return c!==br&&sb(a,os(),c),ly}function sb(n,e,t){let r=Iw(e,n);L$(n[ft],r,t)}function tt(n,e,t){X0(e)&&(e=e());let r=xe(),i=Ph();if(Io(r,i,e)){let s=nn(),o=Ig();wx(o,r,n,e,r[ft],t)}return tt}function ot(n,e){let t=X0(n);return t&&n.set(e),t}function nt(n,e){let t=xe(),r=nn(),i=Kt();return nM(r,t,t[ft],i,n,e),nt}function Pk(n,e,t){let r=nn();r.firstCreatePass&&iM(e,r.data,r.blueprint,_i(n),t)}function iM(n,e,t,r,i){if(n=mn(n),Array.isArray(n))for(let s=0;s<n.length;s++)iM(n[s],e,t,r,i);else{let s=nn(),o=xe(),a=Kt(),c=Va(n)?n:mn(n.provide),d=yw(n),h=a.providerIndexes&1048575,m=a.directiveStart,I=a.providerIndexes>>20;if(Va(n)||!n.multi){let R=new Qa(d,i,se,null),k=Zw(c,e,i?h:h+I,m);k===-1?(t0(Lg(a,o),s,c),Xw(s,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(R),o.push(R)):(t[k]=R,o[k]=R)}else{let R=Zw(c,e,h+I,m),k=Zw(c,e,h,h+I),V=R>=0&&t[R],O=k>=0&&t[k];if(i&&!O||!i&&!V){t0(Lg(a,o),s,c);let q=D6(i?S6:C6,t.length,i,r,d,n);!i&&O&&(t[k].providerFactory=q),Xw(s,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(q),o.push(q)}else{let q=sM(t[i?k:R],d,!i&&r);Xw(s,n,R>-1?R:k,q)}!i&&r&&O&&t[k].componentProviders++}}}function Xw(n,e,t,r){let i=Va(e),s=CN(e);if(i||s){let c=(s?mn(e.useClass):e).prototype.ngOnDestroy;if(c){let d=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=d.indexOf(t);h===-1?d.push(t,[r,c]):d[h+1].push(r,c)}else d.push(t,c)}}}function sM(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Zw(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function C6(n,e,t,r,i){return v0(this.multi,[])}function S6(n,e,t,r,i){let s=this.multi,o;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Oh(r,r[le],this.providerFactory.index,i);o=c.slice(0,a),v0(s,o);for(let d=a;d<c.length;d++)o.push(c[d])}else o=[],v0(s,o);return o}function v0(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function D6(n,e,t,r,i,s){let o=new Qa(n,t,se,null);return o.multi=[],o.index=e,o.componentProviders=0,sM(o,i,r&&!t),o}function Ti(n,e){return t=>{t.providersResolver=(r,i)=>Pk(r,i?i(n):n,!1),e&&(t.viewProvidersResolver=(r,i)=>Pk(r,i?i(e):e,!0))}}var Wg=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},ob=(()=>{class n{compileModuleSync(t){return new zg(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=cw(t),s=lx(i.declarations).reduce((o,a)=>{let c=ss(a);return c&&o.push(new Ja(c)),o},[]);return new Wg(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var oM=(()=>{class n{applicationErrorHandler=U(Ir);appRef=U(To);taskService=U(as);ngZone=U(lt);zonelessEnabled=U(kh);tracing=U(ec,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Wt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(_h):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(U(Hw,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?jw:Uw;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(_h+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,jw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function aM(){return[{provide:lo,useExisting:oM},{provide:lt,useClass:vh},{provide:kh,useValue:!0}]}function A6(){return typeof $localize<"u"&&$localize.locale||zh}var dy=new Z("",{factory:()=>U(dy,{optional:!0,skipSelf:!0})||A6()});function tl(n,e){return Dm(n,e?.equal)}var hM=Symbol("InputSignalNode#UNSET"),$6=ue(j({},Am),{transformFn:void 0,applyValueToInputSignal(n,e){lh(n,e)}});function fM(n,e){let t=Object.create($6);t.value=n,t.transformFn=e?.transform;function r(){if(ah(t),t.value===hM){let i=null;throw new ee(-950,i)}return t.value}return r[An]=t,r}var fy=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>jh(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}};function cM(n,e){return fM(n,e)}function H6(n){return fM(hM,n)}var pM=(cM.required=H6,cM);var ab=new Z(""),q6=new Z("");function Kh(n){return!n.moduleRef}function z6(n){let e=Kh(n)?n.r3Injector:n.moduleRef.injector,t=e.get(lt);return t.run(()=>{Kh(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Ir),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),Kh(n)){let s=()=>e.destroy(),o=n.platformInjector.get(ab);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>n.moduleRef.destroy(),o=n.platformInjector.get(ab);o.add(s),n.moduleRef.onDestroy(()=>{Mh(n.allPlatformModules,n.moduleRef),i.unsubscribe(),o.delete(s)})}return W6(r,t,()=>{let s=e.get(as),o=s.add(),a=e.get(nb);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(dy,zh);if(tM(c||zh),!e.get(q6,!0))return Kh(n)?e.get(To):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Kh(n)){let h=e.get(To);return n.rootComponent!==void 0&&h.bootstrap(n.rootComponent),h}else return G6?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void s.remove(o))})})}var G6;function W6(n,e,t){try{let r=t();return bo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var hy=null;function K6(n=[],e){return vt.create({name:e,providers:[{provide:wh,useValue:"platform"},{provide:ab,useValue:new Set([()=>hy=null])},...n]})}function Q6(n=[]){if(hy)return hy;let e=K6(n);return hy=e,Xx(),Y6(e),e}function Y6(n){let e=n.get(Qg,null);Nt(n,()=>{e?.forEach(t=>t())})}function hb(){return!1}var cs=(()=>{class n{static __NG_ELEMENT_ID__=J6}return n})();function J6(n){return X6(Kt(),xe(),(n&16)===16)}function X6(n,e,t){if(yo(n)&&!t){let r=Er(n.index,e);return new vo(r,r)}else if(n.type&175){let r=e[_r];return new vo(r,e)}return null}var cb=class{constructor(){}supports(e){return K0(e)}create(e){return new ub(e)}},Z6=(n,e)=>e,ub=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||Z6}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){let o=!r||t&&t.currentIndex<uM(r,i,s)?t:r,a=uM(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,o.previousIndex==null)i++;else{s||(s=[]);let d=a-i,h=c-i;if(d!=h){for(let I=0;I<d;I++){let R=I<s.length?s[I]:s[I]=0,k=R+I;h<=k&&k<d&&(s[I]=R+1)}let m=o.previousIndex;s[m]=h-d}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!K0(e))throw new ee(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,s,o,a),r=!0):(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next}else i=0,Vx(e,a=>{o=this._trackByFn(i,a),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,a,o,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new lb(t,r),s,i)),e}_verifyReinsertion(e,t,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new py),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new py),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},lb=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},db=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},py=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new db,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function uM(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function lM(){return new fb([new cb])}var fb=(()=>{class n{factories;static \u0275prov=re({token:n,providedIn:"root",factory:lM});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=U(n,{optional:!0,skipSelf:!0});return n.create(t,r||lM())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new ee(901,!1)}}return n})();function mM(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;Qe(Ve.BootstrapApplicationStart);try{let s=i?.injector??Q6(r),o=[aM(),tk,...t||[]],a=new Vh({providers:o,parent:s,debugName:"",runEnvironmentInitializers:!1});return z6({r3Injector:a.injector,platformInjector:s,rootComponent:e})}catch(s){return Promise.reject(s)}finally{Qe(Ve.BootstrapApplicationEnd)}}function So(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function gM(n){let e=ss(n);if(!e)return null;let t=new Ja(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var yM=null;function Tr(){return yM}function pb(n){yM??=n}var Qh=class{},nl=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:()=>U(_M),providedIn:"platform"})}return n})(),mb=new Z(""),_M=(()=>{class n extends nl{_location;_history;_doc=U(Dt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Tr().getBaseHref(this._doc)}onPopState(t){let r=Tr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Tr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function my(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function vM(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Qr(n){return n&&n[0]!=="?"?`?${n}`:n}var Yr=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:()=>U(yy),providedIn:"root"})}return n})(),gy=new Z(""),yy=(()=>{class n extends Yr{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??U(Dt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return my(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Qr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Qr(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Qr(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(fe(nl),fe(gy,8))};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Do=(()=>{class n{_subject=new Rt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=nq(vM(EM(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Qr(r))}normalize(t){return n.stripTrailingSlash(tq(this._basePath,EM(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Qr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Qr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Qr;static joinWithSlash=my;static stripTrailingSlash=vM;static \u0275fac=function(r){return new(r||n)(fe(Yr))};static \u0275prov=re({token:n,factory:()=>eq(),providedIn:"root"})}return n})();function eq(){return new Do(fe(Yr))}function tq(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function EM(n){return n.replace(/\/index.html$/,"")}function nq(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var gb=(()=>{class n extends Yr{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=my(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Qr(s))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Qr(s))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(fe(nl),fe(gy,8))};static \u0275prov=re({token:n,factory:n.\u0275fac})}return n})();var yb=(()=>{class n{_viewContainerRef;ngComponentOutlet=null;ngComponentOutletInputs;ngComponentOutletInjector;ngComponentOutletEnvironmentInjector;ngComponentOutletContent;ngComponentOutletNgModule;_componentRef;_moduleRef;_inputsUsed=new Map;get componentInstance(){return this._componentRef?.instance??null}constructor(t){this._viewContainerRef=t}_needToReCreateNgModuleInstance(t){return t.ngComponentOutletNgModule!==void 0}_needToReCreateComponentInstance(t){return t.ngComponentOutlet!==void 0||t.ngComponentOutletContent!==void 0||t.ngComponentOutletInjector!==void 0||t.ngComponentOutletEnvironmentInjector!==void 0||this._needToReCreateNgModuleInstance(t)}ngOnChanges(t){if(this._needToReCreateComponentInstance(t)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){let r=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(t)&&(this._moduleRef?.destroy(),this.ngComponentOutletNgModule?this._moduleRef=Y0(this.ngComponentOutletNgModule,rq(r)):this._moduleRef=void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:r,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent,environmentInjector:this.ngComponentOutletEnvironmentInjector})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(let t of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(t,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(t){for(let[r,i]of this._inputsUsed)i?(t.setInput(r,this.ngComponentOutletInputs[r]),this._inputsUsed.set(r,!1)):(t.setInput(r,void 0),this._inputsUsed.delete(r))}static \u0275fac=function(r){return new(r||n)(se(Ii))};static \u0275dir=et({type:n,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletEnvironmentInjector:"ngComponentOutletEnvironmentInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule"},exportAs:["ngComponentOutlet"],features:[Kr]})}return n})();function rq(n){return n.get(wo).injector}var _y=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Cr=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new _y(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let a=r.get(s);r.move(a,o),IM(a,i)}});for(let i=0,s=r.length;i<s;i++){let a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);IM(s,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(se(Ii),se(Eo),se(fb))};static \u0275dir=et({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function IM(n,e){n.context.$implicit=e.item}var Jr=(()=>{class n{_viewContainer;_context=new vy;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){wM(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){wM(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(se(Ii),se(Eo))};static \u0275dir=et({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),vy=class{$implicit=null;ngIf=null};function wM(n,e){if(n&&!n.createEmbeddedView)throw new ee(2020,!1)}var ve=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=wi({type:n});static \u0275inj=Br({})}return n})();function _b(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,s]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Yh=class{};var bM="browser";var TM=(()=>{class n{static \u0275prov=re({token:n,providedIn:"root",factory:()=>new vb(U(Dt),window)})}return n})(),vb=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(ue(j({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=iq(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(ho(2400,!1))}}scrollToElement(e,t){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,s=r.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(ue(j({},t),{left:i-o[0],top:s-o[1]}))}};function iq(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var Jh=class{_doc;constructor(e){this._doc=e}manager},Ey=(()=>{class n extends Jh{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,s){return t.addEventListener(r,i,s),()=>this.removeEventListener(t,r,i,s)}removeEventListener(t,r,i,s){return t.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||n)(fe(Dt))};static \u0275prov=re({token:n,factory:n.\u0275fac})}return n})(),by=new Z(""),bb=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(o=>{o.manager=this});let i=t.filter(o=>!(o instanceof Ey));this._plugins=i.slice().reverse();let s=t.find(o=>o instanceof Ey);s&&this._plugins.push(s)}addEventListener(t,r,i,s){return this._findPluginFor(r).addEventListener(t,r,i,s)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new ee(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(fe(by),fe(lt))};static \u0275prov=re({token:n,factory:n.\u0275fac})}return n})(),Eb="ng-app-id";function CM(n){for(let e of n)e.remove()}function SM(n,e){let t=e.createElement("style");return t.textContent=n,t}function sq(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Eb}="${e}"],link[${Eb}="${e}"]`);if(i)for(let s of i)s.removeAttribute(Eb),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&t.set(s.textContent,{usage:0,elements:[s]})}function wb(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var Tb=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,sq(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,SM);r?.forEach(i=>this.addUsage(i,this.external,wb))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let s=r.get(t);s?s.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(CM(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])CM(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,SM(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,wb(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(fe(Dt),fe(Kg),fe(Yg,8),fe(Za))};static \u0275prov=re({token:n,factory:n.\u0275fac})}return n})(),Ib={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Cb=/%COMP%/g;var AM="%COMP%",oq=`_nghost-${AM}`,aq=`_ngcontent-${AM}`,cq=!0,uq=new Z("",{factory:()=>cq});function lq(n){return aq.replace(Cb,n)}function dq(n){return oq.replace(Cb,n)}function RM(n,e){return e.map(t=>t.replace(Cb,n))}var Sb=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(t,r,i,s,o,a,c=null,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.ngZone=a,this.nonce=c,this.tracingService=d,this.defaultRenderer=new Xh(t,o,a,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof wy?i.applyToHost(t):i instanceof Zh&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,m=this.tracingService;switch(r.encapsulation){case Wr.Emulated:s=new wy(c,d,r,this.appId,h,o,a,m);break;case Wr.ShadowDom:return new Iy(c,t,r,o,a,this.nonce,m,d);case Wr.ExperimentalIsolatedShadowDom:return new Iy(c,t,r,o,a,this.nonce,m);default:s=new Zh(c,d,r,h,o,a,m);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(fe(bb),fe(Tb),fe(Kg),fe(uq),fe(Dt),fe(lt),fe(Yg),fe(ec,8))};static \u0275prov=re({token:n,factory:n.\u0275fac})}return n})(),Xh=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Ib[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(DM(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(DM(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new ee(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=Ib[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Ib[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Ei.DashCase|Ei.Important)?e.style.setProperty(t,r,i&Ei.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Ei.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Tr().getGlobalEventTarget(this.doc,e),!e))throw new ee(5102,!1);let s=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(e,t,s)),this.eventManager.addEventListener(e,t,s,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function DM(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Iy=class extends Xh{hostEl;sharedStylesHost;shadowRoot;constructor(e,t,r,i,s,o,a,c){super(e,i,s,a),this.hostEl=t,this.sharedStylesHost=c,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let d=r.styles;d=RM(r.id,d);for(let m of d){let I=document.createElement("style");o&&I.setAttribute("nonce",o),I.textContent=m,this.shadowRoot.appendChild(I)}let h=r.getExternalStyles?.();if(h)for(let m of h){let I=wb(m,i);o&&I.setAttribute("nonce",o),this.shadowRoot.appendChild(I)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},Zh=class extends Xh{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=c?RM(c,d):d,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&zu.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},wy=class extends Zh{contentAttr;hostAttr;constructor(e,t,r,i,s,o,a,c){let d=i+"-"+r.id;super(e,t,r,s,o,a,c,d),this.contentAttr=lq(d),this.hostAttr=dq(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Ty=class n extends Qh{supportsDOMEvents=!0;static makeCurrent(){pb(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=hq();return t==null?null:fq(t)}resetBaseElement(){ef=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return _b(document.cookie,e)}},ef=null;function hq(){return ef=ef||document.head.querySelector("base"),ef?ef.getAttribute("href"):null}function fq(n){return new URL(n,document.baseURI).pathname}var pq=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:n.\u0275fac})}return n})(),PM=["alt","control","meta","shift"],mq={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gq={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},NM=(()=>{class n extends Jh{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,s){let o=n.parseEventName(r),a=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Tr().onAndCancel(t,o.domEventName,a,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),PM.forEach(d=>{let h=r.indexOf(d);h>-1&&(r.splice(h,1),o+=d+".")}),o+=s,r.length!=0||s.length===0)return null;let c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(t,r){let i=mq[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),PM.forEach(o=>{if(o!==i){let a=gq[o];a(t)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(fe(Dt))};static \u0275prov=re({token:n,factory:n.\u0275fac})}return n})();function Db(n,e,t){let r=j({rootComponent:n,platformRef:t?.platformRef},yq(e));return mM(r)}function yq(n){return{appProviders:[...wq,...n?.providers??[]],platformProviders:Iq}}function _q(){Ty.makeCurrent()}function vq(){return new fi}function Eq(){return w0(document),document}var Iq=[{provide:Za,useValue:bM},{provide:Qg,useValue:_q,multi:!0},{provide:Dt,useFactory:Eq}];var wq=[{provide:wh,useValue:"root"},{provide:fi,useFactory:vq},{provide:by,useClass:Ey,multi:!0},{provide:by,useClass:NM,multi:!0},Sb,Tb,bb,{provide:Ya,useExisting:Sb},{provide:Yh,useClass:pq},[]];var kM=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(fe(Dt))};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ye="primary",hf=Symbol("RouteTitle"),kb=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function oc(n){return new kb(n)}function BM(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Py(n){return new Promise((e,t)=>{n.pipe(ns()).subscribe({next:r=>e(r),error:r=>t(r)})})}function Tq(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ci(n[t],e[t]))return!1;return!0}function Ci(n,e){let t=n?xb(n):void 0,r=e?xb(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!$M(n[i],e[i]))return!1;return!0}function xb(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function $M(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function HM(n){return n.length>0?n[n.length-1]:null}function ac(n){return Km(n)?n:bo(n)?ht(Promise.resolve(n)):we(n)}function qM(n){return Km(n)?Py(n):Promise.resolve(n)}var Cq={exact:GM,subset:WM},zM={exact:Sq,subset:Dq,ignored:()=>!0};function xM(n,e,t){return Cq[t.paths](n.root,e.root,t.matrixParams)&&zM[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function Sq(n,e){return Ci(n,e)}function GM(n,e,t){if(!ic(n.segments,e.segments)||!Dy(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!GM(n.children[r],e.children[r],t))return!1;return!0}function Dq(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>$M(n[t],e[t]))}function WM(n,e,t){return KM(n,e,e.segments,t)}function KM(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!ic(i,t)||e.hasChildren()||!Dy(i,t,r))}else if(n.segments.length===t.length){if(!ic(n.segments,t)||!Dy(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!WM(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!ic(n.segments,i)||!Dy(n.segments,i,r)||!n.children[ye]?!1:KM(n.children[ye],e,s,r)}}function Dy(n,e,t){return e.every((r,i)=>zM[t](n[i].parameters,r.parameters))}var Zr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ze([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=oc(this.queryParams),this._queryParamMap}toString(){return Pq.serialize(this)}},ze=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ay(this)}},Ro=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=oc(this.parameters),this._parameterMap}toString(){return YM(this)}};function Aq(n,e){return ic(n,e)&&n.every((t,r)=>Ci(t.parameters,e[r].parameters))}function ic(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function Rq(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ye&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ye&&(t=t.concat(e(i,r)))}),t}var cc=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:()=>new us,providedIn:"root"})}return n})(),us=class{parse(e){let t=new Ob(e);return new Zr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${tf(e.root,!0)}`,r=xq(e.queryParams),i=typeof e.fragment=="string"?`#${Nq(e.fragment)}`:"";return`${t}${r}${i}`}},Pq=new us;function Ay(n){return n.segments.map(e=>YM(e)).join("/")}function tf(n,e){if(!n.hasChildren())return Ay(n);if(e){let t=n.children[ye]?tf(n.children[ye],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==ye&&r.push(`${i}:${tf(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=Rq(n,(r,i)=>i===ye?[tf(n.children[ye],!1)]:[`${i}:${tf(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ye]!=null?`${Ay(n)}/${t[0]}`:`${Ay(n)}/(${t.join("//")})`}}function QM(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Cy(n){return QM(n).replace(/%3B/gi,";")}function Nq(n){return encodeURI(n)}function Mb(n){return QM(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ry(n){return decodeURIComponent(n)}function MM(n){return Ry(n.replace(/\+/g,"%20"))}function YM(n){return`${Mb(n.path)}${kq(n.parameters)}`}function kq(n){return Object.entries(n).map(([e,t])=>`;${Mb(e)}=${Mb(t)}`).join("")}function xq(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Cy(t)}=${Cy(i)}`).join("&"):`${Cy(t)}=${Cy(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var Mq=/^[^\/()?;#]+/;function Ab(n){let e=n.match(Mq);return e?e[0]:""}var Oq=/^[^\/()?;=#]+/;function Lq(n){let e=n.match(Oq);return e?e[0]:""}var Fq=/^[^=?&#]+/;function Vq(n){let e=n.match(Fq);return e?e[0]:""}var Uq=/^[^&#]+/;function jq(n){let e=n.match(Uq);return e?e[0]:""}var Ob=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ze([],{}):new ze([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ye]=new ze(e,t)),r}parseSegment(){let e=Ab(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ee(4009,!1);return this.capture(e),new Ro(Ry(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=Lq(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Ab(this.remaining);i&&(r=i,this.capture(r))}e[Ry(t)]=Ry(r)}parseQueryParam(e){let t=Vq(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=jq(this.remaining);o&&(r=o,this.capture(r))}let i=MM(t),s=MM(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Ab(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new ee(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ye);let o=this.parseChildren();t[s??ye]=Object.keys(o).length===1&&o[ye]?o[ye]:new ze([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ee(4011,!1)}};function JM(n){return n.segments.length>0?new ze([],{[ye]:n}):n}function XM(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=XM(i);if(r===ye&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new ze(n.segments,e);return Bq(t)}function Bq(n){if(n.numberOfChildren===1&&n.children[ye]){let e=n.children[ye];return new ze(n.segments.concat(e.segments),e.children)}return n}function Po(n){return n instanceof Zr}function ZM(n,e,t=null,r=null,i=new us){let s=e1(n);return t1(s,e,t,r,i)}function e1(n){let e;function t(s){let o={};for(let c of s.children){let d=t(c);o[c.outlet]=d}let a=new ze(s.url,o);return s===n&&(e=a),a}let r=t(n.root),i=JM(r);return e??i}function t1(n,e,t,r,i){let s=n;for(;s.parent;)s=s.parent;if(e.length===0)return Rb(s,s,s,t,r,i);let o=$q(e);if(o.toRoot())return Rb(s,s,new ze([],{}),t,r,i);let a=Hq(o,s,n),c=a.processChildren?rf(a.segmentGroup,a.index,o.commands):r1(a.segmentGroup,a.index,o.commands);return Rb(s,a.segmentGroup,c,t,r,i)}function Ny(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function of(n){return typeof n=="object"&&n!=null&&n.outlets}function OM(n,e,t){n||="\u0275";let r=new Zr;return r.queryParams={[n]:e},t.parse(t.serialize(r)).queryParams[n]}function Rb(n,e,t,r,i,s){let o={};for(let[d,h]of Object.entries(r??{}))o[d]=Array.isArray(h)?h.map(m=>OM(d,m,s)):OM(d,h,s);let a;n===e?a=t:a=n1(n,e,t);let c=JM(XM(a));return new Zr(c,o,i)}function n1(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=n1(s,e,t)}),new ze(n.segments,r)}var ky=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ny(r[0]))throw new ee(4003,!1);let i=r.find(of);if(i&&i!==HM(r))throw new ee(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function $q(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new ky(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,d])=>{a[c]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new ky(t,e,r)}var il=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function Hq(n,e,t){if(n.isAbsolute)return new il(e,!0,0);if(!t)return new il(e,!1,NaN);if(t.parent===null)return new il(t,!0,0);let r=Ny(n.commands[0])?0:1,i=t.segments.length-1+r;return qq(t,i,n.numberOfDoubleDots)}function qq(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new ee(4005,!1);i=r.segments.length}return new il(r,!1,i-s)}function zq(n){return of(n[0])?n[0].outlets:{[ye]:n}}function r1(n,e,t){if(n??=new ze([],{}),n.segments.length===0&&n.hasChildren())return rf(n,e,t);let r=Gq(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new ze(n.segments.slice(0,r.pathIndex),{});return s.children[ye]=new ze(n.segments.slice(r.pathIndex),n.children),rf(s,0,i)}else return r.match&&i.length===0?new ze(n.segments,{}):r.match&&!n.hasChildren()?Lb(n,e,t):r.match?rf(n,0,i):Lb(n,e,t)}function rf(n,e,t){if(t.length===0)return new ze(n.segments,{});{let r=zq(t),i={};if(Object.keys(r).some(s=>s!==ye)&&n.children[ye]&&n.numberOfChildren===1&&n.children[ye].segments.length===0){let s=rf(n.children[ye],e,t);return new ze(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=r1(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ze(n.segments,i)}}function Gq(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let o=n.segments[i],a=t[r];if(of(a))break;let c=`${a}`,d=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&d&&typeof d=="object"&&d.outlets===void 0){if(!FM(c,d,o))return s;r+=2}else{if(!FM(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Lb(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(of(s)){let c=Wq(s.outlets);return new ze(r,c)}if(i===0&&Ny(t[0])){let c=n.segments[e];r.push(new Ro(c.path,LM(t[0]))),i++;continue}let o=of(s)?s.outlets[ye]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Ny(a)?(r.push(new Ro(o,LM(a))),i+=2):(r.push(new Ro(o,{})),i++)}return new ze(r,{})}function Wq(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Lb(new ze([],{}),0,r))}),e}function LM(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function FM(n,e,t){return n==t.path&&Ci(e,t.parameters)}var sl="imperative",Qt=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(Qt||{}),ir=class{id;url;constructor(e,t){this.id=e,this.url=t}},No=class extends ir{type=Qt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Mn=class extends ir{urlAfterRedirects;type=Qt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},xn=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(xn||{}),al=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(al||{}),Si=class extends ir{reason;code;type=Qt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Di=class extends ir{reason;code;type=Qt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},cl=class extends ir{error;target;type=Qt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},af=class extends ir{urlAfterRedirects;state;type=Qt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xy=class extends ir{urlAfterRedirects;state;type=Qt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},My=class extends ir{urlAfterRedirects;state;shouldActivate;type=Qt.GuardsCheckEnd;constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Oy=class extends ir{urlAfterRedirects;state;type=Qt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ly=class extends ir{urlAfterRedirects;state;type=Qt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fy=class{route;type=Qt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Vy=class{route;type=Qt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Uy=class{snapshot;type=Qt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jy=class{snapshot;type=Qt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},By=class{snapshot;type=Qt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$y=class{snapshot;type=Qt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ul=class{routerEvent;position;anchor;type=Qt.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},cf=class{},ll=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function Kq(n){return!(n instanceof cf)&&!(n instanceof ll)}function Qq(n,e){return n.providers&&!n._injector&&(n._injector=Yu(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Xr(n){return n.outlet||ye}function Yq(n,e){let t=n.filter(r=>Xr(r)===e);return t.push(...n.filter(r=>Xr(r)!==e)),t}function fl(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Hy=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return fl(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new uc(this.rootInjector)}},uc=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Hy(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(fe(St))};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qy=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Fb(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Fb(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Vb(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Vb(e,this._root).map(t=>t.value)}};function Fb(n,e){if(n===e.value)return e;for(let t of e.children){let r=Fb(n,t);if(r)return r}return null}function Vb(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Vb(n,t);if(r.length)return r.unshift(e),r}return[]}var rr=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function rl(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var uf=class extends qy{snapshot;constructor(e,t){super(e),this.snapshot=t,qb(this,e)}toString(){return this.snapshot.toString()}};function i1(n){let e=Jq(n),t=new fn([new Ro("",{})]),r=new fn({}),i=new fn({}),s=new fn({}),o=new fn(""),a=new Ai(t,r,s,o,i,ye,n,e.root);return a.snapshot=e.root,new uf(new rr(a,[]),e)}function Jq(n){let e={},t={},r={},s=new sc([],e,r,"",t,ye,n,null,{});return new lf("",new rr(s,[]))}var Ai=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(rt(d=>d[hf]))??we(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(rt(e=>oc(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(rt(e=>oc(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function zy(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:j(j({},e.params),n.params),data:j(j({},e.data),n.data),resolve:j(j(j(j({},n.data),e.data),i?.data),n._resolvedData)}:r={params:j({},n.params),data:j({},n.data),resolve:j(j({},n.data),n._resolvedData??{})},i&&o1(i)&&(r.resolve[hf]=i.title),r}var sc=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[hf]}constructor(e,t,r,i,s,o,a,c,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=oc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=oc(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},lf=class extends qy{url;constructor(e,t){super(t),this.url=e,qb(this,t)}toString(){return s1(this._root)}};function qb(n,e){e.value._routerState=n,e.children.forEach(t=>qb(n,t))}function s1(n){let e=n.children.length>0?` { ${n.children.map(s1).join(", ")} } `:"";return`${n.value}${e}`}function Pb(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ci(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Ci(e.params,t.params)||n.paramsSubject.next(t.params),Tq(e.url,t.url)||n.urlSubject.next(t.url),Ci(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Ub(n,e){let t=Ci(n.params,e.params)&&Aq(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Ub(n.parent,e.parent))}function o1(n){return typeof n.title=="string"||n.title===null}var a1=new Z(""),ls=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ye;activateEvents=new Ct;deactivateEvents=new Ct;attachEvents=new Ct;detachEvents=new Ct;routerOutletData=pM();parentContexts=U(uc);location=U(Ii);changeDetector=U(cs);inputBinder=U(ff,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ee(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ee(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ee(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new ee(4013,!1);this._activatedRoute=t;let i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new jb(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=et({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Kr]})}return n})(),jb=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Ai?this.route:e===uc?this.childContexts:e===a1?this.outletData:this.parent.get(e,t)}},ff=new Z(""),zb=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Xm([r.queryParams,r.params,r.data]).pipe(jr(([s,o,a],c)=>(a=j(j(j({},s),o),a),c===0?we(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let o=gM(r.component);if(!o){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:n.\u0275fac})}return n})(),Gb=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=ce({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&K(0,"router-outlet")},dependencies:[ls],encapsulation:2})}return n})();function Wb(n){let e=n.children&&n.children.map(Wb),t=e?ue(j({},n),{children:e}):j({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ye&&(t.component=Gb),t}function Xq(n,e,t){let r=df(n,e._root,t?t._root:void 0);return new uf(r,e)}function df(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=Zq(n,e,t);return new rr(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>df(n,a)),o}}let r=ez(e.value),i=e.children.map(s=>df(n,s));return new rr(r,i)}}function Zq(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return df(n,r,i);return df(n,r)})}function ez(n){return new Ai(new fn(n.url),new fn(n.params),new fn(n.queryParams),new fn(n.fragment),new fn(n.data),n.outlet,n.component,n)}var dl=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},c1="ngNavigationCancelingError";function Gy(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Po(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=u1(!1,xn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function u1(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[c1]=!0,t.cancellationCode=e,t}function tz(n){return l1(n)&&Po(n.url)}function l1(n){return!!n&&n[c1]}var nz=(n,e,t,r)=>rt(i=>(new Bb(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Bb=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Pb(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=rl(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=rl(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=rl(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=rl(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new $y(s.value.snapshot))}),e.children.length&&this.forwardEvent(new jy(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(Pb(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Pb(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Wy=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ol=class{component;route;constructor(e,t){this.component=e,this.route=t}};function rz(n,e,t){let r=n._root,i=e?e._root:null;return nf(r,i,t,[r.value])}function iz(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function pl(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!nw(n)?n:e.get(n):r}function nf(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=rl(e);return n.children.forEach(o=>{sz(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>sf(a,t.getContext(o),i)),i}function sz(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=oz(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Wy(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?nf(n,e,a?a.children:null,r,i):nf(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ol(a.outlet.component,o))}else o&&sf(e,a,i),i.canActivateChecks.push(new Wy(r)),s.component?nf(n,null,a?a.children:null,r,i):nf(n,null,t,r,i);return i}function oz(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!ic(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ic(n.url,e.url)||!Ci(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ub(n,e)||!Ci(n.queryParams,e.queryParams);case"paramsChange":default:return!Ub(n,e)}}function sf(n,e,t){let r=rl(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?e?sf(o,e.children.getContext(s),t):sf(o,null,t):sf(o,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new ol(e.outlet.component,i)):t.canDeactivateChecks.push(new ol(null,i)):t.canDeactivateChecks.push(new ol(null,i))}function pf(n){return typeof n=="function"}function az(n){return typeof n=="boolean"}function cz(n){return n&&pf(n.canLoad)}function uz(n){return n&&pf(n.canActivate)}function lz(n){return n&&pf(n.canActivateChild)}function dz(n){return n&&pf(n.canDeactivate)}function hz(n){return n&&pf(n.canMatch)}function d1(n){return n instanceof Ma||n?.name==="EmptyError"}var Sy=Symbol("INITIAL_VALUE");function hl(){return jr(n=>Xm(n.map(e=>e.pipe(ts(1),LI(Sy)))).pipe(rt(e=>{for(let t of e)if(t!==!0){if(t===Sy)return Sy;if(t===!1||fz(t))return t}return!0}),Bn(e=>e!==Sy),ts(1)))}function fz(n){return Po(n)||n instanceof dl}function h1(n){return n.aborted?we(void 0).pipe(ts(1)):new De(e=>{let t=()=>{e.next(),e.complete()};return n.addEventListener("abort",t),()=>n.removeEventListener("abort",t)})}function f1(n){return ph(h1(n))}function pz(n,e){return pn(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?we(ue(j({},t),{guardsResult:!0})):mz(o,r,i,n).pipe(pn(a=>a&&az(a)?gz(r,s,n,e):we(a)),rt(a=>ue(j({},t),{guardsResult:a})))})}function mz(n,e,t,r){return ht(n).pipe(pn(i=>Iz(i.component,i.route,t,e,r)),ns(i=>i!==!0,!0))}function gz(n,e,t,r){return ht(e).pipe(Ru(i=>Du(_z(i.route.parent,r),yz(i.route,r),Ez(n,i.path,t),vz(n,i.route,t))),ns(i=>i!==!0,!0))}function yz(n,e){return n!==null&&e&&e(new By(n)),we(!0)}function _z(n,e){return n!==null&&e&&e(new Uy(n)),we(!0)}function vz(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return we(!0);let i=r.map(s=>fh(()=>{let o=fl(e)??t,a=pl(s,o),c=uz(a)?a.canActivate(e,n):Nt(o,()=>a(e,n));return ac(c).pipe(ns())}));return we(i).pipe(hl())}function Ez(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>iz(o)).filter(o=>o!==null).map(o=>fh(()=>{let a=o.guards.map(c=>{let d=fl(o.node)??t,h=pl(c,d),m=lz(h)?h.canActivateChild(r,n):Nt(d,()=>h(r,n));return ac(m).pipe(ns())});return we(a).pipe(hl())}));return we(s).pipe(hl())}function Iz(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return we(!0);let o=s.map(a=>{let c=fl(e)??i,d=pl(a,c),h=dz(d)?d.canDeactivate(n,e,t,r):Nt(c,()=>d(n,e,t,r));return ac(h).pipe(ns())});return we(o).pipe(hl())}function wz(n,e,t,r,i){let s=e.canLoad;if(s===void 0||s.length===0)return we(!0);let o=s.map(a=>{let c=pl(a,n),d=cz(c)?c.canLoad(e,t):Nt(n,()=>c(e,t)),h=ac(d);return i?h.pipe(f1(i)):h});return we(o).pipe(hl(),p1(r))}function p1(n){return CI(Rn(e=>{if(typeof e!="boolean")throw Gy(n,e)}),rt(e=>e===!0))}function bz(n,e,t,r,i){let s=e.canMatch;if(!s||s.length===0)return we(!0);let o=s.map(a=>{let c=pl(a,n),d=hz(c)?c.canMatch(e,t):Nt(n,()=>c(e,t)),h=ac(d);return i?h.pipe(f1(i)):h});return we(o).pipe(hl(),p1(r))}var rc=class m1 extends Error{segmentGroup;constructor(e){super(),this.segmentGroup=e||null,Object.setPrototypeOf(this,m1.prototype)}},$b=class g1 extends Error{urlTree;constructor(e){super(),this.urlTree=e,Object.setPrototypeOf(this,g1.prototype)}};function Tz(n){throw new ee(4e3,!1)}function Cz(n){throw u1(!1,xn.GuardRejected)}var Sz=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}async lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[ye])throw Tz(`${e.redirectTo}`);i=i.children[ye]}}async applyRedirectCommands(e,t,r,i,s){let o=await Dz(t,i,s);if(o instanceof Zr)throw new $b(o);let a=this.applyRedirectCreateUrlTree(o,this.urlSerializer.parse(o),e,r);if(o[0]==="/")throw new $b(a);return a}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new Zr(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),o={};return Object.entries(t.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new ze(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new ee(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function Dz(n,e,t){if(typeof n=="string")return Promise.resolve(n);let r=n,{queryParams:i,fragment:s,routeConfig:o,url:a,outlet:c,params:d,data:h,title:m}=e;return Py(ac(Nt(t,()=>r({params:d,data:h,queryParams:i,fragment:s,routeConfig:o,url:a,outlet:c,title:m}))))}var Hb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Az(n,e,t,r,i,s){let o=y1(n,e,t);return o.matched?(r=Qq(e,r),bz(r,e,t,i,s).pipe(rt(a=>a===!0?o:j({},Hb)))):we(o)}function y1(n,e,t){if(e.path==="**")return Rz(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?j({},Hb):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||BM)(t,n,e);if(!i)return j({},Hb);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?j(j({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Rz(n){return{matched:!0,parameters:n.length>0?HM(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function VM(n,e,t,r){return t.length>0&&kz(n,t,r)?{segmentGroup:new ze(e,Nz(r,new ze(t,n.children))),slicedSegments:[]}:t.length===0&&xz(n,t,r)?{segmentGroup:new ze(n.segments,Pz(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new ze(n.segments,n.children),slicedSegments:t}}function Pz(n,e,t,r){let i={};for(let s of t)if(Qy(n,e,s)&&!r[Xr(s)]){let o=new ze([],{});i[Xr(s)]=o}return j(j({},r),i)}function Nz(n,e){let t={};t[ye]=e;for(let r of n)if(r.path===""&&Xr(r)!==ye){let i=new ze([],{});t[Xr(r)]=i}return t}function kz(n,e,t){return t.some(r=>Qy(n,e,r)&&Xr(r)!==ye)}function xz(n,e,t){return t.some(r=>Qy(n,e,r))}function Qy(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function Mz(n,e,t){return e.length===0&&!n.children[t]}var Oz=class{};async function Lz(n,e,t,r,i,s,o="emptyOnly",a){return new Vz(n,e,t,r,i,o,s,a).recognize()}var Fz=31,Vz=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,s,o,a,c){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.abortSignal=c,this.applyRedirects=new Sz(this.urlSerializer,this.urlTree)}noMatchError(e){return new ee(4002,`'${e.segmentGroup}'`)}async recognize(){let e=VM(this.urlTree.root,[],[],this.config).segmentGroup,{children:t,rootSnapshot:r}=await this.match(e),i=new rr(r,t),s=new lf("",i),o=ZM(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}async match(e){let t=new sc([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ye,this.rootComponentType,null,{});try{return{children:await this.processSegmentGroup(this.injector,this.config,e,ye,t),rootSnapshot:t}}catch(r){if(r instanceof $b)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof rc?this.noMatchError(r):r}}async processSegmentGroup(e,t,r,i,s){if(r.segments.length===0&&r.hasChildren())return this.processChildren(e,t,r,s);let o=await this.processSegment(e,t,r,r.segments,i,!0,s);return o instanceof rr?[o]:[]}async processChildren(e,t,r,i){let s=[];for(let c of Object.keys(r.children))c==="primary"?s.unshift(c):s.push(c);let o=[];for(let c of s){let d=r.children[c],h=Yq(t,c),m=await this.processSegmentGroup(e,h,d,c,i);o.push(...m)}let a=_1(o);return Uz(a),a}async processSegment(e,t,r,i,s,o,a){for(let c of t)try{return await this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,s,o,a)}catch(d){if(d instanceof rc||d1(d))continue;throw d}if(Mz(r,i,s))return new Oz;throw new rc(r)}async processSegmentAgainstRoute(e,t,r,i,s,o,a,c){if(Xr(r)!==o&&(o===ye||!Qy(i,s,r)))throw new rc(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(e,i,r,s,o,c);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o,c);throw new rc(i)}async expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o,a){let{matched:c,parameters:d,consumedSegments:h,positionalParamSegments:m,remainingSegments:I}=y1(t,i,s);if(!c)throw new rc(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Fz&&(this.allowRedirects=!1));let R=new sc(s,d,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,UM(i),Xr(i),i.component??i._loadedComponent??null,i,jM(i)),k=zy(R,a,this.paramsInheritanceStrategy);if(R.params=Object.freeze(k.params),R.data=Object.freeze(k.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let V=await this.applyRedirects.applyRedirectCommands(h,i.redirectTo,m,R,e),O=await this.applyRedirects.lineralizeSegments(i,V);return this.processSegment(e,r,t,O.concat(I),o,!1,a)}async matchSegmentAgainstRoute(e,t,r,i,s,o){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await Py(Az(t,r,i,e,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(t.children={}),!a?.matched)throw new rc(t);e=r._injector??e;let{routes:c}=await this.getChildConfig(e,r,i),d=r._loadedInjector??e,{parameters:h,consumedSegments:m,remainingSegments:I}=a,R=new sc(m,h,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,UM(r),Xr(r),r.component??r._loadedComponent??null,r,jM(r)),k=zy(R,o,this.paramsInheritanceStrategy);R.params=Object.freeze(k.params),R.data=Object.freeze(k.data);let{segmentGroup:V,slicedSegments:O}=VM(t,m,I,c);if(O.length===0&&V.hasChildren()){let ne=await this.processChildren(d,c,V,R);return new rr(R,ne)}if(c.length===0&&O.length===0)return new rr(R,[]);let q=Xr(r)===s,X=await this.processSegment(d,c,V,O,q?ye:s,!0,R);return new rr(R,X instanceof rr?[X]:[])}async getChildConfig(e,t,r){if(t.children)return{routes:t.children,injector:e};if(t.loadChildren){if(t._loadedRoutes!==void 0)return{routes:t._loadedRoutes,injector:t._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await Py(wz(e,t,r,this.urlSerializer,this.abortSignal))){let s=await this.configLoader.loadChildren(e,t);return t._loadedRoutes=s.routes,t._loadedInjector=s.injector,s}throw Cz(t)}return{routes:[],injector:e}}};function Uz(n){n.sort((e,t)=>e.value.outlet===ye?-1:t.value.outlet===ye?1:e.value.outlet.localeCompare(t.value.outlet))}function jz(n){let e=n.value.routeConfig;return e&&e.path===""}function _1(n){let e=[],t=new Set;for(let r of n){if(!jz(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=_1(r.children);e.push(new rr(r.value,i))}return e.filter(r=>!t.has(r))}function UM(n){return n.data||{}}function jM(n){return n.resolve||{}}var Bz=new Z("",{factory:()=>Lz});function $z(n,e,t,r,i,s,o){let a=n.get(Bz);return pn(c=>we(c).pipe(jr(d=>a(n,e,t,r,d.extractedUrl,i,s,o)),rt(({state:d,tree:h})=>ue(j({},c),{targetSnapshot:d,urlAfterRedirects:h}))))}function Hz(n,e){return pn(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return we(t);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let d of v1(c))o.add(d);let a=0;return ht(o).pipe(Ru(c=>s.has(c)?qz(c,r,n,e):(c.data=zy(c,c.parent,n).resolve,we(void 0))),Rn(()=>a++),Zm(1),pn(c=>a===o.size?we(t):Un))})}function v1(n){let e=n.children.map(t=>v1(t)).flat();return[n,...e]}function qz(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!o1(i)&&(s[hf]=i.title),fh(()=>(n.data=zy(n,n.parent,t).resolve,zz(s,n,e,r).pipe(rt(o=>(n._resolvedData=o,n.data=j(j({},n.data),o),null)))))}function zz(n,e,t,r){let i=xb(n);if(i.length===0)return we({});let s={};return ht(i).pipe(pn(o=>Gz(n[o],e,t,r).pipe(ns(),Rn(a=>{if(a instanceof dl)throw Gy(new us,a);s[o]=a}))),Zm(1),rt(()=>s),Au(o=>d1(o)?Un:kI(o)))}function Gz(n,e,t,r){let i=fl(e)??r,s=pl(n,i),o=s.resolve?s.resolve(e,t):Nt(i,()=>s(e,t));return ac(o)}function Nb(n){return jr(e=>{let t=n(e);return t?ht(t).pipe(rt(()=>e)):we(e)})}var Kb=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ye);return r}getResolvedTitleForRoute(t){return t.data[hf]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:()=>U(E1),providedIn:"root"})}return n})(),E1=(()=>{class n extends Kb{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(fe(kM))};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ko=new Z("",{factory:()=>({})}),lc=new Z(""),Yy=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=U(ob);async loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let s=await qM(Nt(t,()=>r.loadComponent())),o=await b1(w1(s));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o,o}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let s=await I1(r,this.compiler,t,this.onLoadEndListener);return r._loadedRoutes=s.routes,r._loadedInjector=s.injector,s}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();async function I1(n,e,t,r){let i=await qM(Nt(t,()=>n.loadChildren())),s=await b1(w1(i)),o;s instanceof oy||Array.isArray(s)?o=s:o=await e.compileModuleAsync(s),r&&r(n);let a,c,d=!1;return Array.isArray(o)?(c=o,d=!0):(a=o.create(t).injector,c=a.get(lc,[],{optional:!0,self:!0}).flat()),{routes:c.map(Wb),injector:a}}function Wz(n){return n&&typeof n=="object"&&"default"in n}function w1(n){return Wz(n)?n.default:n}async function b1(n){return n}var Jy=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:()=>U(Kz),providedIn:"root"})}return n})(),Kz=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Qb=new Z(""),Yb=new Z("");function T1(n,e,t){let r=n.get(Yb),i=n.get(Dt);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(d=>setTimeout(d));let s,o=new Promise(d=>{s=d}),a=i.startViewTransition(()=>(s(),Qz(n)));a.ready.catch(d=>{}),a.finished.catch(d=>{});let{onViewTransitionCreated:c}=r;return c&&Nt(n,()=>c({transition:a,from:e,to:t})),o}function Qz(n){return new Promise(e=>{$h({read:()=>setTimeout(e)},{injector:n})})}var Yz=()=>{},Jb=new Z(""),Xy=(()=>{class n{currentNavigation=Zn(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=Zn(null);events=new Rt;transitionAbortWithErrorSubject=new Rt;configLoader=U(Yy);environmentInjector=U(St);destroyRef=U(zr);urlSerializer=U(cc);rootContexts=U(uc);location=U(Do);inputBindingEnabled=U(ff,{optional:!0})!==null;titleStrategy=U(Kb);options=U(ko,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=U(Jy);createViewTransition=U(Qb,{optional:!0});navigationErrorHandler=U(Jb,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>we(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Fy(i)),r=i=>this.events.next(new Vy(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;kt(()=>{this.transitions?.next(ue(j({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(t){return this.transitions=new fn(null),this.transitions.pipe(Bn(r=>r!==null),jr(r=>{let i=!1,s=new AbortController;return we(r).pipe(jr(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",xn.SupersededByNewNavigation),Un;this.currentTransition=r;let a=this.lastSuccessfulNavigation();this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:a?ue(j({},a),{previousNavigation:null}):null,abort:()=>s.abort()});let c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!c&&d!=="reload")return this.events.next(new Di(o.id,this.urlSerializer.serialize(o.rawUrl),"",al.IgnoredSameUrlNavigation)),o.resolve(!1),Un;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return we(o).pipe(jr(h=>(this.events.next(new No(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),h.id!==this.navigationId?Un:Promise.resolve(h))),$z(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy,s.signal),Rn(h=>{r.targetSnapshot=h.targetSnapshot,r.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation.update(I=>(I.finalUrl=h.urlAfterRedirects,I));let m=new af(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(m)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:h,extractedUrl:m,source:I,restoredState:R,extras:k}=o,V=new No(h,this.urlSerializer.serialize(m),I,R);this.events.next(V);let O=i1(this.rootComponentType).snapshot;return this.currentTransition=r=ue(j({},o),{targetSnapshot:O,urlAfterRedirects:m,extras:ue(j({},k),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(q=>(q.finalUrl=m,q)),we(r)}else return this.events.next(new Di(o.id,this.urlSerializer.serialize(o.extractedUrl),"",al.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Un}),Rn(o=>{let a=new xy(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),rt(o=>(this.currentTransition=r=ue(j({},o),{guards:rz(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),pz(this.environmentInjector,o=>this.events.next(o)),Rn(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Gy(this.urlSerializer,o.guardsResult);let a=new My(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Bn(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",xn.GuardRejected),!1)),Nb(o=>{if(o.guards.canActivateChecks.length!==0)return we(o).pipe(Rn(a=>{let c=new Oy(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),jr(a=>{let c=!1;return we(a).pipe(Hz(this.paramsInheritanceStrategy,this.environmentInjector),Rn({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",xn.NoDataFromResolver)}}))}),Rn(a=>{let c=new Ly(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),Nb(o=>{let a=d=>{let h=[];if(d.routeConfig?._loadedComponent)d.component=d.routeConfig?._loadedComponent;else if(d.routeConfig?.loadComponent){let m=fl(d)??this.environmentInjector;h.push(this.configLoader.loadComponent(m,d.routeConfig).then(I=>{d.component=I}))}for(let m of d.children)h.push(...a(m));return h},c=a(o.targetSnapshot.root);return c.length===0?we(o):ht(Promise.all(c).then(()=>o))}),Nb(()=>this.afterPreactivation()),jr(()=>{let{currentSnapshot:o,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,o.root,a.root);return c?ht(c).pipe(rt(()=>r)):we(r)}),rt(o=>{let a=Xq(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=ue(j({},o),{targetRouterState:a}),this.currentNavigation.update(c=>(c.targetRouterState=a,c)),r}),Rn(()=>{this.events.next(new cf)}),nz(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),ts(1),ph(h1(s.signal).pipe(Bn(()=>!i&&!r.targetRouterState),Rn(()=>{this.cancelNavigationTransition(r,s.signal.reason+"",xn.Aborted)}))),Rn({next:o=>{i=!0,this.currentNavigation.update(a=>(a.abort=Yz,a)),this.lastSuccessfulNavigation.set(kt(this.currentNavigation)),this.events.next(new Mn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),ph(this.transitionAbortWithErrorSubject.pipe(Rn(o=>{throw o}))),OI(()=>{s.abort(),i||this.cancelNavigationTransition(r,"",xn.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Au(o=>{if(this.destroyed)return r.resolve(!1),Un;if(i=!0,l1(o))this.events.next(new Si(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),tz(o)?this.events.next(new ll(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let a=new cl(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let c=Nt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof dl){let{message:d,cancellationCode:h}=Gy(this.urlSerializer,c);this.events.next(new Si(r.id,this.urlSerializer.serialize(r.extractedUrl),d,h)),this.events.next(new ll(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),o}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return Un}))}))}cancelNavigationTransition(t,r,i){let s=new Si(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=kt(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Jz(n){return n!==sl}var C1=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:()=>U(Xz),providedIn:"root"})}return n})(),Ky=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},Xz=(()=>{class n extends Ky{static \u0275fac=(()=>{let t;return function(i){return(t||(t=wr(n)))(i||n)}})();static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Xb=(()=>{class n{urlSerializer=U(cc);options=U(ko,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=U(Do);urlHandlingStrategy=U(Jy);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Zr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let s=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,o=i??s;return o instanceof Zr?this.urlSerializer.serialize(o):o}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=i1(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:()=>U(S1),providedIn:"root"})}return n})(),S1=(()=>{class n extends Xb{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof No?this.updateStateMemento():t instanceof Di?this.commitTransition(r):t instanceof af?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof cf?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Si&&t.code!==xn.SupersededByNewNavigation&&t.code!==xn.Redirect?this.restoreHistory(r):t instanceof cl?this.restoreHistory(r,!0):t instanceof Mn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:s,state:o}=r;if(this.location.isCurrentPathEqualTo(t)||s){let a=this.browserPageId,c=j(j({},o),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=j(j({},o),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.getCurrentUrlTree()===t.finalUrl&&s===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=wr(n)))(i||n)}})();static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Zy(n,e){n.events.pipe(Bn(t=>t instanceof Mn||t instanceof Si||t instanceof cl||t instanceof Di),rt(t=>t instanceof Mn||t instanceof Di?0:(t instanceof Si?t.code===xn.Redirect||t.code===xn.SupersededByNewNavigation:!1)?2:1),Bn(t=>t!==2),ts(1)).subscribe(()=>{e()})}var Zz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},e5={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},at=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=U(J0);stateManager=U(Xb);options=U(ko,{optional:!0})||{};pendingTasks=U(as);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=U(Xy);urlSerializer=U(cc);location=U(Do);urlHandlingStrategy=U(Jy);injector=U(St);_events=new Rt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=U(C1);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=U(lc,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!U(ff,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Wt;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=kt(this.navigationTransitions.currentNavigation);if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Si&&r.code!==xn.Redirect&&r.code!==xn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Mn)this.navigated=!0;else if(r instanceof ll){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=j({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Jz(i.source)},o);this.scheduleNavigation(a,sl,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Kq(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),sl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let c=j({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s).catch(c=>{this.disposed||this.injector.get(Ir)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return kt(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Wb),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,d=c?this.currentUrlTree.fragment:o,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=j(j({},this.currentUrlTree.queryParams),s);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}h!==null&&(h=this.removeEmptyProps(h));let m;try{let I=i?i.snapshot:this.routerState.snapshot.root;m=e1(I)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),m=this.currentUrlTree.root}return t1(m,t,h,d??null,this.urlSerializer)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Po(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,sl,null,r)}navigate(t,r={skipLocationChange:!1}){return t5(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(ho(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=j({},Zz):r===!1?i=j({},e5):i=r,Po(t))return xM(this.currentUrlTree,t,i);let s=this.parseUrl(t);return xM(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,d;o?(a=o.resolve,c=o.reject,d=o.promise):d=new Promise((m,I)=>{a=m,c=I});let h=this.pendingTasks.add();return Zy(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(m=>Promise.reject(m))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function t5(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new ee(4008,!1)}var Ri=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Zn(null);get href(){return kt(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Rt;applicationErrorHandler=U(Ir);options=U(ko,{optional:!0});constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.reactiveHref.set(U(new fy("href"),{optional:!0}));let c=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof Mn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Po(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(d=>{this.applicationErrorHandler(d)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return this.routerLinkInput===null?null:Po(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(se(at),se(Ai),jh("tabindex"),se(tr),se(Nn),se(Yr))};static \u0275dir=et({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&ie("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&Ju("href",i.reactiveHref(),A0)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",So],skipLocationChange:[2,"skipLocationChange","skipLocationChange",So],replaceUrl:[2,"replaceUrl","replaceUrl",So],routerLink:"routerLink"},features:[Kr]})}return n})(),eT=(()=>{class n{router;element;renderer;cdr;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Ct;link=U(Ri,{optional:!0});constructor(t,r,i,s){this.router=t,this.element=r,this.renderer=i,this.cdr=s,this.routerEventsSubscription=t.events.subscribe(o=>{o instanceof Mn&&this.update()})}ngAfterContentInit(){we(this.links.changes,we(null)).pipe(ao()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=ht(t).pipe(ao()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=n5(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let s=i.urlTree;return s?t.isActive(s,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(se(at),se(Nn),se(tr),se(cs))};static \u0275dir=et({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,s){if(r&1&&uy(s,Ri,5),r&2){let o;tc(o=nc())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Kr]})}return n})();function n5(n){return!!n.paths}var mf=class{};var D1=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,s){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Bn(t=>t instanceof Mn),Ru(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=Yu(s.providers,t,`Route: ${s.path}`));let o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return ht(i).pipe(ao())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=ht(this.loader.loadChildren(t,r)):i=we(null);let s=i.pipe(pn(o=>o===null?we(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(t,r);return ht([s,o]).pipe(ao())}else return s})}static \u0275fac=function(r){return new(r||n)(fe(at),fe(St),fe(mf),fe(Yy))};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),A1=new Z(""),r5=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=sl;restoredId=0;store={};constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof No?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Mn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Di&&t.code===al.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{if(!(t instanceof ul))return;let r={behavior:"instant"};t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position,r):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(async()=>{await new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new ul(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){z0()};static \u0275prov=re({token:n,factory:n.\u0275fac})}return n})();function tT(n,...e){return mr([{provide:lc,multi:!0,useValue:n},[],{provide:Ai,useFactory:R1},{provide:qh,multi:!0,useFactory:P1},e.map(t=>t.\u0275providers)])}function R1(){return U(at).routerState.root}function gf(n,e){return{\u0275kind:n,\u0275providers:e}}function P1(){let n=U(vt);return e=>{let t=n.get(To);if(e!==t.components[0])return;let r=n.get(at),i=n.get(N1);n.get(nT)===1&&r.initialNavigation(),n.get(M1,null,{optional:!0})?.setUpPreloading(),n.get(A1,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var N1=new Z("",{factory:()=>new Rt}),nT=new Z("",{factory:()=>1});function k1(){let n=[{provide:b0,useValue:!0},{provide:nT,useValue:0},ay(()=>{let e=U(vt);return e.get(mb,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(at),s=e.get(N1);Zy(i,()=>{r(!0)}),e.get(Xy).afterPreactivation=()=>(r(!0),s.closed?we(void 0):s),i.initialNavigation()}))})];return gf(2,n)}function x1(){let n=[ay(()=>{U(at).setUpLocationChangeListener()}),{provide:nT,useValue:2}];return gf(3,n)}var M1=new Z("");function O1(n){return gf(0,[{provide:M1,useExisting:D1},{provide:mf,useExisting:n}])}function L1(){return gf(8,[zb,{provide:ff,useExisting:zb}])}function F1(n){Qu("NgRouterViewTransitions");let e=[{provide:Qb,useValue:T1},{provide:Yb,useValue:j({skipNextTransition:!!n?.skipInitialTransition},n)}];return gf(9,e)}var V1=[Do,{provide:cc,useClass:us},at,uc,{provide:Ai,useFactory:R1},Yy,[]],gn=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[V1,[],{provide:lc,multi:!0,useValue:t},[],r?.errorHandler?{provide:Jb,useValue:r.errorHandler}:[],{provide:ko,useValue:r||{}},r?.useHash?s5():o5(),i5(),r?.preloadingStrategy?O1(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?a5(r):[],r?.bindToComponentInputs?L1().\u0275providers:[],r?.enableViewTransitions?F1().\u0275providers:[],c5()]}}static forChild(t){return{ngModule:n,providers:[{provide:lc,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=wi({type:n});static \u0275inj=Br({})}return n})();function i5(){return{provide:A1,useFactory:()=>{let n=U(TM),e=U(lt),t=U(ko),r=U(Xy),i=U(cc);return t.scrollOffset&&n.setOffset(t.scrollOffset),new r5(i,r,n,e,t)}}}function s5(){return{provide:Yr,useClass:gb}}function o5(){return{provide:Yr,useClass:yy}}function a5(n){return[n.initialNavigation==="disabled"?x1().\u0275providers:[],n.initialNavigation==="enabledBlocking"?k1().\u0275providers:[]]}var Zb=new Z("");function c5(){return[{provide:Zb,useFactory:P1},{provide:qh,multi:!0,useExisting:Zb}]}var e_=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ce({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){t&1&&K(0,"router-outlet")},dependencies:[ls],encapsulation:2})};function u5(n,e){n&1&&(P(0,"p"),D(1,"Dobrodo\u0161li u Dashboard! Odaberite opciju iz navigacije iznad da biste vidjeli sadr\u017Eaj."),N())}var t_=class n{constructor(e){this.router=e;this.router.events.pipe(Bn(t=>t instanceof Mn)).subscribe(t=>{this.showWelcome=t.urlAfterRedirects==="/dashboard"})}showWelcome=!0;logout(){this.router.navigate(["/"])}static \u0275fac=function(t){return new(t||n)(se(at))};static \u0275cmp=ce({type:n,selectors:[["app-dashboard"]],decls:20,vars:1,consts:[[1,"navbar"],["routerLink","profile","routerLinkActive","active"],["routerLink","trackers","routerLinkActive","active"],["routerLink","student-fun-zone","routerLinkActive","active"],[1,"logout-link",3,"click"],[1,"dashboard-content"],[4,"ngIf"]],template:function(t,r){t&1&&(P(0,"header",0)(1,"nav")(2,"ul")(3,"li")(4,"a",1),D(5,"Profile"),N()(),P(6,"li")(7,"a",2),D(8,"Trackers"),N()(),P(9,"li")(10,"a",3),D(11,"Student Fun Zone"),N()(),P(12,"li")(13,"a",4),ie("click",function(){return r.logout()}),D(14,"Logout"),N()()()()(),P(15,"section",5),pt(16,u5,2,0,"p",6),K(17,"router-outlet"),N(),P(18,"footer"),D(19,` Web programiranje 2025 \u2014 Internacionalna poslovno-informaciona akademija Tuzla
`),N()),t&2&&(Q(16),Xe("ngIf",r.showWelcome))},dependencies:[gn,ls,Ri,eT,ve,Jr],styles:[".navbar[_ngcontent-%COMP%]{background-color:#1e73be;padding:15px 20px;display:flex;justify-content:center}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;display:flex;gap:40px;margin:0;padding:0}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-weight:700;font-family:Arial,sans-serif;font-size:18px}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}[_nghost-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.dashboard-content[_ngcontent-%COMP%]{padding:20px;font-family:Arial,sans-serif;flex:1}footer[_ngcontent-%COMP%]{margin-top:auto;text-align:center;padding:20px;color:#fff;background-color:#1e73be}.logout-link[_ngcontent-%COMP%]{color:#fff;text-transform:uppercase;font-weight:600;letter-spacing:.5px;text-decoration:none;padding:12px 15px;cursor:pointer;transition:background .3s ease,color .3s ease}.logout-link[_ngcontent-%COMP%]:hover{background-color:#0d47a1;border-radius:4px}"]})};var U1=()=>{};var $1=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},l5=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],a=n[t++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},H1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,a=o?n[i+1]:0,c=i+2<n.length,d=c?n[i+2]:0,h=s>>2,m=(s&3)<<4|a>>4,I=(a&15)<<2|d>>6,R=d&63;c||(R=64,o||(I=64)),r.push(t[h],t[m],t[I],t[R])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray($1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):l5(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let d=i<n.length?t[n.charAt(i)]:64;++i;let m=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||d==null||m==null)throw new iT;let I=s<<2|a>>4;if(r.push(I),d!==64){let R=a<<4&240|d>>2;if(r.push(R),m!==64){let k=d<<6&192|m;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},iT=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},d5=function(n){let e=$1(n);return H1.encodeByteArray(e,!0)},vf=function(n){return d5(n).replace(/\./g,"")},r_=function(n){try{return H1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function q1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var h5=()=>q1().__FIREBASE_DEFAULTS__,f5=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},p5=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&r_(n[1]);return e&&JSON.parse(e)},i_=()=>{try{return U1()||h5()||f5()||p5()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},oT=n=>i_()?.emulatorHosts?.[n],z1=n=>{let e=oT(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},aT=()=>i_()?.config,cT=n=>i_()?.[`_${n}`];var n_=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function xo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function s_(n){return(await fetch(n,{credentials:"include"})).ok}function G1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=j({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[vf(JSON.stringify(t)),vf(JSON.stringify(o)),""].join(".")}var _f={};function m5(){let n={prod:[],emulator:[]};for(let e of Object.keys(_f))_f[e]?n.emulator.push(e):n.prod.push(e);return n}function g5(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var j1=!1;function o_(n,e){if(typeof window>"u"||typeof document>"u"||!xo(window.location.host)||_f[n]===e||_f[n]||j1)return;_f[n]=e;function t(I){return`__firebase__banner__${I}`}let r="__firebase__banner",s=m5().prod.length>0;function o(){let I=document.getElementById(r);I&&I.remove()}function a(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function c(I,R){I.setAttribute("width","24"),I.setAttribute("id",R),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function d(){let I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{j1=!0,o()},I}function h(I,R){I.setAttribute("id",R),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function m(){let I=g5(r),R=t("text"),k=document.getElementById(R)||document.createElement("span"),V=t("learnmore"),O=document.getElementById(V)||document.createElement("a"),q=t("preprendIcon"),X=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){let ne=I.element;a(ne),h(O,V);let Re=d();c(X,q),ne.append(X,k,O,Re),document.body.appendChild(ne)}s?(k.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function W1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function y5(){let n=i_()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function K1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Q1(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Y1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function J1(){let n=sn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function X1(){return!y5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uT(){try{return typeof indexedDB=="object"}catch{return!1}}function Z1(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}var _5="FirebaseError",sr=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=_5,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ds.prototype.create)}},ds=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?v5(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new sr(i,a,r)}};function v5(n,e){return n.replace(E5,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var E5=/\{\$([^}]+)}/g;function eO(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Pi(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if(B1(s)&&B1(o)){if(!Pi(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function B1(n){return n!==null&&typeof n=="object"}function Ef(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function tO(n,e){let t=new sT(n,e);return t.subscribe.bind(t)}var sT=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");I5(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=rT),i.error===void 0&&(i.error=rT),i.complete===void 0&&(i.complete=rT);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function I5(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function rT(){}var Tye=14400*1e3;function or(n){return n&&n._delegate?n._delegate:n}var Sr=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var dc="[DEFAULT]";var lT=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new n_;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){let t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(b5(e))try{this.getOrInitializeService({instanceIdentifier:dc})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=dc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=dc){return this.instances.has(e)}getOptions(e=dc){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){let r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);let s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:w5(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=dc){return this.component?this.component.multipleInstances?e:dc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function w5(n){return n===dc?void 0:n}function b5(n){return n.instantiationMode==="EAGER"}var a_=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new lT(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var T5=[],Ne=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(Ne||{}),C5={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},S5=Ne.INFO,D5={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},A5=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=D5[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Mo=class{constructor(e){this.name=e,this._logLevel=S5,this._logHandler=A5,this._userLogHandler=null,T5.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?C5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}};var R5=(n,e)=>e.some(t=>n instanceof t),nO,rO;function P5(){return nO||(nO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function N5(){return rO||(rO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var iO=new WeakMap,hT=new WeakMap,sO=new WeakMap,dT=new WeakMap,pT=new WeakMap;function k5(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Ni(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&iO.set(t,n)}).catch(()=>{}),pT.set(e,n),e}function x5(n){if(hT.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});hT.set(n,e)}var fT={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return hT.get(n);if(e==="objectStoreNames")return n.objectStoreNames||sO.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ni(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function oO(n){fT=n(fT)}function M5(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(c_(this),e,...t);return sO.set(r,e.sort?e.sort():[e]),Ni(r)}:N5().includes(n)?function(...e){return n.apply(c_(this),e),Ni(iO.get(this))}:function(...e){return Ni(n.apply(c_(this),e))}}function O5(n){return typeof n=="function"?M5(n):(n instanceof IDBTransaction&&x5(n),R5(n,P5())?new Proxy(n,fT):n)}function Ni(n){if(n instanceof IDBRequest)return k5(n);if(dT.has(n))return dT.get(n);let e=O5(n);return e!==n&&(dT.set(n,e),pT.set(e,n)),e}var c_=n=>pT.get(n);function u_(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,e),a=Ni(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ni(o.result),c.oldVersion,c.newVersion,Ni(o.transaction),c)}),t&&o.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}var L5=["get","getKey","getAll","getAllKeys","count"],F5=["put","add","delete","clear"],mT=new Map;function aO(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(mT.get(e))return mT.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=F5.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||L5.includes(t)))return;let s=async function(o,...a){let c=this.transaction(o,i?"readwrite":"readonly"),d=c.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[t](...a),i&&c.done]))[0]};return mT.set(e,s),s}oO(n=>ue(j({},n),{get:(e,t,r)=>aO(e,t)||n.get(e,t,r),has:(e,t)=>!!aO(e,t)||n.has(e,t)}));var yT=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(V5(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function V5(n){return n.getComponent()?.type==="VERSION"}var _T="@firebase/app",cO="0.14.6";var fs=new Mo("@firebase/app"),U5="@firebase/app-compat",j5="@firebase/analytics-compat",B5="@firebase/analytics",$5="@firebase/app-check-compat",H5="@firebase/app-check",q5="@firebase/auth",z5="@firebase/auth-compat",G5="@firebase/database",W5="@firebase/data-connect",K5="@firebase/database-compat",Q5="@firebase/functions",Y5="@firebase/functions-compat",J5="@firebase/installations",X5="@firebase/installations-compat",Z5="@firebase/messaging",e9="@firebase/messaging-compat",t9="@firebase/performance",n9="@firebase/performance-compat",r9="@firebase/remote-config",i9="@firebase/remote-config-compat",s9="@firebase/storage",o9="@firebase/storage-compat",a9="@firebase/firestore",c9="@firebase/ai",u9="@firebase/firestore-compat",l9="firebase",d9="12.6.0";var vT="[DEFAULT]",h9={[_T]:"fire-core",[U5]:"fire-core-compat",[B5]:"fire-analytics",[j5]:"fire-analytics-compat",[H5]:"fire-app-check",[$5]:"fire-app-check-compat",[q5]:"fire-auth",[z5]:"fire-auth-compat",[G5]:"fire-rtdb",[W5]:"fire-data-connect",[K5]:"fire-rtdb-compat",[Q5]:"fire-fn",[Y5]:"fire-fn-compat",[J5]:"fire-iid",[X5]:"fire-iid-compat",[Z5]:"fire-fcm",[e9]:"fire-fcm-compat",[t9]:"fire-perf",[n9]:"fire-perf-compat",[r9]:"fire-rc",[i9]:"fire-rc-compat",[s9]:"fire-gcs",[o9]:"fire-gcs-compat",[a9]:"fire-fst",[u9]:"fire-fst-compat",[c9]:"fire-vertex","fire-js":"fire-js",[l9]:"fire-js-all"};var l_=new Map,f9=new Map,ET=new Map;function uO(n,e){try{n.container.addComponent(e)}catch(t){fs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Lo(n){let e=n.name;if(ET.has(e))return fs.debug(`There were multiple attempts to register component ${e}.`),!1;ET.set(e,n);for(let t of l_.values())uO(t,n);for(let t of f9.values())uO(t,n);return!0}function wf(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ar(n){return n==null?!1:n.settings!==void 0}var p9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oo=new ds("app","Firebase",p9);var IT=class{constructor(e,t,r){this._isDeleted=!1,this._options=j({},e),this._config=j({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Sr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oo.create("app-deleted",{appName:this._name})}};var Fo=d9;function m9(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=j({name:vT,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Oo.create("bad-app-name",{appName:String(i)});if(t||(t=aT()),!t)throw Oo.create("no-options");let s=l_.get(i);if(s){if(Pi(t,s.options)&&Pi(r,s.config))return s;throw Oo.create("duplicate-app",{appName:i})}let o=new a_(i);for(let c of ET.values())o.addComponent(c);let a=new IT(t,r,o);return l_.set(i,a),a}function d_(n=vT){let e=l_.get(n);if(!e&&n===vT&&aT())return m9();if(!e)throw Oo.create("no-app",{appName:n});return e}function hs(n,e,t){let r=h9[n]??n;t&&(r+=`-${t}`);let i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){let o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fs.warn(o.join(" "));return}Lo(new Sr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var g9="firebase-heartbeat-database",y9=1,If="firebase-heartbeat-store",gT=null;function fO(){return gT||(gT=u_(g9,y9,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(If)}catch(t){console.warn(t)}}}}).catch(n=>{throw Oo.create("idb-open",{originalErrorMessage:n.message})})),gT}async function _9(n){try{let t=(await fO()).transaction(If),r=await t.objectStore(If).get(pO(n));return await t.done,r}catch(e){if(e instanceof sr)fs.warn(e.message);else{let t=Oo.create("idb-get",{originalErrorMessage:e?.message});fs.warn(t.message)}}}async function lO(n,e){try{let r=(await fO()).transaction(If,"readwrite");await r.objectStore(If).put(e,pO(n)),await r.done}catch(t){if(t instanceof sr)fs.warn(t.message);else{let r=Oo.create("idb-set",{originalErrorMessage:t?.message});fs.warn(r.message)}}}function pO(n){return`${n.name}!${n.options.appId}`}var v9=1024,E9=30,wT=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new bT(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{let t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=dO();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>E9){let i=w9(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){fs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=dO(),{heartbeatsToSend:t,unsentEntries:r}=I9(this._heartbeatsCache.heartbeats),i=vf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return fs.warn(e),""}}};function dO(){return new Date().toISOString().substring(0,10)}function I9(n,e=v9){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),hO(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),hO(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var bT=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uT()?Z1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let t=await _9(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return lO(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return lO(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}};function hO(n){return vf(JSON.stringify({version:2,heartbeats:n})).length}function w9(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function b9(n){Lo(new Sr("platform-logger",e=>new yT(e),"PRIVATE")),Lo(new Sr("heartbeat",e=>new wT(e),"PRIVATE")),hs(_T,cO,n),hs(_T,cO,"esm2020"),hs("fire-js","")}b9("");function PO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var NO=PO,kO=new ds("auth","Firebase",PO());var y_=new Mo("@firebase/auth");function T9(n,...e){y_.logLevel<=Ne.WARN&&y_.warn(`Auth (${Fo}): ${n}`,...e)}function f_(n,...e){y_.logLevel<=Ne.ERROR&&y_.error(`Auth (${Fo}): ${n}`,...e)}function Bo(n,...e){throw WT(n,...e)}function hc(n,...e){return WT(n,...e)}function xO(n,e,t){let r=ue(j({},NO()),{[e]:t});return new ds("auth","Firebase",r).create(e,{appName:n.name})}function jo(n){return xO(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function WT(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return kO.create(n,...e)}function pe(n,e,...t){if(!n)throw WT(e,...t)}function ps(n){let e="INTERNAL ASSERTION FAILED: "+n;throw f_(e),new Error(e)}function $o(n,e){n||ps(e)}function DT(){return typeof self<"u"&&self.location?.href||""}function C9(){return mO()==="http:"||mO()==="https:"}function mO(){return typeof self<"u"&&self.location?.protocol||null}function S9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(C9()||Q1()||"connection"in navigator)?navigator.onLine:!0}function D9(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var fc=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,$o(t>e,"Short delay should be less than long delay!"),this.isMobile=W1()||Y1()}get(){return S9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function KT(n,e){$o(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var __=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ps("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ps("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ps("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var A9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var R9=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],P9=new fc(3e4,6e4);function Af(n,e){return n.tenantId&&!e.tenantId?ue(j({},e),{tenantId:n.tenantId}):e}async function Ho(n,e,t,r,i={}){return MO(n,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});let a=Ef(j({key:n.config.apiKey},o)).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);let d=j({method:e,headers:c},s);return K1()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&xo(n.emulatorConfig.host)&&(d.credentials="include"),__.fetch()(await LO(n,n.config.apiHost,t,a),d)})}async function MO(n,e,t){n._canInitEmulator=!1;let r=j(j({},A9),e);try{let i=new AT(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=await s.json();if("needConfirmation"in o)throw h_(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,d]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw h_(n,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw h_(n,"email-already-in-use",o);if(c==="USER_DISABLED")throw h_(n,"user-disabled",o);let h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw xO(n,h,d);Bo(n,h)}}catch(i){if(i instanceof sr)throw i;Bo(n,"network-request-failed",{message:String(i)})}}async function OO(n,e,t,r,i={}){let s=await Ho(n,e,t,r,i);return"mfaPendingCredential"in s&&Bo(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function LO(n,e,t,r){let i=`${e}${t}?${r}`,s=n,o=s.config.emulator?KT(n.config,i):`${n.config.apiScheme}://${i}`;return R9.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function N9(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var AT=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(hc(this.auth,"network-request-failed")),P9.get())})}};function h_(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=hc(n,e,r);return i.customData._tokenResponse=t,i}function gO(n){return n!==void 0&&n.enterprise!==void 0}var RT=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return N9(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};async function k9(n,e){return Ho(n,"GET","/v2/recaptchaConfig",Af(n,e))}async function x9(n,e){return Ho(n,"POST","/v1/accounts:delete",e)}async function v_(n,e){return Ho(n,"POST","/v1/accounts:lookup",e)}function Tf(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function FO(n,e=!1){let t=or(n),r=await t.getIdToken(e),i=QT(r);pe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Tf(TT(i.auth_time)),issuedAtTime:Tf(TT(i.iat)),expirationTime:Tf(TT(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function TT(n){return Number(n)*1e3}function QT(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return f_("JWT malformed, contained fewer than 3 sections"),null;try{let i=r_(t);return i?JSON.parse(i):(f_("Failed to decode base64 JWT payload"),null)}catch(i){return f_("Caught error parsing JWT payload as JSON",i?.toString()),null}}function yO(n){let e=QT(n);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ml(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof sr&&M9(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function M9({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var PT=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){let t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;let r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var Sf=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tf(this.lastLoginAt),this.creationTime=Tf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function E_(n){let e=n.auth,t=await n.getIdToken(),r=await ml(n,v_(e,{idToken:t}));pe(r?.users.length,e,"internal-error");let i=r.users[0];n._notifyReloadListener(i);let s=i.providerUserInfo?.length?UO(i.providerUserInfo):[],o=O9(n.providerData,s),a=n.isAnonymous,c=!(n.email&&i.passwordHash)&&!o?.length,d=a?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Sf(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(n,h)}async function VO(n){let e=or(n);await E_(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function O9(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function UO(n){return n.map(r=>{var i=r,{providerId:e}=i,t=oI(i,["providerId"]);return{providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}})}async function L9(n,e){let t=await MO(n,{},async()=>{let r=Ef({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=await LO(n,i,"/v1/token",`key=${s}`),a=await n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return n.emulatorConfig&&xo(n.emulatorConfig.host)&&(c.credentials="include"),__.fetch()(o,c)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function F9(n,e){return Ho(n,"POST","/v2/accounts:revokeToken",Af(n,e))}var Cf=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yO(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){pe(e.length!==0,"internal-error");let t=yO(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:r,refreshToken:i,expiresIn:s}=await L9(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(pe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(pe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(pe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return ps("not implemented")}};function Vo(n,e){pe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Uo=class n{constructor(s){var o=s,{uid:e,auth:t,stsTokenManager:r}=o,i=oI(o,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new PT(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Sf(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){let t=await ml(this,this.stsTokenManager.getToken(this.auth,e));return pe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return FO(this,e)}reload(){return VO(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>j({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(ue(j({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await E_(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ar(this.auth.app))return Promise.reject(jo(this.auth));let e=await this.getIdToken();return await ml(this,x9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return ue(j({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>j({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){let r=t.displayName??void 0,i=t.email??void 0,s=t.phoneNumber??void 0,o=t.photoURL??void 0,a=t.tenantId??void 0,c=t._redirectEventId??void 0,d=t.createdAt??void 0,h=t.lastLoginAt??void 0,{uid:m,emailVerified:I,isAnonymous:R,providerData:k,stsTokenManager:V}=t;pe(m&&V,e,"internal-error");let O=Cf.fromJSON(this.name,V);pe(typeof m=="string",e,"internal-error"),Vo(r,e.name),Vo(i,e.name),pe(typeof I=="boolean",e,"internal-error"),pe(typeof R=="boolean",e,"internal-error"),Vo(s,e.name),Vo(o,e.name),Vo(a,e.name),Vo(c,e.name),Vo(d,e.name),Vo(h,e.name);let q=new n({uid:m,auth:e,email:i,emailVerified:I,displayName:r,isAnonymous:R,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:O,createdAt:d,lastLoginAt:h});return k&&Array.isArray(k)&&(q.providerData=k.map(X=>j({},X))),c&&(q._redirectEventId=c),q}static async _fromIdTokenResponse(e,t,r=!1){let i=new Cf;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await E_(s),s}static async _fromGetAccountInfoResponse(e,t,r){let i=t.users[0];pe(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?UO(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Cf;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Sf(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,d),c}};var _O=new Map;function ms(n){$o(n instanceof Function,"Expected a class definition");let e=_O.get(n);return e?($o(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,_O.set(n,e),e)}var V9=(()=>{class n{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){let r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),NT=V9;function p_(n,e,t){return`firebase:${n}:${e}:${t}`}var I_=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=p_(this.userKey,i.apiKey,s),this.fullPersistenceKey=p_("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=await v_(this.auth,{idToken:e}).catch(()=>{});return t?Uo._fromGetAccountInfoResponse(this.auth,t,e):null}return Uo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new n(ms(NT),e,r);let i=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d),s=i[0]||ms(NT),o=p_(r,e.config.apiKey,e.name),a=null;for(let d of t)try{let h=await d._get(o);if(h){let m;if(typeof h=="string"){let I=await v_(e,{idToken:h}).catch(()=>{});if(!I)break;m=await Uo._fromGetAccountInfoResponse(e,I,h)}else m=Uo._fromJSON(e,h);d!==s&&(a=m),s=d;break}}catch{}let c=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new n(s,e,r):(s=c[0],a&&await s._set(o,a.toJSON()),await Promise.all(t.map(async d=>{if(d!==s)try{await d._remove(o)}catch{}})),new n(s,e,r))}};function vO(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zO(e))return"Blackberry";if(GO(e))return"Webos";if(BO(e))return"Safari";if((e.includes("chrome/")||$O(e))&&!e.includes("edge/"))return"Chrome";if(qO(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function jO(n=sn()){return/firefox\//i.test(n)}function BO(n=sn()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $O(n=sn()){return/crios\//i.test(n)}function HO(n=sn()){return/iemobile/i.test(n)}function qO(n=sn()){return/android/i.test(n)}function zO(n=sn()){return/blackberry/i.test(n)}function GO(n=sn()){return/webos/i.test(n)}function YT(n=sn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function U9(n=sn()){return YT(n)&&!!window.navigator?.standalone}function j9(){return J1()&&document.documentMode===10}function WO(n=sn()){return YT(n)||qO(n)||GO(n)||zO(n)||/windows phone/i.test(n)||HO(n)}function KO(n,e=[]){let t;switch(n){case"Browser":t=vO(sn());break;case"Worker":t=`${vO(sn())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Fo}/${r}`}var kT=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function B9(n,e={}){return Ho(n,"GET","/v2/passwordPolicy",Af(n,e))}var $9=6,xT=class{constructor(e){let t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??$9,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var MT=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new w_(this),this.idTokenSubscription=new w_(this),this.beforeStateQueue=new kT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ms(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await I_.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await v_(this,{idToken:e}),r=await Uo._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ar(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}let t=await this.assertedPersistence.getCurrentUser(),r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let s=this.redirectUser?._redirectEventId,o=r?._redirectEventId,a=await this.tryRedirectSignIn(e);(!s||s===o)&&a?.user&&(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await E_(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=D9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ar(this.app))return Promise.reject(jo(this));let t=e?or(e):null;return t&&pe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ar(this.app)?Promise.reject(jo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ar(this.app)?Promise.reject(jo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ms(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await B9(this),t=new xT(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ds("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await F9(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){let r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&ms(e)||this._popupRedirectResolver;pe(t,this,"argument-error"),this.redirectPersistenceManager=await I_.create(this,[ms(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(t);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);let r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ar(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&T9(`Error while retrieving App Check token: ${e.error}`),e?.token}};function yl(n){return or(n)}var w_=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=tO(t=>this.observer=t)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var R_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function H9(n){R_=n}function QO(n){return R_.loadJS(n)}function q9(){return R_.recaptchaEnterpriseScript}function z9(){return R_.gapiScript}function YO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var OT=class{constructor(){this.enterprise=new LT}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},LT=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var G9="recaptcha-enterprise",JO="NO_RECAPTCHA",FT=class{constructor(e){this.type=G9,this.auth=yl(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{k9(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let d=new RT(c);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,o(d.siteKey)}}).catch(c=>{a(c)})})}function i(s,o,a){let c=window.grecaptcha;gO(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(d=>{o(d)}).catch(()=>{o(JO)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new OT().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!t&&gO(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=q9();c.length!==0&&(c+=a),QO(c).then(()=>{i(a,s,o)}).catch(d=>{o(d)})}}).catch(a=>{o(a)})})}};async function bf(n,e,t,r=!1,i=!1){let s=new FT(n),o;if(i)o=JO;else try{o=await s.verify(t)}catch{o=await s.verify(t,!0)}let a=j({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,d=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function W9(n,e,t,r,i){if(i==="EMAIL_PASSWORD_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=await bf(n,e,t,t==="getOobCode");return r(n,s)}else return r(n,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=await bf(n,e,t,t==="getOobCode");return r(n,o)}else return Promise.reject(s)});else if(i==="PHONE_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){let s=await bf(n,e,t);return r(n,s).catch(async o=>{if(n._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(o.code==="auth/missing-recaptcha-token"||o.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let a=await bf(n,e,t,!1,!0);return r(n,a)}return Promise.reject(o)})}else{let s=await bf(n,e,t,!1,!0);return r(n,s)}else return Promise.reject(i+" provider is not supported.")}function XO(n,e){let t=wf(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(Pi(s,e??{}))return i;Bo(i,"already-initialized")}return t.initialize({options:e})}function K9(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ms);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function ZO(n,e,t){let r=yl(n);pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=eL(e),{host:o,port:a}=Q9(e),c=a===null?"":`:${a}`,d={url:`${s}//${o}${c}/`},h=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){pe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),pe(Pi(d,r.config.emulator)&&Pi(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,xo(o)?(s_(`${s}//${o}${c}`),o_("Auth",!0)):i||Y9()}function eL(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Q9(n){let e=eL(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:EO(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:EO(o)}}}function EO(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function Y9(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var b_=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ps("not implemented")}_getIdTokenResponse(e){return ps("not implemented")}_linkToIdToken(e,t){return ps("not implemented")}_getReauthenticationResolver(e){return ps("not implemented")}};async function CT(n,e){return OO(n,"POST","/v1/accounts:signInWithIdp",Af(n,e))}var T_=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var VT=class extends T_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};async function J9(n,e){return OO(n,"POST","/v1/accounts:signUp",Af(n,e))}var gl=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){let s=await Uo._fromIdTokenResponse(e,r,i),o=IO(r);return new n({user:s,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);let i=IO(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})}};function IO(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var UT=class n extends sr{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function tL(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?UT._fromErrorAndOperation(n,s,e,r):s})}async function X9(n,e,t=!1){let r=await ml(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return gl._forOperation(n,"link",r)}async function Z9(n,e,t=!1){let{auth:r}=n;if(ar(r.app))return Promise.reject(jo(r));let i="reauthenticate";try{let s=await ml(n,tL(r,i,e,n),t);pe(s.idToken,r,"internal-error");let o=QT(s.idToken);pe(o,r,"internal-error");let{sub:a}=o;return pe(n.uid===a,r,"user-mismatch"),gl._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Bo(r,"user-mismatch"),s}}async function eG(n,e,t=!1){if(ar(n.app))return Promise.reject(jo(n));let r="signIn",i=await tL(n,r,e),s=await gl._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function tG(n){let e=yl(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function JT(n,e,t){if(ar(n.app))return Promise.reject(jo(n));let r=yl(n),o=await W9(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",J9,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&tG(n),c}),a=await gl._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}async function nG(n,e){return Ho(n,"POST","/v1/accounts:update",e)}async function XT(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;let r=or(n),s={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},o=await ml(r,nG(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;let a=r.providerData.find(({providerId:c})=>c==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function nL(n,e,t,r){return or(n).onIdTokenChanged(e,t,r)}function rL(n,e,t){return or(n).beforeAuthStateChanged(e,t)}var C_="__sak";var S_=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(C_,"1"),this.storage.removeItem(C_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var rG=1e3,iG=10,sG=(()=>{class n extends S_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WO(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,d)=>{this.notifyListeners(a,d)});return}let i=t.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);j9()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,iG):s()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},rG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){let r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}return n.type="LOCAL",n})(),iL=sG;var oG=(()=>{class n extends S_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),ZT=oG;function aG(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}var cG=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){let r=t,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(async h=>h(r.origin,o)),d=await aG(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:d})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function sL(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var jT=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let d=sL("",20);i.port1.start();let h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){let I=m;if(I.data.eventId===d)switch(I.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(I.data.response);break;default:clearTimeout(h),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}};function ki(){return window}function uG(n){ki().location.href=n}function oL(){return typeof ki().WorkerGlobalScope<"u"&&typeof ki().importScripts=="function"}async function lG(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dG(){return navigator?.serviceWorker?.controller||null}function hG(){return oL()?self:null}var aL="firebaseLocalStorageDb",fG=1,D_="firebaseLocalStorage",cL="fbase_key",pc=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function P_(n,e){return n.transaction([D_],e?"readwrite":"readonly").objectStore(D_)}function pG(){let n=indexedDB.deleteDatabase(aL);return new pc(n).toPromise()}function BT(){let n=indexedDB.open(aL,fG);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(D_,{keyPath:cL})}catch(i){t(i)}}),n.addEventListener("success",async()=>{let r=n.result;r.objectStoreNames.contains(D_)?e(r):(r.close(),await pG(),e(await BT()))})})}async function wO(n,e,t){let r=P_(n,!0).put({[cL]:e,value:t});return new pc(r).toPromise()}async function mG(n,e){let t=P_(n,!1).get(e),r=await new pc(t).toPromise();return r===void 0?null:r.value}function bO(n,e){let t=P_(n,!0).delete(e);return new pc(t).toPromise()}var gG=800,yG=3,_G=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await BT(),this.db)}async _withRetries(t){let r=0;for(;;)try{let i=await this._openDb();return await t(i)}catch(i){if(r++>yG)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oL()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cG._getInstance(hG()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await lG(),!this.activeServiceWorker)return;this.sender=new jT(this.activeServiceWorker);let t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||dG()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let t=await BT();return await wO(t,C_,"1"),await bO(t,C_),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>wO(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){let r=await this._withRetries(i=>mG(i,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>bO(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){let t=await this._withRetries(s=>{let o=P_(s,!1).getAll();return new pc(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),uL=_G;var Xye=YO("rcb"),Zye=new fc(3e4,6e4);function vG(n,e){return e?ms(e):(pe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Df=class extends b_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return CT(e,this._buildIdpRequest())}_linkToIdToken(e,t){return CT(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return CT(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function EG(n){return eG(n.auth,new Df(n),n.bypassAuthState)}function IG(n){let{auth:e,user:t}=n;return pe(t,e,"internal-error"),Z9(t,new Df(n),n.bypassAuthState)}async function wG(n){let{auth:e,user:t}=n;return pe(t,e,"internal-error"),X9(t,new Df(n),n.bypassAuthState)}var $T=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return EG;case"linkViaPopup":case"linkViaRedirect":return wG;case"reauthViaPopup":case"reauthViaRedirect":return IG;default:Bo(this.auth,"internal-error")}}resolve(e){$o(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$o(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var e_e=new fc(2e3,1e4);var bG="pendingRedirect",m_=new Map,HT=class extends $T{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=m_.get(this.auth._key());if(!e){try{let r=await TG(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}m_.set(this.auth._key(),e)}return this.bypassAuthState||m_.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function TG(n,e){let t=DG(e),r=SG(n);if(!await r._isAvailable())return!1;let i=await r._get(t)==="true";return await r._remove(t),i}function CG(n,e){m_.set(n._key(),e)}function SG(n){return ms(n._redirectPersistence)}function DG(n){return p_(bG,n.config.apiKey,n.name)}async function AG(n,e,t=!1){if(ar(n.app))return Promise.reject(jo(n));let r=yl(n),i=vG(r,e),o=await new HT(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}var RG=600*1e3,qT=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PG(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!lL(e)){let r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(hc(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RG&&this.cachedEventUids.clear(),this.cachedEventUids.has(TO(e))}saveEventToCache(e){this.cachedEventUids.add(TO(e)),this.lastProcessedEventTime=Date.now()}};function TO(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function lL({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function PG(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lL(n);default:return!1}}async function NG(n,e={}){return Ho(n,"GET","/v1/projects",e)}var kG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xG=/^https?/;async function MG(n){if(n.config.emulator)return;let{authorizedDomains:e}=await NG(n);for(let t of e)try{if(OG(t))return}catch{}Bo(n,"unauthorized-domain")}function OG(n){let e=DT(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!xG.test(t))return!1;if(kG.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var LG=new fc(3e4,6e4);function CO(){let n=ki().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function FG(n){return new Promise((e,t)=>{function r(){CO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{CO(),t(hc(n,"network-request-failed"))},timeout:LG.get()})}if(ki().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ki().gapi?.load)r();else{let i=YO("iframefcb");return ki()[i]=()=>{gapi.load?r():t(hc(n,"network-request-failed"))},QO(`${z9()}?onload=${i}`).catch(s=>t(s))}}).catch(e=>{throw g_=null,e})}var g_=null;function VG(n){return g_=g_||FG(n),g_}var UG=new fc(5e3,15e3),jG="__/auth/iframe",BG="emulator/auth/iframe",$G={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qG(n){let e=n.config;pe(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?KT(e,BG):`https://${n.config.authDomain}/${jG}`,r={apiKey:e.apiKey,appName:n.name,v:Fo},i=HG.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Ef(r).slice(1)}`}async function zG(n){let e=await VG(n),t=ki().gapi;return pe(t,n,"internal-error"),e.open({where:document.body,url:qG(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$G,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});let o=hc(n,"network-request-failed"),a=ki().setTimeout(()=>{s(o)},UG.get());function c(){ki().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})}))}var GG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},WG=500,KG=600,QG="_blank",YG="http://localhost",A_=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function JG(n,e,t,r=WG,i=KG){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=ue(j({},GG),{width:r.toString(),height:i.toString(),top:s,left:o}),d=sn().toLowerCase();t&&(a=$O(d)?QG:t),jO(d)&&(e=e||YG,c.scrollbars="yes");let h=Object.entries(c).reduce((I,[R,k])=>`${I}${R}=${k},`,"");if(U9(d)&&a!=="_self")return XG(e||"",a),new A_(null);let m=window.open(e||"",a,h);pe(m,n,"popup-blocked");try{m.focus()}catch{}return new A_(m)}function XG(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var ZG="__/auth/handler",e8="emulator/auth/handler",t8=encodeURIComponent("fac");async function SO(n,e,t,r,i,s){pe(n.config.authDomain,n,"auth-domain-config-required"),pe(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Fo,eventId:i};if(e instanceof T_){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",eO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,m]of Object.entries(s||{}))o[h]=m}if(e instanceof VT){let h=e.getScopes().filter(m=>m!=="");h.length>0&&(o.scopes=h.join(","))}n.tenantId&&(o.tid=n.tenantId);let a=o;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let c=await n._getAppCheckToken(),d=c?`#${t8}=${encodeURIComponent(c)}`:"";return`${n8(n)}?${Ef(a).slice(1)}${d}`}function n8({config:n}){return n.emulator?KT(n,e8):`https://${n.authDomain}/${ZG}`}var ST="webStorageSupport",zT=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZT,this._completeRedirectFn=AG,this._overrideRedirectResult=CG}async _openPopup(e,t,r,i){$o(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");let s=await SO(e,t,r,DT(),i);return JG(e,s,sL())}async _openRedirect(e,t,r,i){await this._originValidation(e);let s=await SO(e,t,r,DT(),i);return uG(s),new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):($o(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){let t=await zG(e),r=new qT(e);return t.register("authEvent",i=>(pe(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ST,{type:ST},i=>{let s=i?.[0]?.[ST];s!==void 0&&t(!!s),Bo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=MG(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return WO()||BO()||YT()}},dL=zT;var DO="@firebase/auth",AO="1.12.0";var GT=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function r8(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function i8(n){Lo(new Sr("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;pe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KO(n)},d=new MT(r,i,s,c);return K9(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Lo(new Sr("auth-internal",e=>{let t=yl(e.getProvider("auth").getImmediate());return(r=>new GT(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),hs(DO,AO,r8(n)),hs(DO,AO,"esm2020")}var s8=300,o8=cT("authIdTokenMaxAge")||s8,RO=null,a8=n=>async e=>{let t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>o8)return;let i=t?.token;RO!==i&&(RO=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function eC(n=d_()){let e=wf(n,"auth");if(e.isInitialized())return e.getImmediate();let t=XO(n,{popupRedirectResolver:dL,persistence:[uL,iL,ZT]}),r=cT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=a8(s.toString());rL(t,o,()=>o(t.currentUser)),nL(t,a=>o(a))}}let i=oT("auth");return i&&ZO(t,`http://${i}`),t}function c8(){return document.getElementsByTagName("head")?.[0]??document}H9({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=hc("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",c8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});i8("Browser");var hL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fL={};var gs,tC;(function(){var n;function e(T,_){function E(){}E.prototype=_.prototype,T.F=_.prototype,T.prototype=new E,T.prototype.constructor=T,T.D=function(b,w,A){for(var v=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)v[dt-2]=arguments[dt];return _.prototype[w].apply(b,v)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,_,E){E||(E=0);let b=Array(16);if(typeof _=="string")for(var w=0;w<16;++w)b[w]=_.charCodeAt(E++)|_.charCodeAt(E++)<<8|_.charCodeAt(E++)<<16|_.charCodeAt(E++)<<24;else for(w=0;w<16;++w)b[w]=_[E++]|_[E++]<<8|_[E++]<<16|_[E++]<<24;_=T.g[0],E=T.g[1],w=T.g[2];let A=T.g[3],v;v=_+(A^E&(w^A))+b[0]+3614090360&4294967295,_=E+(v<<7&4294967295|v>>>25),v=A+(w^_&(E^w))+b[1]+3905402710&4294967295,A=_+(v<<12&4294967295|v>>>20),v=w+(E^A&(_^E))+b[2]+606105819&4294967295,w=A+(v<<17&4294967295|v>>>15),v=E+(_^w&(A^_))+b[3]+3250441966&4294967295,E=w+(v<<22&4294967295|v>>>10),v=_+(A^E&(w^A))+b[4]+4118548399&4294967295,_=E+(v<<7&4294967295|v>>>25),v=A+(w^_&(E^w))+b[5]+1200080426&4294967295,A=_+(v<<12&4294967295|v>>>20),v=w+(E^A&(_^E))+b[6]+2821735955&4294967295,w=A+(v<<17&4294967295|v>>>15),v=E+(_^w&(A^_))+b[7]+4249261313&4294967295,E=w+(v<<22&4294967295|v>>>10),v=_+(A^E&(w^A))+b[8]+1770035416&4294967295,_=E+(v<<7&4294967295|v>>>25),v=A+(w^_&(E^w))+b[9]+2336552879&4294967295,A=_+(v<<12&4294967295|v>>>20),v=w+(E^A&(_^E))+b[10]+4294925233&4294967295,w=A+(v<<17&4294967295|v>>>15),v=E+(_^w&(A^_))+b[11]+2304563134&4294967295,E=w+(v<<22&4294967295|v>>>10),v=_+(A^E&(w^A))+b[12]+1804603682&4294967295,_=E+(v<<7&4294967295|v>>>25),v=A+(w^_&(E^w))+b[13]+4254626195&4294967295,A=_+(v<<12&4294967295|v>>>20),v=w+(E^A&(_^E))+b[14]+2792965006&4294967295,w=A+(v<<17&4294967295|v>>>15),v=E+(_^w&(A^_))+b[15]+1236535329&4294967295,E=w+(v<<22&4294967295|v>>>10),v=_+(w^A&(E^w))+b[1]+4129170786&4294967295,_=E+(v<<5&4294967295|v>>>27),v=A+(E^w&(_^E))+b[6]+3225465664&4294967295,A=_+(v<<9&4294967295|v>>>23),v=w+(_^E&(A^_))+b[11]+643717713&4294967295,w=A+(v<<14&4294967295|v>>>18),v=E+(A^_&(w^A))+b[0]+3921069994&4294967295,E=w+(v<<20&4294967295|v>>>12),v=_+(w^A&(E^w))+b[5]+3593408605&4294967295,_=E+(v<<5&4294967295|v>>>27),v=A+(E^w&(_^E))+b[10]+38016083&4294967295,A=_+(v<<9&4294967295|v>>>23),v=w+(_^E&(A^_))+b[15]+3634488961&4294967295,w=A+(v<<14&4294967295|v>>>18),v=E+(A^_&(w^A))+b[4]+3889429448&4294967295,E=w+(v<<20&4294967295|v>>>12),v=_+(w^A&(E^w))+b[9]+568446438&4294967295,_=E+(v<<5&4294967295|v>>>27),v=A+(E^w&(_^E))+b[14]+3275163606&4294967295,A=_+(v<<9&4294967295|v>>>23),v=w+(_^E&(A^_))+b[3]+4107603335&4294967295,w=A+(v<<14&4294967295|v>>>18),v=E+(A^_&(w^A))+b[8]+1163531501&4294967295,E=w+(v<<20&4294967295|v>>>12),v=_+(w^A&(E^w))+b[13]+2850285829&4294967295,_=E+(v<<5&4294967295|v>>>27),v=A+(E^w&(_^E))+b[2]+4243563512&4294967295,A=_+(v<<9&4294967295|v>>>23),v=w+(_^E&(A^_))+b[7]+1735328473&4294967295,w=A+(v<<14&4294967295|v>>>18),v=E+(A^_&(w^A))+b[12]+2368359562&4294967295,E=w+(v<<20&4294967295|v>>>12),v=_+(E^w^A)+b[5]+4294588738&4294967295,_=E+(v<<4&4294967295|v>>>28),v=A+(_^E^w)+b[8]+2272392833&4294967295,A=_+(v<<11&4294967295|v>>>21),v=w+(A^_^E)+b[11]+1839030562&4294967295,w=A+(v<<16&4294967295|v>>>16),v=E+(w^A^_)+b[14]+4259657740&4294967295,E=w+(v<<23&4294967295|v>>>9),v=_+(E^w^A)+b[1]+2763975236&4294967295,_=E+(v<<4&4294967295|v>>>28),v=A+(_^E^w)+b[4]+1272893353&4294967295,A=_+(v<<11&4294967295|v>>>21),v=w+(A^_^E)+b[7]+4139469664&4294967295,w=A+(v<<16&4294967295|v>>>16),v=E+(w^A^_)+b[10]+3200236656&4294967295,E=w+(v<<23&4294967295|v>>>9),v=_+(E^w^A)+b[13]+681279174&4294967295,_=E+(v<<4&4294967295|v>>>28),v=A+(_^E^w)+b[0]+3936430074&4294967295,A=_+(v<<11&4294967295|v>>>21),v=w+(A^_^E)+b[3]+3572445317&4294967295,w=A+(v<<16&4294967295|v>>>16),v=E+(w^A^_)+b[6]+76029189&4294967295,E=w+(v<<23&4294967295|v>>>9),v=_+(E^w^A)+b[9]+3654602809&4294967295,_=E+(v<<4&4294967295|v>>>28),v=A+(_^E^w)+b[12]+3873151461&4294967295,A=_+(v<<11&4294967295|v>>>21),v=w+(A^_^E)+b[15]+530742520&4294967295,w=A+(v<<16&4294967295|v>>>16),v=E+(w^A^_)+b[2]+3299628645&4294967295,E=w+(v<<23&4294967295|v>>>9),v=_+(w^(E|~A))+b[0]+4096336452&4294967295,_=E+(v<<6&4294967295|v>>>26),v=A+(E^(_|~w))+b[7]+1126891415&4294967295,A=_+(v<<10&4294967295|v>>>22),v=w+(_^(A|~E))+b[14]+2878612391&4294967295,w=A+(v<<15&4294967295|v>>>17),v=E+(A^(w|~_))+b[5]+4237533241&4294967295,E=w+(v<<21&4294967295|v>>>11),v=_+(w^(E|~A))+b[12]+1700485571&4294967295,_=E+(v<<6&4294967295|v>>>26),v=A+(E^(_|~w))+b[3]+2399980690&4294967295,A=_+(v<<10&4294967295|v>>>22),v=w+(_^(A|~E))+b[10]+4293915773&4294967295,w=A+(v<<15&4294967295|v>>>17),v=E+(A^(w|~_))+b[1]+2240044497&4294967295,E=w+(v<<21&4294967295|v>>>11),v=_+(w^(E|~A))+b[8]+1873313359&4294967295,_=E+(v<<6&4294967295|v>>>26),v=A+(E^(_|~w))+b[15]+4264355552&4294967295,A=_+(v<<10&4294967295|v>>>22),v=w+(_^(A|~E))+b[6]+2734768916&4294967295,w=A+(v<<15&4294967295|v>>>17),v=E+(A^(w|~_))+b[13]+1309151649&4294967295,E=w+(v<<21&4294967295|v>>>11),v=_+(w^(E|~A))+b[4]+4149444226&4294967295,_=E+(v<<6&4294967295|v>>>26),v=A+(E^(_|~w))+b[11]+3174756917&4294967295,A=_+(v<<10&4294967295|v>>>22),v=w+(_^(A|~E))+b[2]+718787259&4294967295,w=A+(v<<15&4294967295|v>>>17),v=E+(A^(w|~_))+b[9]+3951481745&4294967295,T.g[0]=T.g[0]+_&4294967295,T.g[1]=T.g[1]+(w+(v<<21&4294967295|v>>>11))&4294967295,T.g[2]=T.g[2]+w&4294967295,T.g[3]=T.g[3]+A&4294967295}r.prototype.v=function(T,_){_===void 0&&(_=T.length);let E=_-this.blockSize,b=this.C,w=this.h,A=0;for(;A<_;){if(w==0)for(;A<=E;)i(this,T,A),A+=this.blockSize;if(typeof T=="string"){for(;A<_;)if(b[w++]=T.charCodeAt(A++),w==this.blockSize){i(this,b),w=0;break}}else for(;A<_;)if(b[w++]=T[A++],w==this.blockSize){i(this,b),w=0;break}}this.h=w,this.o+=_},r.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var _=1;_<T.length-8;++_)T[_]=0;_=this.o*8;for(var E=T.length-8;E<T.length;++E)T[E]=_&255,_/=256;for(this.v(T),T=Array(16),_=0,E=0;E<4;++E)for(let b=0;b<32;b+=8)T[_++]=this.g[E]>>>b&255;return T};function s(T,_){var E=a;return Object.prototype.hasOwnProperty.call(E,T)?E[T]:E[T]=_(T)}function o(T,_){this.h=_;let E=[],b=!0;for(let w=T.length-1;w>=0;w--){let A=T[w]|0;b&&A==_||(E[w]=A,b=!1)}this.g=E}var a={};function c(T){return-128<=T&&T<128?s(T,function(_){return new o([_|0],_<0?-1:0)}):new o([T|0],T<0?-1:0)}function d(T){if(isNaN(T)||!isFinite(T))return m;if(T<0)return O(d(-T));let _=[],E=1;for(let b=0;T>=E;b++)_[b]=T/E|0,E*=4294967296;return new o(_,0)}function h(T,_){if(T.length==0)throw Error("number format error: empty string");if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(T.charAt(0)=="-")return O(h(T.substring(1),_));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');let E=d(Math.pow(_,8)),b=m;for(let A=0;A<T.length;A+=8){var w=Math.min(8,T.length-A);let v=parseInt(T.substring(A,A+w),_);w<8?(w=d(Math.pow(_,w)),b=b.j(w).add(d(v))):(b=b.j(E),b=b.add(d(v)))}return b}var m=c(0),I=c(1),R=c(16777216);n=o.prototype,n.m=function(){if(V(this))return-O(this).m();let T=0,_=1;for(let E=0;E<this.g.length;E++){let b=this.i(E);T+=(b>=0?b:4294967296+b)*_,_*=4294967296}return T},n.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(k(this))return"0";if(V(this))return"-"+O(this).toString(T);let _=d(Math.pow(T,6));var E=this;let b="";for(;;){let w=Re(E,_).g;E=q(E,w.j(_));let A=((E.g.length>0?E.g[0]:E.h)>>>0).toString(T);if(E=w,k(E))return A+b;for(;A.length<6;)A="0"+A;b=A+b}},n.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function k(T){if(T.h!=0)return!1;for(let _=0;_<T.g.length;_++)if(T.g[_]!=0)return!1;return!0}function V(T){return T.h==-1}n.l=function(T){return T=q(this,T),V(T)?-1:k(T)?0:1};function O(T){let _=T.g.length,E=[];for(let b=0;b<_;b++)E[b]=~T.g[b];return new o(E,~T.h).add(I)}n.abs=function(){return V(this)?O(this):this},n.add=function(T){let _=Math.max(this.g.length,T.g.length),E=[],b=0;for(let w=0;w<=_;w++){let A=b+(this.i(w)&65535)+(T.i(w)&65535),v=(A>>>16)+(this.i(w)>>>16)+(T.i(w)>>>16);b=v>>>16,A&=65535,v&=65535,E[w]=v<<16|A}return new o(E,E[E.length-1]&-2147483648?-1:0)};function q(T,_){return T.add(O(_))}n.j=function(T){if(k(this)||k(T))return m;if(V(this))return V(T)?O(this).j(O(T)):O(O(this).j(T));if(V(T))return O(this.j(O(T)));if(this.l(R)<0&&T.l(R)<0)return d(this.m()*T.m());let _=this.g.length+T.g.length,E=[];for(var b=0;b<2*_;b++)E[b]=0;for(b=0;b<this.g.length;b++)for(let w=0;w<T.g.length;w++){let A=this.i(b)>>>16,v=this.i(b)&65535,dt=T.i(w)>>>16,Ln=T.i(w)&65535;E[2*b+2*w]+=v*Ln,X(E,2*b+2*w),E[2*b+2*w+1]+=A*Ln,X(E,2*b+2*w+1),E[2*b+2*w+1]+=v*dt,X(E,2*b+2*w+1),E[2*b+2*w+2]+=A*dt,X(E,2*b+2*w+2)}for(T=0;T<_;T++)E[T]=E[2*T+1]<<16|E[2*T];for(T=_;T<2*_;T++)E[T]=0;return new o(E,0)};function X(T,_){for(;(T[_]&65535)!=T[_];)T[_+1]+=T[_]>>>16,T[_]&=65535,_++}function ne(T,_){this.g=T,this.h=_}function Re(T,_){if(k(_))throw Error("division by zero");if(k(T))return new ne(m,m);if(V(T))return _=Re(O(T),_),new ne(O(_.g),O(_.h));if(V(_))return _=Re(T,O(_)),new ne(O(_.g),_.h);if(T.g.length>30){if(V(T)||V(_))throw Error("slowDivide_ only works with positive integers.");for(var E=I,b=_;b.l(T)<=0;)E=ut(E),b=ut(b);var w=Pe(E,1),A=Pe(b,1);for(b=Pe(b,2),E=Pe(E,2);!k(b);){var v=A.add(b);v.l(T)<=0&&(w=w.add(E),A=v),b=Pe(b,1),E=Pe(E,1)}return _=q(T,w.j(_)),new ne(w,_)}for(w=m;T.l(_)>=0;){for(E=Math.max(1,Math.floor(T.m()/_.m())),b=Math.ceil(Math.log(E)/Math.LN2),b=b<=48?1:Math.pow(2,b-48),A=d(E),v=A.j(_);V(v)||v.l(T)>0;)E-=b,A=d(E),v=A.j(_);k(A)&&(A=I),w=w.add(A),T=q(T,v)}return new ne(w,T)}n.B=function(T){return Re(this,T).h},n.and=function(T){let _=Math.max(this.g.length,T.g.length),E=[];for(let b=0;b<_;b++)E[b]=this.i(b)&T.i(b);return new o(E,this.h&T.h)},n.or=function(T){let _=Math.max(this.g.length,T.g.length),E=[];for(let b=0;b<_;b++)E[b]=this.i(b)|T.i(b);return new o(E,this.h|T.h)},n.xor=function(T){let _=Math.max(this.g.length,T.g.length),E=[];for(let b=0;b<_;b++)E[b]=this.i(b)^T.i(b);return new o(E,this.h^T.h)};function ut(T){let _=T.g.length+1,E=[];for(let b=0;b<_;b++)E[b]=T.i(b)<<1|T.i(b-1)>>>31;return new o(E,T.h)}function Pe(T,_){let E=_>>5;_%=32;let b=T.g.length-E,w=[];for(let A=0;A<b;A++)w[A]=_>0?T.i(A+E)>>>_|T.i(A+E+1)<<32-_:T.i(A+E);return new o(w,T.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,tC=fL.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,gs=fL.Integer=o}).apply(typeof hL<"u"?hL:typeof self<"u"?self:typeof window<"u"?window:{});var N_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ys={};var nC,u8,_l,rC,Rf,k_,iC,sC,oC;(function(){var n,e=Object.defineProperty;function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof N_=="object"&&N_];for(var p=0;p<l.length;++p){var y=l[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=t(this);function i(l,p){if(p)e:{var y=r;l=l.split(".");for(var S=0;S<l.length-1;S++){var x=l[S];if(!(x in y))break e;y=y[x]}l=l[l.length-1],S=y[l],p=p(S),p!=S&&p!=null&&e(y,l,{configurable:!0,writable:!0,value:p})}}i("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(l){return l||function(p){var y=[],S;for(S in p)Object.prototype.hasOwnProperty.call(p,S)&&y.push([S,p[S]]);return y}});var s=s||{},o=this||self;function a(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function c(l,p,y){return l.call.apply(l.bind,arguments)}function d(l,p,y){return d=c,d.apply(null,arguments)}function h(l,p){var y=Array.prototype.slice.call(arguments,1);return function(){var S=y.slice();return S.push.apply(S,arguments),l.apply(this,S)}}function m(l,p){function y(){}y.prototype=p.prototype,l.Z=p.prototype,l.prototype=new y,l.prototype.constructor=l,l.Ob=function(S,x,L){for(var W=Array(arguments.length-2),he=2;he<arguments.length;he++)W[he-2]=arguments[he];return p.prototype[x].apply(S,W)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function R(l){let p=l.length;if(p>0){let y=Array(p);for(let S=0;S<p;S++)y[S]=l[S];return y}return[]}function k(l,p){for(let S=1;S<arguments.length;S++){let x=arguments[S];var y=typeof x;if(y=y!="object"?y:x?Array.isArray(x)?"array":y:"null",y=="array"||y=="object"&&typeof x.length=="number"){y=l.length||0;let L=x.length||0;l.length=y+L;for(let W=0;W<L;W++)l[y+W]=x[W]}else l.push(x)}}class V{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function O(l){o.setTimeout(()=>{throw l},0)}function q(){var l=T;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class X{constructor(){this.h=this.g=null}add(p,y){let S=ne.get();S.set(p,y),this.h?this.h.next=S:this.g=S,this.h=S}}var ne=new V(()=>new Re,l=>l.reset());class Re{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let ut,Pe=!1,T=new X,_=()=>{let l=Promise.resolve(void 0);ut=()=>{l.then(E)}};function E(){for(var l;l=q();){try{l.h.call(l.g)}catch(y){O(y)}var p=ne;p.j(l),p.h<100&&(p.h++,l.next=p.g,p.g=l)}Pe=!1}function b(){this.u=this.u,this.C=this.C}b.prototype.u=!1,b.prototype.dispose=function(){this.u||(this.u=!0,this.N())},b.prototype[Symbol.dispose]=function(){this.dispose()},b.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function w(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}w.prototype.h=function(){this.defaultPrevented=!0};var A=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let y=()=>{};o.addEventListener("test",y,p),o.removeEventListener("test",y,p)}catch{}return l})();function v(l){return/^[\s\xa0]*$/.test(l)}function dt(l,p){w.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,p)}m(dt,w),dt.prototype.init=function(l,p){let y=this.type=l.type,S=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget,p||(y=="mouseover"?p=l.fromElement:y=="mouseout"&&(p=l.toElement)),this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&dt.Z.h.call(this)},dt.prototype.h=function(){dt.Z.h.call(this);let l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Ln="closure_listenable_"+(Math.random()*1e6|0),nI=0;function ha(l,p,y,S,x){this.listener=l,this.proxy=null,this.src=p,this.type=y,this.capture=!!S,this.ha=x,this.key=++nI,this.da=this.fa=!1}function si(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Os(l,p,y){for(let S in l)p.call(y,l[S],S,l)}function Kp(l,p){for(let y in l)p.call(void 0,l[y],y,l)}function Qp(l){let p={};for(let y in l)p[y]=l[y];return p}let Nr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $t(l,p){let y,S;for(let x=1;x<arguments.length;x++){S=arguments[x];for(y in S)l[y]=S[y];for(let L=0;L<Nr.length;L++)y=Nr[L],Object.prototype.hasOwnProperty.call(S,y)&&(l[y]=S[y])}}function Gc(l){this.src=l,this.g={},this.h=0}Gc.prototype.add=function(l,p,y,S,x){let L=l.toString();l=this.g[L],l||(l=this.g[L]=[],this.h++);let W=Fd(l,p,S,x);return W>-1?(p=l[W],y||(p.fa=!1)):(p=new ha(p,this.src,L,!!S,x),p.fa=y,l.push(p)),p};function Wi(l,p){let y=p.type;if(y in l.g){var S=l.g[y],x=Array.prototype.indexOf.call(S,p,void 0),L;(L=x>=0)&&Array.prototype.splice.call(S,x,1),L&&(si(p),l.g[y].length==0&&(delete l.g[y],l.h--))}}function Fd(l,p,y,S){for(let x=0;x<l.length;++x){let L=l[x];if(!L.da&&L.listener==p&&L.capture==!!y&&L.ha==S)return x}return-1}var Ki="closure_lm_"+(Math.random()*1e6|0),Vd={};function Yp(l,p,y,S,x){if(S&&S.once)return Kc(l,p,y,S,x);if(Array.isArray(p)){for(let L=0;L<p.length;L++)Yp(l,p[L],y,S,x);return null}return y=Xc(y),l&&l[Ln]?l.J(p,y,a(S)?!!S.capture:!!S,x):fa(l,p,y,!1,S,x)}function fa(l,p,y,S,x,L){if(!p)throw Error("Invalid event type");let W=a(x)?!!x.capture:!!x,he=Jc(l);if(he||(l[Ki]=he=new Gc(l)),y=he.add(p,y,S,W,L),y.proxy)return y;if(S=Wc(),y.proxy=S,S.src=l,S.listener=y,l.addEventListener)A||(x=W),x===void 0&&(x=!1),l.addEventListener(p.toString(),S,x);else if(l.attachEvent)l.attachEvent(Yc(p.toString()),S);else if(l.addListener&&l.removeListener)l.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Wc(){function l(y){return p.call(l.src,l.listener,y)}let p=Jp;return l}function Kc(l,p,y,S,x){if(Array.isArray(p)){for(let L=0;L<p.length;L++)Kc(l,p[L],y,S,x);return null}return y=Xc(y),l&&l[Ln]?l.K(p,y,a(S)?!!S.capture:!!S,x):fa(l,p,y,!0,S,x)}function Qc(l,p,y,S,x){if(Array.isArray(p))for(var L=0;L<p.length;L++)Qc(l,p[L],y,S,x);else S=a(S)?!!S.capture:!!S,y=Xc(y),l&&l[Ln]?(l=l.i,L=String(p).toString(),L in l.g&&(p=l.g[L],y=Fd(p,y,S,x),y>-1&&(si(p[y]),Array.prototype.splice.call(p,y,1),p.length==0&&(delete l.g[L],l.h--)))):l&&(l=Jc(l))&&(p=l.g[p.toString()],l=-1,p&&(l=Fd(p,y,S,x)),(y=l>-1?p[l]:null)&&pa(y))}function pa(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[Ln])Wi(p.i,l);else{var y=l.type,S=l.proxy;p.removeEventListener?p.removeEventListener(y,S,l.capture):p.detachEvent?p.detachEvent(Yc(y),S):p.addListener&&p.removeListener&&p.removeListener(S),(y=Jc(p))?(Wi(y,l),y.h==0&&(y.src=null,p[Ki]=null)):si(l)}}}function Yc(l){return l in Vd?Vd[l]:Vd[l]="on"+l}function Jp(l,p){if(l.da)l=!0;else{p=new dt(p,this);let y=l.listener,S=l.ha||l.src;l.fa&&pa(l),l=y.call(S,p)}return l}function Jc(l){return l=l[Ki],l instanceof Gc?l:null}var Ud="__closure_events_fn_"+(Math.random()*1e9>>>0);function Xc(l){return typeof l=="function"?l:(l[Ud]||(l[Ud]=function(p){return l.handleEvent(p)}),l[Ud])}function Ht(){b.call(this),this.i=new Gc(this),this.M=this,this.G=null}m(Ht,b),Ht.prototype[Ln]=!0,Ht.prototype.removeEventListener=function(l,p,y,S){Qc(this,l,p,y,S)};function qt(l,p){var y,S=l.G;if(S)for(y=[];S;S=S.G)y.push(S);if(l=l.M,S=p.type||p,typeof p=="string")p=new w(p,l);else if(p instanceof w)p.target=p.target||l;else{var x=p;p=new w(S,l),$t(p,x)}x=!0;let L,W;if(y)for(W=y.length-1;W>=0;W--)L=p.g=y[W],x=ma(L,S,!0,p)&&x;if(L=p.g=l,x=ma(L,S,!0,p)&&x,x=ma(L,S,!1,p)&&x,y)for(W=0;W<y.length;W++)L=p.g=y[W],x=ma(L,S,!1,p)&&x}Ht.prototype.N=function(){if(Ht.Z.N.call(this),this.i){var l=this.i;for(let p in l.g){let y=l.g[p];for(let S=0;S<y.length;S++)si(y[S]);delete l.g[p],l.h--}}this.G=null},Ht.prototype.J=function(l,p,y,S){return this.i.add(String(l),p,!1,y,S)},Ht.prototype.K=function(l,p,y,S){return this.i.add(String(l),p,!0,y,S)};function ma(l,p,y,S){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();let x=!0;for(let L=0;L<p.length;++L){let W=p[L];if(W&&!W.da&&W.capture==y){let he=W.listener,u=W.ha||W.src;W.fa&&Wi(l.i,W),x=he.call(u,S)!==!1&&x}}return x&&!S.defaultPrevented}function rI(l,p){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=d(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:o.setTimeout(l,p||0)}function Zc(l){l.g=rI(()=>{l.g=null,l.i&&(l.i=!1,Zc(l))},l.l);let p=l.h;l.h=null,l.m.apply(null,p)}class jd extends b{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Zc(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qi(l){b.call(this),this.h=l,this.g={}}m(Qi,b);var zt=[];function en(l){Os(l.g,function(p,y){this.g.hasOwnProperty(y)&&pa(p)},l),l.g={}}Qi.prototype.N=function(){Qi.Z.N.call(this),en(this)},Qi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ls=o.JSON.stringify,Xp=o.JSON.parse,Zp=class{stringify(l){return o.JSON.stringify(l,void 0)}parse(l){return o.JSON.parse(l,void 0)}};function em(){}function Fs(){}var Vs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function eu(){w.call(this,"d")}m(eu,w);function ga(){w.call(this,"c")}m(ga,w);var Yi={},tm=null;function Us(){return tm=tm||new Ht}Yi.Ia="serverreachability";function Bd(l){w.call(this,Yi.Ia,l)}m(Bd,w);function js(l){let p=Us();qt(p,new Bd(p))}Yi.STAT_EVENT="statevent";function Bs(l,p){w.call(this,Yi.STAT_EVENT,l),this.stat=p}m(Bs,w);function Gt(l){let p=Us();qt(p,new Bs(p,l))}Yi.Ja="timingevent";function tu(l,p){w.call(this,Yi.Ja,l),this.size=p}m(tu,w);function zn(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){l()},p)}function $s(){this.g=!0}$s.prototype.ua=function(){this.g=!1};function nu(l,p,y,S,x,L){l.info(function(){if(l.g)if(L){var W="",he=L.split("&");for(let f=0;f<he.length;f++){var u=he[f].split("=");if(u.length>1){let g=u[0];u=u[1];let C=g.split("_");W=C.length>=2&&C[1]=="type"?W+(g+"="+u+"&"):W+(g+"=redacted&")}}}else W=null;else W=L;return"XMLHTTP REQ ("+S+") [attempt "+x+"]: "+p+`
`+y+`
`+W})}function nm(l,p,y,S,x,L,W){l.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+x+"]: "+p+`
`+y+`
`+L+" "+W})}function fr(l,p,y,S){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+hn(l,y)+(S?" "+S:"")})}function rm(l,p){l.info(function(){return"TIMEOUT: "+p})}$s.prototype.info=function(){};function hn(l,p){if(!l.g)return p;if(!p)return null;try{let L=JSON.parse(p);if(L){for(l=0;l<L.length;l++)if(Array.isArray(L[l])){var y=L[l];if(!(y.length<2)){var S=y[1];if(Array.isArray(S)&&!(S.length<1)){var x=S[0];if(x!="noop"&&x!="stop"&&x!="close")for(let W=1;W<S.length;W++)S[W]=""}}}}return Ls(L)}catch{return p}}var ya={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Hs={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},qs;function $d(){}m($d,em),$d.prototype.g=function(){return new XMLHttpRequest},qs=new $d;function _a(l){return encodeURIComponent(String(l))}function zs(l){var p=1;l=l.split(":");let y=[];for(;p>0&&l.length;)y.push(l.shift()),p--;return l.length&&y.push(l.join(":")),y}function oi(l,p,y,S){this.j=l,this.i=p,this.l=y,this.S=S||1,this.V=new Qi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new im}function im(){this.i=null,this.g="",this.h=!1}var va={},ru={};function Ea(l,p,y){l.M=1,l.A=Ta(Gn(p)),l.u=y,l.R=!0,Ia(l,null)}function Ia(l,p){l.F=Date.now(),Gs(l),l.B=Gn(l.A);var y=l.B,S=l.S;Array.isArray(S)||(S=[String(S)]),lm(y.i,"t",S),l.C=0,y=l.j.L,l.h=new im,l.g=gu(l.j,y?p:null,!l.u),l.P>0&&(l.O=new jd(d(l.Y,l,l.g),l.P)),p=l.V,y=l.g,S=l.ba;var x="readystatechange";Array.isArray(x)||(x&&(zt[0]=x.toString()),x=zt);for(let L=0;L<x.length;L++){let W=Yp(y,x[L],S||p.handleEvent,!1,p.h||p);if(!W)break;p.g[W.key]=W}p=l.J?Qp(l.J):{},l.u?(l.v||(l.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,p)):(l.v="GET",l.g.ea(l.B,l.v,null,p)),js(),nu(l.i,l.v,l.B,l.l,l.S,l.u)}oi.prototype.ba=function(l){l=l.target;let p=this.O;p&&qe(l)==3?p.j():this.Y(l)},oi.prototype.Y=function(l){try{if(l==this.g)e:{let he=qe(this.g),u=this.g.ya(),f=this.g.ca();if(!(he<3)&&(he!=3||this.g&&(this.h.h||this.g.la()||ym(this.g)))){this.K||he!=4||u==7||(u==8||f<=0?js(3):js(2)),su(this);var p=this.g.ca();this.X=p;var y=ai(this);if(this.o=p==200,nm(this.i,this.v,this.B,this.l,this.S,he,p),this.o){if(this.U&&!this.L){t:{if(this.g){var S,x=this.g;if((S=x.g?x.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(S)){var L=S;break t}}L=null}if(l=L)fr(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ks(this,l);else{this.o=!1,this.m=3,Gt(12),Ji(this),Ws(this);break e}}if(this.R){l=!0;let g;for(;!this.K&&this.C<y.length;)if(g=sm(this,y),g==ru){he==4&&(this.m=4,Gt(14),l=!1),fr(this.i,this.l,null,"[Incomplete Response]");break}else if(g==va){this.m=4,Gt(15),fr(this.i,this.l,y,"[Invalid Chunk]"),l=!1;break}else fr(this.i,this.l,g,null),Ks(this,g);if(Hd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),he!=4||y.length!=0||this.h.h||(this.m=1,Gt(16),l=!1),this.o=this.o&&l,!l)fr(this.i,this.l,y,"[Invalid Chunked Response]"),Ji(this),Ws(this);else if(y.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),fu(W),W.P=!0,Gt(11))}}else fr(this.i,this.l,y,null),Ks(this,y);he==4&&Ji(this),this.o&&!this.K&&(he==4?nh(this.j,this):(this.o=!1,Gs(this)))}else iI(this.g),p==400&&y.indexOf("Unknown SID")>0?(this.m=3,Gt(12)):(this.m=0,Gt(13)),Ji(this),Ws(this)}}}catch{}finally{}};function ai(l){if(!Hd(l))return l.g.la();let p=ym(l.g);if(p==="")return"";let y="",S=p.length,x=qe(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return Ji(l),Ws(l),"";l.h.i=new o.TextDecoder}for(let L=0;L<S;L++)l.h.h=!0,y+=l.h.i.decode(p[L],{stream:!(x&&L==S-1)});return p.length=0,l.h.g+=y,l.C=0,l.h.g}function Hd(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function sm(l,p){var y=l.C,S=p.indexOf(`
`,y);return S==-1?ru:(y=Number(p.substring(y,S)),isNaN(y)?va:(S+=1,S+y>p.length?ru:(p=p.slice(S,S+y),l.C=S+y,p)))}oi.prototype.cancel=function(){this.K=!0,Ji(this)};function Gs(l){l.T=Date.now()+l.H,iu(l,l.H)}function iu(l,p){if(l.D!=null)throw Error("WatchDog timer not null");l.D=zn(d(l.aa,l),p)}function su(l){l.D&&(o.clearTimeout(l.D),l.D=null)}oi.prototype.aa=function(){this.D=null;let l=Date.now();l-this.T>=0?(rm(this.i,this.B),this.M!=2&&(js(),Gt(17)),Ji(this),this.m=2,Ws(this)):iu(this,this.T-l)};function Ws(l){l.j.I==0||l.K||nh(l.j,l)}function Ji(l){su(l);var p=l.O;p&&typeof p.dispose=="function"&&p.dispose(),l.O=null,en(l.V),l.g&&(p=l.g,l.g=null,p.abort(),p.dispose())}function Ks(l,p){try{var y=l.j;if(y.I!=0&&(y.g==l||wa(y.h,l))){if(!l.L&&wa(y.h,l)&&y.I==3){try{var S=y.Ba.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var x=S;if(x[0]==0){e:if(!y.v){if(y.g)if(y.g.F+3e3<l.F)pu(y),Xi(y);else break e;no(y),Gt(18)}}else y.xa=x[1],0<y.xa-y.K&&x[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=zn(d(y.Va,y),6e3));ci(y.h)<=1&&y.ta&&(y.ta=void 0)}else li(y,11)}else if((l.L||y.g==l)&&pu(y),!v(p))for(x=y.Ba.g.parse(p),p=0;p<x.length;p++){let f=x[p],g=f[0];if(!(g<=y.K))if(y.K=g,f=f[1],y.I==2)if(f[0]=="c"){y.M=f[1],y.ba=f[2];let C=f[3];C!=null&&(y.ka=C,y.j.info("VER="+y.ka));let M=f[4];M!=null&&(y.za=M,y.j.info("SVER="+y.za));let F=f[5];F!=null&&typeof F=="number"&&F>0&&(S=1.5*F,y.O=S,y.j.info("backChannelRequestTimeoutMs_="+S)),S=y;let G=l.g;if(G){let $e=G.g?G.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($e){var L=S.h;L.g||$e.indexOf("spdy")==-1&&$e.indexOf("quic")==-1&&$e.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(qd(L,L.h),L.h=null))}if(S.G){let Tt=G.g?G.g.getResponseHeader("X-HTTP-Session-Id"):null;Tt&&(S.wa=Tt,Ye(S.J,S.G,Tt))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-l.F,y.j.info("Handshake RTT: "+y.T+"ms")),S=y;var W=l;if(S.na=mu(S,S.L?S.ba:null,S.W),W.L){zd(S.h,W);var he=W,u=S.O;u&&(he.H=u),he.D&&(su(he),Gs(he)),S.g=W}else hu(S);y.i.length>0&&Vn(y)}else f[0]!="stop"&&f[0]!="close"||li(y,7);else y.I==3&&(f[0]=="stop"||f[0]=="close"?f[0]=="stop"?li(y,7):du(y):f[0]!="noop"&&y.l&&y.l.qa(f),y.A=0)}}js(4)}catch{}}var om=class{constructor(l,p){this.g=l,this.map=p}};function ou(l){this.l=l||10,o.PerformanceNavigationTiming?(l=o.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Qs(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function ci(l){return l.h?1:l.g?l.g.size:0}function wa(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function qd(l,p){l.g?l.g.add(p):l.h=p}function zd(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}ou.prototype.cancel=function(){if(this.i=Gd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function Gd(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let p=l.i;for(let y of l.g.values())p=p.concat(y.G);return p}return R(l.i)}var Wd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kd(l,p){if(l){l=l.split("&");for(let y=0;y<l.length;y++){let S=l[y].indexOf("="),x,L=null;S>=0?(x=l[y].substring(0,S),L=l[y].substring(S+1)):x=l[y],p(x,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function pr(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;l instanceof pr?(this.l=l.l,Ys(this,l.j),this.o=l.o,this.g=l.g,ba(this,l.u),this.h=l.h,Qd(this,dm(l.i)),this.m=l.m):l&&(p=String(l).match(Wd))?(this.l=!1,Ys(this,p[1]||"",!0),this.o=Ca(p[2]||""),this.g=Ca(p[3]||"",!0),ba(this,p[4]),this.h=Ca(p[5]||"",!0),Qd(this,p[6]||"",!0),this.m=Ca(p[7]||"")):(this.l=!1,this.i=new xr(null,this.l))}pr.prototype.toString=function(){let l=[];var p=this.j;p&&l.push(Wn(p,Sa,!0),":");var y=this.g;return(y||p=="file")&&(l.push("//"),(p=this.o)&&l.push(Wn(p,Sa,!0),"@"),l.push(_a(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&l.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(Wn(y,y.charAt(0)=="/"?am:au,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",Wn(y,cu)),l.join("")},pr.prototype.resolve=function(l){let p=Gn(this),y=!!l.j;y?Ys(p,l.j):y=!!l.o,y?p.o=l.o:y=!!l.g,y?p.g=l.g:y=l.u!=null;var S=l.h;if(y)ba(p,l.u);else if(y=!!l.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var x=p.h.lastIndexOf("/");x!=-1&&(S=p.h.slice(0,x+1)+S)}if(x=S,x==".."||x==".")S="";else if(x.indexOf("./")!=-1||x.indexOf("/.")!=-1){S=x.lastIndexOf("/",0)==0,x=x.split("/");let L=[];for(let W=0;W<x.length;){let he=x[W++];he=="."?S&&W==x.length&&L.push(""):he==".."?((L.length>1||L.length==1&&L[0]!="")&&L.pop(),S&&W==x.length&&L.push("")):(L.push(he),S=!0)}S=L.join("/")}else S=x}return y?p.h=S:y=l.i.toString()!=="",y?Qd(p,dm(l.i)):y=!!l.m,y&&(p.m=l.m),p};function Gn(l){return new pr(l)}function Ys(l,p,y){l.j=y?Ca(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function ba(l,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);l.u=p}else l.u=null}function Qd(l,p,y){p instanceof xr?(l.i=p,Da(l.i,l.l)):(y||(p=Wn(p,Ze)),l.i=new xr(p,l.l))}function Ye(l,p,y){l.i.set(p,y)}function Ta(l){return Ye(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function Ca(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Wn(l,p,y){return typeof l=="string"?(l=encodeURI(l).replace(p,kr),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function kr(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Sa=/[#\/\?@]/g,au=/[#\?:]/g,am=/[#\?]/g,Ze=/[#\?@]/g,cu=/#/g;function xr(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function Kn(l){l.g||(l.g=new Map,l.h=0,l.i&&Kd(l.i,function(p,y){l.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}n=xr.prototype,n.add=function(l,p){Kn(this),this.i=null,l=Js(this,l);let y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(p),this.h+=1,this};function cm(l,p){Kn(l),p=Js(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function Yd(l,p){return Kn(l),p=Js(l,p),l.g.has(p)}n.forEach=function(l,p){Kn(this),this.g.forEach(function(y,S){y.forEach(function(x){l.call(p,x,S,this)},this)},this)};function um(l,p){Kn(l);let y=[];if(typeof p=="string")Yd(l,p)&&(y=y.concat(l.g.get(Js(l,p))));else for(l=Array.from(l.g.values()),p=0;p<l.length;p++)y=y.concat(l[p]);return y}n.set=function(l,p){return Kn(this),this.i=null,l=Js(this,l),Yd(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},n.get=function(l,p){return l?(l=um(this,l),l.length>0?String(l[0]):p):p};function lm(l,p,y){cm(l,p),y.length>0&&(l.i=null,l.g.set(Js(l,p),R(y)),l.h+=y.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],p=Array.from(this.g.keys());for(let S=0;S<p.length;S++){var y=p[S];let x=_a(y);y=um(this,y);for(let L=0;L<y.length;L++){let W=x;y[L]!==""&&(W+="="+_a(y[L])),l.push(W)}}return this.i=l.join("&")};function dm(l){let p=new xr;return p.i=l.i,l.g&&(p.g=new Map(l.g),p.h=l.h),p}function Js(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function Da(l,p){p&&!l.j&&(Kn(l),l.i=null,l.g.forEach(function(y,S){let x=S.toLowerCase();S!=x&&(cm(this,S),lm(this,x,y))},l)),l.j=p}function ui(l,p){let y=new $s;if(o.Image){let S=new Image;S.onload=h(Mr,y,"TestLoadImage: loaded",!0,p,S),S.onerror=h(Mr,y,"TestLoadImage: error",!1,p,S),S.onabort=h(Mr,y,"TestLoadImage: abort",!1,p,S),S.ontimeout=h(Mr,y,"TestLoadImage: timeout",!1,p,S),o.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=l}else p(!1)}function hm(l,p){let y=new $s,S=new AbortController,x=setTimeout(()=>{S.abort(),Mr(y,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:S.signal}).then(L=>{clearTimeout(x),L.ok?Mr(y,"TestPingServer: ok",!0,p):Mr(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(x),Mr(y,"TestPingServer: error",!1,p)})}function Mr(l,p,y,S,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),S(y)}catch{}}function fm(){this.g=new Zp}function Or(l){this.i=l.Sb||null,this.h=l.ab||!1}m(Or,em),Or.prototype.g=function(){return new uu(this.i,this.h)};function uu(l,p){Ht.call(this),this.H=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(uu,Ht),n=uu.prototype,n.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=p,this.readyState=1,Fn(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;let p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(p.body=l),(this.H||o).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Aa(this)),this.readyState=0},n.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;pm(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function pm(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}n.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?Aa(this):Fn(this),this.readyState==3&&pm(this)}},n.Oa=function(l){this.g&&(this.response=this.responseText=l,Aa(this))},n.Na=function(l){this.g&&(this.response=l,Aa(this))},n.ga=function(){this.g&&Aa(this)};function Aa(l){l.readyState=4,l.l=null,l.j=null,l.B=null,Fn(l)}n.setRequestHeader=function(l,p){this.A.append(l,p)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=p.next();return l.join(`\r
`)};function Fn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(uu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function mm(l){let p="";return Os(l,function(y,S){p+=S,p+=":",p+=y,p+=`\r
`}),p}function Jd(l,p,y){e:{for(S in y){var S=!1;break e}S=!0}S||(y=mm(y),typeof l=="string"?y!=null&&_a(y):Ye(l,p,y))}function Je(l){Ht.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(Je,Ht);var lu=/^https?$/i,gm=["POST","PUT"];n=Je.prototype,n.Fa=function(l){this.H=l},n.ea=function(l,p,y,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():qs.g(),this.g.onreadystatechange=I(d(this.Ca,this));try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(L){Xs(this,L);return}if(l=y||"",y=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var x in S)y.set(x,S[x]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(let L of S.keys())y.set(L,S.get(L));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(y.keys()).find(L=>L.toLowerCase()=="content-type"),x=o.FormData&&l instanceof o.FormData,!(Array.prototype.indexOf.call(gm,p,void 0)>=0)||S||x||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[L,W]of y)this.g.setRequestHeader(L,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(L){Xs(this,L)}};function Xs(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.o=5,Zs(l),eo(l)}function Zs(l){l.A||(l.A=!0,qt(l,"complete"),qt(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,qt(this,"complete"),qt(this,"abort"),eo(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),eo(this,!0)),Je.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Xd(this):this.Xa())},n.Xa=function(){Xd(this)};function Xd(l){if(l.h&&typeof s<"u"){if(l.v&&qe(l)==4)setTimeout(l.Ca.bind(l),0);else if(qt(l,"readystatechange"),qe(l)==4){l.h=!1;try{let L=l.ca();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var S;if(S=L===0){let W=String(l.D).match(Wd)[1]||null;!W&&o.self&&o.self.location&&(W=o.self.location.protocol.slice(0,-1)),S=!lu.test(W?W.toLowerCase():"")}y=S}if(y)qt(l,"complete"),qt(l,"success");else{l.o=6;try{var x=qe(l)>2?l.g.statusText:""}catch{x=""}l.l=x+" ["+l.ca()+"]",Zs(l)}}finally{eo(l)}}}}function eo(l,p){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);let y=l.g;l.g=null,p||qt(l,"ready");try{y.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function qe(l){return l.g?l.g.readyState:0}n.ca=function(){try{return qe(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),Xp(p)}};function ym(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function iI(l){let p={};l=(l.g&&qe(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<l.length;S++){if(v(l[S]))continue;var y=zs(l[S]);let x=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();let L=p[x]||[];p[x]=L,L.push(y)}Kp(p,function(S){return S.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function to(l,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||p}function Zd(l){this.za=0,this.i=[],this.j=new $s,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=to("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=to("baseRetryDelayMs",5e3,l),this.Za=to("retryDelaySeedMs",1e4,l),this.Ta=to("forwardChannelMaxRetries",2,l),this.va=to("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new ou(l&&l.concurrentRequestLimit),this.Ba=new fm,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Zd.prototype,n.ka=8,n.I=1,n.connect=function(l,p,y,S){Gt(0),this.W=l,this.H=p||{},y&&S!==void 0&&(this.H.OSID=y,this.H.OAID=S),this.F=this.X,this.J=mu(this,null,this.W),Vn(this)};function du(l){if(eh(l),l.I==3){var p=l.V++,y=Gn(l.J);if(Ye(y,"SID",l.M),Ye(y,"RID",p),Ye(y,"TYPE","terminate"),Lr(l,y),p=new oi(l,l.j,p),p.M=2,p.A=Ta(Gn(y)),y=!1,o.navigator&&o.navigator.sendBeacon)try{y=o.navigator.sendBeacon(p.A.toString(),"")}catch{}!y&&o.Image&&(new Image().src=p.A,y=!0),y||(p.g=gu(p.j,null),p.g.ea(p.A)),p.F=Date.now(),Gs(p)}rh(l)}function Xi(l){l.g&&(fu(l),l.g.cancel(),l.g=null)}function eh(l){Xi(l),l.v&&(o.clearTimeout(l.v),l.v=null),pu(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&o.clearTimeout(l.m),l.m=null)}function Vn(l){if(!Qs(l.h)&&!l.m){l.m=!0;var p=l.Ea;ut||_(),Pe||(ut(),Pe=!0),T.add(p,l),l.D=0}}function _m(l,p){return ci(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=p.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=zn(d(l.Ea,l,p),ro(l,l.D)),l.D++,!0)}n.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;let x=new oi(this,this.j,l),L=this.o;if(this.U&&(L?(L=Qp(L),$t(L,this.U)):L=this.U),this.u!==null||this.R||(x.J=L,L=null),this.S)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var S=this.i[y];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(p+=S,p>4096){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=th(this,x,p),y=Gn(this.J),Ye(y,"RID",l),Ye(y,"CVER",22),this.G&&Ye(y,"X-HTTP-Session-Id",this.G),Lr(this,y),L&&(this.R?p="headers="+_a(mm(L))+"&"+p:this.u&&Jd(y,this.u,L)),qd(this.h,x),this.Ra&&Ye(y,"TYPE","init"),this.S?(Ye(y,"$req",p),Ye(y,"SID","null"),x.U=!0,Ea(x,y,null)):Ea(x,y,p),this.I=2}}else this.I==3&&(l?vm(this,l):this.i.length==0||Qs(this.h)||vm(this))};function vm(l,p){var y;p?y=p.l:y=l.V++;let S=Gn(l.J);Ye(S,"SID",l.M),Ye(S,"RID",y),Ye(S,"AID",l.K),Lr(l,S),l.u&&l.o&&Jd(S,l.u,l.o),y=new oi(l,l.j,y,l.D+1),l.u===null&&(y.J=l.o),p&&(l.i=p.G.concat(l.i)),p=th(l,y,1e3),y.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),qd(l.h,y),Ea(y,S,p)}function Lr(l,p){l.H&&Os(l.H,function(y,S){Ye(p,S,y)}),l.l&&Os({},function(y,S){Ye(p,S,y)})}function th(l,p,y){y=Math.min(l.i.length,y);let S=l.l?d(l.l.Ka,l.l,l):null;e:{var x=l.i;let he=-1;for(;;){let u=["count="+y];he==-1?y>0?(he=x[0].g,u.push("ofs="+he)):he=0:u.push("ofs="+he);let f=!0;for(let g=0;g<y;g++){var L=x[g].g;let C=x[g].map;if(L-=he,L<0)he=Math.max(0,x[g].g-100),f=!1;else try{L="req"+L+"_"||"";try{var W=C instanceof Map?C:Object.entries(C);for(let[M,F]of W){let G=F;a(F)&&(G=Ls(F)),u.push(L+M+"="+encodeURIComponent(G))}}catch(M){throw u.push(L+"type="+encodeURIComponent("_badmap")),M}}catch{S&&S(C)}}if(f){W=u.join("&");break e}}W=void 0}return l=l.i.splice(0,y),p.G=l,W}function hu(l){if(!l.g&&!l.v){l.Y=1;var p=l.Da;ut||_(),Pe||(ut(),Pe=!0),T.add(p,l),l.A=0}}function no(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=zn(d(l.Da,l),ro(l,l.A)),l.A++,!0)}n.Da=function(){if(this.v=null,Ra(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=zn(d(this.Wa,this),l)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Gt(10),Xi(this),Ra(this))};function fu(l){l.B!=null&&(o.clearTimeout(l.B),l.B=null)}function Ra(l){l.g=new oi(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var p=Gn(l.na);Ye(p,"RID","rpc"),Ye(p,"SID",l.M),Ye(p,"AID",l.K),Ye(p,"CI",l.F?"0":"1"),!l.F&&l.ia&&Ye(p,"TO",l.ia),Ye(p,"TYPE","xmlhttp"),Lr(l,p),l.u&&l.o&&Jd(p,l.u,l.o),l.O&&(l.g.H=l.O);var y=l.g;l=l.ba,y.M=1,y.A=Ta(Gn(p)),y.u=null,y.R=!0,Ia(y,l)}n.Va=function(){this.C!=null&&(this.C=null,Xi(this),no(this),Gt(19))};function pu(l){l.C!=null&&(o.clearTimeout(l.C),l.C=null)}function nh(l,p){var y=null;if(l.g==p){pu(l),fu(l),l.g=null;var S=2}else if(wa(l.h,p))y=p.G,zd(l.h,p),S=1;else return;if(l.I!=0){if(p.o)if(S==1){y=p.u?p.u.length:0,p=Date.now()-p.F;var x=l.D;S=Us(),qt(S,new tu(S,y)),Vn(l)}else hu(l);else if(x=p.m,x==3||x==0&&p.X>0||!(S==1&&_m(l,p)||S==2&&no(l)))switch(y&&y.length>0&&(p=l.h,p.i=p.i.concat(y)),x){case 1:li(l,5);break;case 4:li(l,10);break;case 3:li(l,6);break;default:li(l,2)}}}function ro(l,p){let y=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(y*=2),y*p}function li(l,p){if(l.j.info("Error code "+p),p==2){var y=d(l.bb,l),S=l.Ua;let x=!S;S=new pr(S||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Ys(S,"https"),Ta(S),x?ui(S.toString(),y):hm(S.toString(),y)}else Gt(2);l.I=0,l.l&&l.l.pa(p),rh(l),eh(l)}n.bb=function(l){l?(this.j.info("Successfully pinged google.com"),Gt(2)):(this.j.info("Failed to ping google.com"),Gt(1))};function rh(l){if(l.I=0,l.ja=[],l.l){let p=Gd(l.h);(p.length!=0||l.i.length!=0)&&(k(l.ja,p),k(l.ja,l.i),l.h.i.length=0,R(l.i),l.i.length=0),l.l.oa()}}function mu(l,p,y){var S=y instanceof pr?Gn(y):new pr(y);if(S.g!="")p&&(S.g=p+"."+S.g),ba(S,S.u);else{var x=o.location;S=x.protocol,p=p?p+"."+x.hostname:x.hostname,x=+x.port;let L=new pr(null);S&&Ys(L,S),p&&(L.g=p),x&&ba(L,x),y&&(L.h=y),S=L}return y=l.G,p=l.wa,y&&p&&Ye(S,y,p),Ye(S,"VER",l.ka),Lr(l,S),S}function gu(l,p,y){if(p&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Aa&&!l.ma?new Je(new Or({ab:y})):new Je(l.ma),p.Fa(l.L),p}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ih(){}n=ih.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Zi(){}Zi.prototype.g=function(l,p){return new yn(l,p)};function yn(l,p){Ht.call(this),this.g=new Zd(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(l?l["X-WebChannel-Client-Profile"]=p.sa:l={"X-WebChannel-Client-Profile":p.sa}),this.g.U=l,(l=p&&p.Qb)&&!v(l)&&(this.g.u=l),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!v(p)&&(this.g.G=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new es(this)}m(yn,Ht),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){du(this.g)},yn.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.v&&(y={},y.__data__=Ls(l),l=y);p.i.push(new om(p.Ya++,l)),p.I==3&&Vn(p)},yn.prototype.N=function(){this.g.l=null,delete this.j,du(this.g),delete this.g,yn.Z.N.call(this)};function sh(l){eu.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(let y in p){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}m(sh,eu);function di(){ga.call(this),this.status=1}m(di,ga);function es(l){this.g=l}m(es,ih),es.prototype.ra=function(){qt(this.g,"a")},es.prototype.qa=function(l){qt(this.g,new sh(l))},es.prototype.pa=function(l){qt(this.g,new di)},es.prototype.oa=function(){qt(this.g,"b")},Zi.prototype.createWebChannel=Zi.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,oC=ys.createWebChannelTransport=function(){return new Zi},sC=ys.getStatEventTarget=function(){return Us()},iC=ys.Event=Yi,k_=ys.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ya.NO_ERROR=0,ya.TIMEOUT=8,ya.HTTP_ERROR=6,Rf=ys.ErrorCode=ya,Hs.COMPLETE="complete",rC=ys.EventType=Hs,Fs.EventType=Vs,Vs.OPEN="a",Vs.CLOSE="b",Vs.ERROR="c",Vs.MESSAGE="d",Ht.prototype.listen=Ht.prototype.J,_l=ys.WebChannel=Fs,u8=ys.FetchXmlHttpFactory=Or,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,nC=ys.XhrIo=Je}).apply(typeof N_<"u"?N_:typeof self<"u"?self:typeof window<"u"?window:{});var pL="@firebase/firestore",mL="4.9.3";var on=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");var zl="12.7.0";var _c=new Mo("@firebase/firestore");function vl(){return _c.logLevel}function Y(n,...e){if(_c.logLevel<=Ne.DEBUG){let t=e.map(YS);_c.debug(`Firestore (${zl}): ${n}`,...t)}}function Es(n,...e){if(_c.logLevel<=Ne.ERROR){let t=e.map(YS);_c.error(`Firestore (${zl}): ${n}`,...t)}}function Nl(n,...e){if(_c.logLevel<=Ne.WARN){let t=e.map(YS);_c.warn(`Firestore (${zl}): ${n}`,...t)}}function YS(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function ge(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,iF(n,r,t)}function iF(n,e,t){let r=`FIRESTORE (${zl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Es(r),new Error(r)}function _t(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||iF(e,i,r)}function Le(n,e){return n}var z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},J=class extends sr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var vs=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var V_=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},fC=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(on.UNAUTHENTICATED))}shutdown(){}},pC=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},mC=class{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){_t(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),s=new vs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new vs,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new vs)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_t(typeof r.accessToken=="string",31837,{l:r}),new V_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return _t(e===null||typeof e=="string",2055,{h:e}),new on(e)}},gC=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},yC=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new gC(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(on.FIRST_PARTY))}shutdown(){}invalidateToken(){}},U_=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},_C=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ar(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){_t(this.o===void 0,3512);let r=s=>{s.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.m;return this.m=s.token,Y("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.V.getImmediate({optional:!0});s?i(s):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new U_(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(_t(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new U_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function l8(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var j_=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=l8(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}};function Me(n,e){return n<e?-1:n>e?1:0}function vC(n,e){let t=Math.min(n.length,e.length);for(let r=0;r<t;r++){let i=n.charAt(r),s=e.charAt(r);if(i!==s)return aC(i)===aC(s)?Me(i,s):aC(i)?1:-1}return Me(n.length,e.length)}var d8=55296,h8=57343;function aC(n){let e=n.charCodeAt(0);return e>=d8&&e<=h8}function kl(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var gL="__name__",B_=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ge(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ge(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=n.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return Me(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):vC(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gs.fromString(e.substring(4,e.length-2))}},Et=class n extends B_{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new J(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},f8=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ar=class n extends B_{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return f8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gL}static keyField(){return new n([gL])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new J(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new J(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new J(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new J(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var ae=class n{constructor(e){this.path=e}static fromPath(e){return new n(Et.fromString(e))}static fromName(e){return new n(Et.fromString(e).popFirst(5))}static empty(){return new n(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Et(e.slice()))}};function p8(n,e,t){if(!t)throw new J(z.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function m8(n,e,t,r){if(e===!0&&r===!0)throw new J(z.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function yL(n){if(ae.isDocumentKey(n))throw new J(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function sF(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function pv(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ge(12329,{type:typeof n})}function EC(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new J(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=pv(n);throw new J(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Lt(n,e){let t={typeString:n};return e&&(t.value=e),t}function Yf(n,e){if(!sF(n))throw new J(z.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let o=n[r];if(i&&typeof o!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){t=`Expected '${r}' field to equal '${s.value}'`;break}}if(t)throw new J(z.INVALID_ARGUMENT,t);return!0}var _L=-62135596800,vL=1e6,Yt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*vL);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new J(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new J(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<_L)throw new J(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vL}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Yf(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-_L;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Yt._jsonSchemaVersion="firestore/timestamp/1.0",Yt._jsonSchema={type:Lt("string",Yt._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};var Ee=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new Yt(0,0))}static max(){return new n(new Yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Lf=-1,IC=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};IC.UNKNOWN_ID=-1;function g8(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ee.fromTimestamp(r===1e9?new Yt(t+1,0):new Yt(t,r));return new vc(i,ae.empty(),e)}function y8(n){return new vc(n.readTime,n.key,Lf)}var vc=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(Ee.min(),ae.empty(),Lf)}static max(){return new n(Ee.max(),ae.empty(),Lf)}};function _8(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ae.comparator(n.documentKey,e.documentKey),t!==0?t:Me(n.largestBatchId,e.largestBatchId))}var v8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",wC=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function mv(n){if(n.code!==z.FAILED_PRECONDITION||n.message!==v8)throw n;Y("LocalStore","Unexpectedly lost primary lease")}var B=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},c=>r(c))}),o=!0,s===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let d=c;t(e[d]).next(h=>{o[d]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};function E8(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Gl(n){return n.name==="IndexedDbTransactionError"}var JS=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>r.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ue&&this.ue(t),t}}n.ce=-1;return n})(),I8=-1;function gv(n){return n==null}function Ff(n){return n===0&&1/n==-1/0}function w8(n){return typeof n=="number"&&Number.isInteger(n)&&!Ff(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var oF="";function b8(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=EL(e)),e=T8(n.get(t),e);return EL(e)}function T8(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let s=n.charAt(i);switch(s){case"\0":t+="";break;case oF:t+="";break;default:t+=s}}return t}function EL(n){return n+oF+""}var C8="remoteDocuments",aF="owner";var cF="mutationQueues";var uF="mutations";var lF="documentMutations",S8="remoteDocumentsV14";var dF="remoteDocumentGlobal";var hF="targets";var fF="targetDocuments";var pF="targetGlobal",mF="collectionParents";var gF="clientMetadata";var yF="bundles";var _F="namedQueries";var D8="indexConfiguration";var A8="indexState";var R8="indexEntries";var vF="documentOverlays";var P8="globals";var N8=[cF,uF,lF,C8,hF,aF,pF,fF,gF,dF,mF,yF,_F],Vve=[...N8,vF],k8=[cF,uF,lF,S8,hF,aF,pF,fF,gF,dF,mF,yF,_F,vF],x8=k8,M8=[...x8,D8,A8,R8];var Uve=[...M8,P8];function IL(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Wl(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function EF(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var At=class n{constructor(e,t){this.comparator=e,this.root=t||xi.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xi.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bl(this.root,e,this.comparator,!1)}getReverseIterator(){return new bl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bl(this.root,e,this.comparator,!0)}},bl=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},xi=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ge(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw ge(27949);return e+(this.isRed()?0:1)}};xi.EMPTY=null,xi.RED=!0,xi.BLACK=!1;xi.EMPTY=new class{constructor(){this.size=0}get key(){throw ge(57766)}get value(){throw ge(16141)}get color(){throw ge(16727)}get left(){throw ge(29726)}get right(){throw ge(36894)}copy(e,t,r,i,s){return this}insert(e,t,r){return new xi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var an=class n{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new $_(this.data.getIterator())}getIteratorFrom(e){return new $_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},$_=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var mc=class n{constructor(e){this.fields=e,e.sort(Ar.comparator)}static empty(){return new n([])}unionWith(e){let t=new an(Ar.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return kl(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var H_=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Tn=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new H_("Invalid base64 string: "+s):s}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Tn.EMPTY_BYTE_STRING=new Tn("");var O8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Is(n){if(_t(!!n,39018),typeof n=="string"){let e=0,t=O8.exec(n);if(_t(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mt(n.seconds),nanos:mt(n.nanos)}}function mt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ws(n){return typeof n=="string"?Tn.fromBase64String(n):Tn.fromUint8Array(n)}var IF="server_timestamp",wF="__type__",bF="__previous_value__",TF="__local_write_time__";function XS(n){return(n?.mapValue?.fields||{})[wF]?.stringValue===IF}function yv(n){let e=n.mapValue.fields[bF];return XS(e)?yv(e):e}function Vf(n){let e=Is(n.mapValue.fields[TF].timestampValue);return new Yt(e.seconds,e.nanos)}var bC=class{constructor(e,t,r,i,s,o,a,c,d,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=h}},q_="(default)",z_=class n{constructor(e,t){this.projectId=e,this.database=t||q_}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===q_}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var ZS="__type__",CF="__max__",x_={mapValue:{fields:{__type__:{stringValue:CF}}}},eD="__vector__",xl="value";function Wo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?XS(n)?4:DF(n)?9007199254740991:SF(n)?10:11:ge(28295,{value:n})}function Oi(n,e){if(n===e)return!0;let t=Wo(n);if(t!==Wo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Vf(n).isEqual(Vf(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Is(i.timestampValue),a=Is(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,s){return ws(i.bytesValue).isEqual(ws(s.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,s){return mt(i.geoPointValue.latitude)===mt(s.geoPointValue.latitude)&&mt(i.geoPointValue.longitude)===mt(s.geoPointValue.longitude)})(n,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return mt(i.integerValue)===mt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=mt(i.doubleValue),a=mt(s.doubleValue);return o===a?Ff(o)===Ff(a):isNaN(o)&&isNaN(a)}return!1})(n,e);case 9:return kl(n.arrayValue.values||[],e.arrayValue.values||[],Oi);case 10:case 11:return(function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(IL(o)!==IL(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Oi(o[c],a[c])))return!1;return!0})(n,e);default:return ge(52216,{left:n})}}function Uf(n,e){return(n.values||[]).find(t=>Oi(t,e))!==void 0}function Ml(n,e){if(n===e)return 0;let t=Wo(n),r=Wo(e);if(t!==r)return Me(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Me(n.booleanValue,e.booleanValue);case 2:return(function(s,o){let a=mt(s.integerValue||s.doubleValue),c=mt(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1})(n,e);case 3:return wL(n.timestampValue,e.timestampValue);case 4:return wL(Vf(n),Vf(e));case 5:return vC(n.stringValue,e.stringValue);case 6:return(function(s,o){let a=ws(s),c=ws(o);return a.compareTo(c)})(n.bytesValue,e.bytesValue);case 7:return(function(s,o){let a=s.split("/"),c=o.split("/");for(let d=0;d<a.length&&d<c.length;d++){let h=Me(a[d],c[d]);if(h!==0)return h}return Me(a.length,c.length)})(n.referenceValue,e.referenceValue);case 8:return(function(s,o){let a=Me(mt(s.latitude),mt(o.latitude));return a!==0?a:Me(mt(s.longitude),mt(o.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return bL(n.arrayValue,e.arrayValue);case 10:return(function(s,o){let a=s.fields||{},c=o.fields||{},d=a[xl]?.arrayValue,h=c[xl]?.arrayValue,m=Me(d?.values?.length||0,h?.values?.length||0);return m!==0?m:bL(d,h)})(n.mapValue,e.mapValue);case 11:return(function(s,o){if(s===x_.mapValue&&o===x_.mapValue)return 0;if(s===x_.mapValue)return 1;if(o===x_.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),d=o.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let m=0;m<c.length&&m<h.length;++m){let I=vC(c[m],h[m]);if(I!==0)return I;let R=Ml(a[c[m]],d[h[m]]);if(R!==0)return R}return Me(c.length,h.length)})(n.mapValue,e.mapValue);default:throw ge(23264,{he:t})}}function wL(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Me(n,e);let t=Is(n),r=Is(e),i=Me(t.seconds,r.seconds);return i!==0?i:Me(t.nanos,r.nanos)}function bL(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let s=Ml(t[i],r[i]);if(s)return s}return Me(t.length,r.length)}function Ol(n){return TC(n)}function TC(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=Is(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return ws(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ae.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let s of t.values||[])i?i=!1:r+=",",r+=TC(s);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${TC(t.fields[o])}`;return i+"}"})(n.mapValue):ge(61005,{value:n})}function L_(n){switch(Wo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=yv(n);return e?16+L_(e):16;case 5:return 2*n.stringValue.length;case 6:return ws(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,s)=>i+L_(s),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Wl(r.fields,(s,o)=>{i+=s.length+L_(o)}),i})(n.mapValue);default:throw ge(13486,{value:n})}}function TL(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function CC(n){return!!n&&"integerValue"in n}function tD(n){return!!n&&"arrayValue"in n}function CL(n){return!!n&&"nullValue"in n}function SL(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function cC(n){return!!n&&"mapValue"in n}function SF(n){return(n?.mapValue?.fields||{})[ZS]?.stringValue===eD}function Nf(n){if(n.geoPointValue)return{geoPointValue:j({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:j({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Wl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Nf(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Nf(n.arrayValue.values[t]);return e}return j({},n)}function DF(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===CF}var Bve={mapValue:{fields:{[ZS]:{stringValue:eD},[xl]:{arrayValue:{}}}}};var _s=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!cC(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nf(t)}setAll(e){let t=Ar.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Nf(o):i.push(a.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());cC(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Oi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];cC(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Wl(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n(Nf(this.value))}};var ei=class n{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new n(e,0,Ee.min(),Ee.min(),Ee.min(),_s.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,Ee.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,Ee.min(),Ee.min(),_s.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,Ee.min(),Ee.min(),_s.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_s.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_s.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ll=class{constructor(e,t){this.position=e,this.inclusive=t}};function DL(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],o=n.position[i];if(s.field.isKeyField()?r=ae.comparator(ae.fromName(o.referenceValue),t.key):r=Ml(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function AL(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Oi(n.position[t],e.position[t]))return!1;return!0}var Fl=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function L8(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var G_=class{},Ot=class n extends G_{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new DC(e,t,r):t==="array-contains"?new PC(e,r):t==="in"?new NC(e,r):t==="not-in"?new kC(e,r):t==="array-contains-any"?new xC(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new AC(e,r):new RC(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ml(t,this.value)):t!==null&&Wo(this.value)===Wo(t)&&this.matchesComparison(Ml(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},ti=class n extends G_{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new n(e,t)}matches(e){return AF(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function AF(n){return n.op==="and"}function RF(n){return F8(n)&&AF(n)}function F8(n){for(let e of n.filters)if(e instanceof ti)return!1;return!0}function SC(n){if(n instanceof Ot)return n.field.canonicalString()+n.op.toString()+Ol(n.value);if(RF(n))return n.filters.map(e=>SC(e)).join(",");{let e=n.filters.map(t=>SC(t)).join(",");return`${n.op}(${e})`}}function PF(n,e){return n instanceof Ot?(function(r,i){return i instanceof Ot&&r.op===i.op&&r.field.isEqual(i.field)&&Oi(r.value,i.value)})(n,e):n instanceof ti?(function(r,i){return i instanceof ti&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&PF(o,i.filters[a]),!0):!1})(n,e):void ge(19439)}function NF(n){return n instanceof Ot?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ol(t.value)}`})(n):n instanceof ti?(function(t){return t.op.toString()+" {"+t.getFilters().map(NF).join(" ,")+"}"})(n):"Filter"}var DC=class extends Ot{constructor(e,t,r){super(e,t,r),this.key=ae.fromName(r.referenceValue)}matches(e){let t=ae.comparator(e.key,this.key);return this.matchesComparison(t)}},AC=class extends Ot{constructor(e,t){super(e,"in",t),this.keys=kF("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},RC=class extends Ot{constructor(e,t){super(e,"not-in",t),this.keys=kF("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function kF(n,e){return(e.arrayValue?.values||[]).map(t=>ae.fromName(t.referenceValue))}var PC=class extends Ot{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return tD(t)&&Uf(t.arrayValue,this.value)}},NC=class extends Ot{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Uf(this.value.arrayValue,t)}},kC=class extends Ot{constructor(e,t){super(e,"not-in",t)}matches(e){if(Uf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Uf(this.value.arrayValue,t)}},xC=class extends Ot{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!tD(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Uf(this.value.arrayValue,r))}};var MC=class{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}};function RL(n,e=null,t=[],r=[],i=null,s=null,o=null){return new MC(n,e,t,r,i,s,o)}function nD(n){let e=Le(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>SC(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(s){return s.field.canonicalString()+s.dir})(r)).join(","),gv(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ol(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ol(r)).join(",")),e.Te=t}return e.Te}function rD(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!L8(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!PF(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!AL(n.startAt,e.startAt)&&AL(n.endAt,e.endAt)}function OC(n){return ae.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Ec=class{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}};function V8(n,e,t,r,i,s,o,a){return new Ec(n,e,t,r,i,s,o,a)}function xF(n){return new Ec(n)}function PL(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function MF(n){return n.collectionGroup!==null}function kf(n){let e=Le(n);if(e.Ie===null){e.Ie=[];let t=new Set;for(let s of e.explicitOrderBy)e.Ie.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new an(Ar.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Fl(s,r))}),t.has(Ar.keyField().canonicalString())||e.Ie.push(new Fl(Ar.keyField(),r))}return e.Ie}function Mi(n){let e=Le(n);return e.Ee||(e.Ee=U8(e,kf(n))),e.Ee}function U8(n,e){if(n.limitType==="F")return RL(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Fl(i.field,s)});let t=n.endAt?new Ll(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ll(n.startAt.position,n.startAt.inclusive):null;return RL(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function LC(n,e){let t=n.filters.concat([e]);return new Ec(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function FC(n,e,t){return new Ec(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function _v(n,e){return rD(Mi(n),Mi(e))&&n.limitType===e.limitType}function OF(n){return`${nD(Mi(n))}|lt:${n.limitType}`}function El(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>NF(i)).join(", ")}]`),gv(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ol(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ol(i)).join(",")),`Target(${r})`})(Mi(n))}; limitType=${n.limitType})`}function vv(n,e){return e.isFoundDocument()&&(function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ae.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(n,e)&&(function(r,i){for(let s of kf(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(o,a,c){let d=DL(o,a,c);return o.inclusive?d<=0:d<0})(r.startAt,kf(r),i)||r.endAt&&!(function(o,a,c){let d=DL(o,a,c);return o.inclusive?d>=0:d>0})(r.endAt,kf(r),i))})(n,e)}function j8(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function LF(n){return(e,t)=>{let r=!1;for(let i of kf(n)){let s=B8(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function B8(n,e,t){let r=n.field.isKeyField()?ae.comparator(e.key,t.key):(function(s,o,a){let c=o.data.field(s),d=a.data.field(s);return c!==null&&d!==null?Ml(c,d):ge(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ge(19790,{direction:n.dir})}}var bs=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Wl(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return EF(this.inner)}size(){return this.innerSize}};var $8=new At(ae.comparator);function Ko(){return $8}var FF=new At(ae.comparator);function Pf(...n){let e=FF;for(let t of n)e=e.insert(t.key,t);return e}function H8(n){let e=FF;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function gc(){return xf()}function VF(){return xf()}function xf(){return new bs(n=>n.toString(),(n,e)=>n.isEqual(e))}var $ve=new At(ae.comparator),q8=new an(ae.comparator);function je(...n){let e=q8;for(let t of n)e=e.add(t);return e}var z8=new an(Me);function G8(){return z8}function iD(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ff(e)?"-0":e}}function UF(n){return{integerValue:""+n}}function W8(n,e){return w8(e)?UF(e):iD(n,e)}var Vl=class{constructor(){this._=void 0}};function K8(n,e,t){return n instanceof jf?(function(i,s){let o={fields:{[wF]:{stringValue:IF},[TF]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&XS(s)&&(s=yv(s)),s&&(o.fields[bF]=s),{mapValue:o}})(t,e):n instanceof Ul?jF(n,e):n instanceof jl?BF(n,e):(function(i,s){let o=Y8(i,s),a=NL(o)+NL(i.Ae);return CC(o)&&CC(i.Ae)?UF(a):iD(i.serializer,a)})(n,e)}function Q8(n,e,t){return n instanceof Ul?jF(n,e):n instanceof jl?BF(n,e):t}function Y8(n,e){return n instanceof Bf?(function(r){return CC(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}var jf=class extends Vl{},Ul=class extends Vl{constructor(e){super(),this.elements=e}};function jF(n,e){let t=$F(e);for(let r of n.elements)t.some(i=>Oi(i,r))||t.push(r);return{arrayValue:{values:t}}}var jl=class extends Vl{constructor(e){super(),this.elements=e}};function BF(n,e){let t=$F(e);for(let r of n.elements)t=t.filter(i=>!Oi(i,r));return{arrayValue:{values:t}}}var Bf=class extends Vl{constructor(e,t){super(),this.serializer=e,this.Ae=t}};function NL(n){return mt(n.integerValue||n.doubleValue)}function $F(n){return tD(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function J8(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof Ul&&i instanceof Ul||r instanceof jl&&i instanceof jl?kl(r.elements,i.elements,Oi):r instanceof Bf&&i instanceof Bf?Oi(r.Ae,i.Ae):r instanceof jf&&i instanceof jf})(n.transform,e.transform)}var Mf=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function F_(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var $f=class{};function HF(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new VC(n.key,Mf.none()):new Hf(n.key,n.data,Mf.none());{let t=n.data,r=_s.empty(),i=new an(Ar.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Bl(n.key,r,new mc(i.toArray()),Mf.none())}}function X8(n,e,t){n instanceof Hf?(function(i,s,o){let a=i.value.clone(),c=xL(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()})(n,e,t):n instanceof Bl?(function(i,s,o){if(!F_(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=xL(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(qF(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(n,e,t):(function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,t)}function Of(n,e,t,r){return n instanceof Hf?(function(s,o,a,c){if(!F_(s.precondition,o))return a;let d=s.value.clone(),h=ML(s.fieldTransforms,c,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null})(n,e,t,r):n instanceof Bl?(function(s,o,a,c){if(!F_(s.precondition,o))return a;let d=ML(s.fieldTransforms,c,o),h=o.data;return h.setAll(qF(s)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))})(n,e,t,r):(function(s,o,a){return F_(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a})(n,e,t)}function kL(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&kl(r,i,(s,o)=>J8(s,o))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Hf=class extends $f{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Bl=class extends $f{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function qF(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function xL(n,e,t){let r=new Map;_t(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let i=0;i<t.length;i++){let s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Q8(o,a,t[i]))}return r}function ML(n,e,t){let r=new Map;for(let i of n){let s=i.transform,o=t.data.field(i.field);r.set(i.field,K8(s,o,e))}return r}var VC=class extends $f{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var UC=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&X8(s,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Of(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Of(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=VF();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;let c=HF(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Ee.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),je())}isEqual(e){return this.batchId===e.batchId&&kl(this.mutations,e.mutations,(t,r)=>kL(t,r))&&kl(this.baseMutations,e.baseMutations,(t,r)=>kL(t,r))}};var jC=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var BC=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var xt,Oe;function zF(n){if(n===void 0)return Es("GRPC error has no .code"),z.UNKNOWN;switch(n){case xt.OK:return z.OK;case xt.CANCELLED:return z.CANCELLED;case xt.UNKNOWN:return z.UNKNOWN;case xt.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case xt.INTERNAL:return z.INTERNAL;case xt.UNAVAILABLE:return z.UNAVAILABLE;case xt.UNAUTHENTICATED:return z.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case xt.NOT_FOUND:return z.NOT_FOUND;case xt.ALREADY_EXISTS:return z.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return z.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case xt.ABORTED:return z.ABORTED;case xt.OUT_OF_RANGE:return z.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return z.UNIMPLEMENTED;case xt.DATA_LOSS:return z.DATA_LOSS;default:return ge(39323,{code:n})}}(Oe=xt||(xt={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";var Z8=null;function eW(){return new TextEncoder}var tW=new gs([4294967295,4294967295],0);function OL(n){let e=eW().encode(n),t=new tC;return t.update(e),new Uint8Array(t.digest())}function LL(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new gs([t,r],0),new gs([i,s],0)]}var $C=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new yc(`Invalid padding: ${t}`);if(r<0)throw new yc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new yc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new yc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=gs.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(gs.fromNumber(r)));return i.compare(tW)===1&&(i=new gs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;let t=OL(e),[r,i]=LL(t);for(let s=0;s<this.hashCount;s++){let o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;let t=OL(e),[r,i]=LL(t);for(let s=0;s<this.hashCount;s++){let o=this.ye(r,i,s);this.Se(o)}}Se(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},yc=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var W_=class n{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,qf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(Ee.min(),i,new At(Me),Ko(),je())}},qf=class n{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,je(),je(),je())}};var Cl=class{constructor(e,t,r,i){this.be=e,this.removedTargetIds=t,this.key=r,this.De=i}},K_=class{constructor(e,t){this.targetId=e,this.Ce=t}},Q_=class{constructor(e,t,r=Tn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Y_=class{constructor(){this.ve=0,this.Fe=FL(),this.Me=Tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),t=je(),r=je();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ge(38017,{changeType:s})}}),new qf(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=FL()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,_t(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}},HC=class{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ko(),this.Je=M_(),this.He=M_(),this.Ye=new At(Me)}Ze(e){for(let t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(let t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{let r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:ge(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((r,i)=>{this.rt(i)&&t(i)})}st(e){let t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){let s=i.target;if(OC(s))if(r===0){let o=new ae(s.path);this.et(t,o,ei.newNoDocument(o,Ee.min()))}else _t(r===1,20013,{expectedCount:r});else{let o=this._t(t);if(o!==r){let a=this.ut(e),c=a?this.ct(a,e,o):1;if(c!==0){this.it(t);let d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,d)}Z8?.lt((function(h,m,I,R,k){let V={localCacheCount:h,existenceFilterCount:m.count,databaseId:I.database,projectId:I.projectId},O=m.unchangedNames;return O&&(V.bloomFilter={applied:k===0,hashCount:O?.hashCount??0,bitmapLength:O?.bits?.bitmap?.length??0,padding:O?.bits?.padding??0,mightContain:q=>R?.mightContain(q)??!1}),V})(o,e.Ce,this.Ge.ht(),a,c))}}}}ut(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t,o,a;try{o=ws(r).toUint8Array()}catch(c){if(c instanceof H_)return Nl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new $C(o,i,s)}catch(c){return Nl(c instanceof yc?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){let r=this.Ge.getRemoteKeysForTarget(t),i=0;return r.forEach(s=>{let o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(t,s,null),i++)}),i}Tt(e){let t=new Map;this.ze.forEach((s,o)=>{let a=this.ot(o);if(a){if(s.current&&OC(a.target)){let c=new ae(a.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,ei.newNoDocument(c,e))}s.Be&&(t.set(o,s.ke()),s.qe())}});let r=je();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));let i=new W_(e,t,this.Ye,this.je,r);return this.je=Ko(),this.Je=M_(),this.He=M_(),this.Ye=new At(Me),i}Xe(e,t){if(!this.rt(e))return;let r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;let i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){let t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Y_,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new an(Me),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new an(Me),this.Je=this.Je.insert(e,t)),t}rt(e){let t=this.ot(e)!==null;return t||Y("WatchChangeAggregator","Detected inactive target",e),t}ot(e){let t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Y_),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}};function M_(){return new At(ae.comparator)}function FL(){return new At(ae.comparator)}var nW={asc:"ASCENDING",desc:"DESCENDING"},rW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iW={and:"AND",or:"OR"},qC=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function zC(n,e){return n.useProto3Json||gv(e)?e:{value:e}}function GC(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GF(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Sl(n){return _t(!!n,49232),Ee.fromTimestamp((function(t){let r=Is(t);return new Yt(r.seconds,r.nanos)})(n))}function WF(n,e){return WC(n,e).canonicalString()}function WC(n,e){let t=(function(i){return new Et(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function KF(n){let e=Et.fromString(n);return _t(ZF(e),10190,{key:e.toString()}),e}function uC(n,e){let t=KF(e);if(t.get(1)!==n.databaseId.projectId)throw new J(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new J(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ae(YF(t))}function QF(n,e){return WF(n.databaseId,e)}function sW(n){let e=KF(n);return e.length===4?Et.emptyPath():YF(e)}function VL(n){return new Et(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function YF(n){return _t(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function oW(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ge(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(d,h){return d.useProto3Json?(_t(h===void 0||typeof h=="string",58123),Tn.fromBase64String(h||"")):(_t(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Tn.fromUint8Array(h||new Uint8Array))})(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&(function(d){let h=d.code===void 0?z.UNKNOWN:zF(d.code);return new J(h,d.message||"")})(o);t=new Q_(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=uC(n,r.document.name),s=Sl(r.document.updateTime),o=r.document.createTime?Sl(r.document.createTime):Ee.min(),a=new _s({mapValue:{fields:r.document.fields}}),c=ei.newFoundDocument(i,s,o,a),d=r.targetIds||[],h=r.removedTargetIds||[];t=new Cl(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=uC(n,r.document),s=r.readTime?Sl(r.readTime):Ee.min(),o=ei.newNoDocument(i,s),a=r.removedTargetIds||[];t=new Cl([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=uC(n,r.document),s=r.removedTargetIds||[];t=new Cl([],s,i,null)}else{if(!("filter"in e))return ge(11601,{Rt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new BC(i,s),a=r.targetId;t=new K_(a,o)}}return t}function aW(n,e){return{documents:[QF(n,e.path)]}}function cW(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=QF(n,i);let s=(function(d){if(d.length!==0)return XF(ti.create(d,"and"))})(e.filters);s&&(t.structuredQuery.where=s);let o=(function(d){if(d.length!==0)return d.map(h=>(function(I){return{field:Il(I.field),direction:dW(I.dir)}})(h))})(e.orderBy);o&&(t.structuredQuery.orderBy=o);let a=zC(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:t,parent:i}}function uW(n){let e=sW(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){_t(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];t.where&&(s=(function(m){let I=JF(m);return I instanceof ti&&RF(I)?I.getFilters():[I]})(t.where));let o=[];t.orderBy&&(o=(function(m){return m.map(I=>(function(k){return new Fl(wl(k.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(I))})(t.orderBy));let a=null;t.limit&&(a=(function(m){let I;return I=typeof m=="object"?m.value:m,gv(I)?null:I})(t.limit));let c=null;t.startAt&&(c=(function(m){let I=!!m.before,R=m.values||[];return new Ll(R,I)})(t.startAt));let d=null;return t.endAt&&(d=(function(m){let I=!m.before,R=m.values||[];return new Ll(R,I)})(t.endAt)),V8(e,i,o,s,a,"F",c,d)}function lW(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function JF(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=wl(t.unaryFilter.field);return Ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=wl(t.unaryFilter.field);return Ot.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=wl(t.unaryFilter.field);return Ot.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=wl(t.unaryFilter.field);return Ot.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ge(61313);default:return ge(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Ot.create(wl(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ge(58110);default:return ge(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return ti.create(t.compositeFilter.filters.map(r=>JF(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ge(1026)}})(t.compositeFilter.op))})(n):ge(30097,{filter:n})}function dW(n){return nW[n]}function hW(n){return rW[n]}function fW(n){return iW[n]}function Il(n){return{fieldPath:n.canonicalString()}}function wl(n){return Ar.fromServerFormat(n.fieldPath)}function XF(n){return n instanceof Ot?(function(t){if(t.op==="=="){if(SL(t.value))return{unaryFilter:{field:Il(t.field),op:"IS_NAN"}};if(CL(t.value))return{unaryFilter:{field:Il(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(SL(t.value))return{unaryFilter:{field:Il(t.field),op:"IS_NOT_NAN"}};if(CL(t.value))return{unaryFilter:{field:Il(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Il(t.field),op:hW(t.op),value:t.value}}})(n):n instanceof ti?(function(t){let r=t.getFilters().map(i=>XF(i));return r.length===1?r[0]:{compositeFilter:{op:fW(t.op),filters:r}}})(n):ge(54877,{filter:n})}function ZF(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var zf=class n{constructor(e,t,r,i,s=Ee.min(),o=Ee.min(),a=Tn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var KC=class{constructor(e){this.yt=e}};function pW(n){let e=uW({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?FC(e,e.limit,"L"):e}var J_=class{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(mt(e.integerValue));else if("doubleValue"in e){let r=mt(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),Ff(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=Is(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(ws(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?DF(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):SF(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):ge(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){let r=e.fields||{};this.Ft(t,55);for(let i of Object.keys(r))this.Ot(i,t),this.Ct(r[i],t)}kt(e,t){let r=e.fields||{};this.Ft(t,53);let i=xl,s=r[i].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(mt(s)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){let r=e.values||[];this.Ft(t,50);for(let i of r)this.Ct(i,t)}Lt(e,t){this.Ft(t,37),ae.fromName(e).path.forEach(r=>{this.Ft(t,60),this.Ut(r,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}};J_.Kt=new J_;var QC=class{constructor(){this.Cn=new YC}addToCollectionParentIndex(e,t){return this.Cn.add(t),B.resolve()}getCollectionParents(e,t){return B.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return B.resolve()}deleteFieldIndex(e,t){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,t){return B.resolve()}getDocumentsMatchingTarget(e,t){return B.resolve(null)}getIndexType(e,t){return B.resolve(0)}getFieldIndexes(e,t){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,t){return B.resolve(vc.min())}getMinOffsetFromCollectionGroup(e,t){return B.resolve(vc.min())}updateCollectionGroup(e,t,r){return B.resolve()}updateIndexEntries(e,t){return B.resolve()}},YC=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new an(Et.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new an(Et.comparator)).toArray()}};var Hve=new Uint8Array(0);var UL={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eV=41943040,Dr=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Dr.DEFAULT_COLLECTION_PERCENTILE=10,Dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dr.DEFAULT=new Dr(eV,Dr.DEFAULT_COLLECTION_PERCENTILE,Dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dr.DISABLED=new Dr(-1,0,0);var Gf=class n{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new n(0)}static cr(){return new n(-1)}};var jL="LruGarbageCollector",mW=1048576;function BL([n,e],[t,r]){let i=Me(n,t);return i===0?Me(e,r):i}var JC=class{constructor(e){this.Ir=e,this.buffer=new an(BL),this.Er=0}dr(){return++this.Er}Ar(e){let t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();BL(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},XC=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Y(jL,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Gl(t)?Y(jL,"Ignoring IndexedDB error during garbage collection: ",t):await mv(t)}await this.Vr(3e5)})}},ZC=class{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return B.resolve(JS.ce);let r=new JC(t);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(UL)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),UL):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,i,s,o,a,c,d,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,o=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,a=Date.now(),this.removeTargets(e,r,t))).next(m=>(s=m,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(d=Date.now(),vl()<=Ne.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(c-a)+`ms
	Removed ${m} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})))}};function gW(n,e){return new ZC(n,e)}var eS=class{constructor(){this.changes=new bs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ei.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?B.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var tS=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var nS=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Of(r.mutation,i,mc.empty(),Yt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,je()).next(()=>r))}getLocalViewOfDocuments(e,t,r=je()){let i=gc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Pf();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let r=gc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,je()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Ko(),o=xf(),a=(function(){return xf()})();return t.forEach((c,d)=>{let h=r.get(d.key);i.has(d.key)&&(h===void 0||h.mutation instanceof Bl)?s=s.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),Of(h.mutation,d,h.mutation.getFieldMask(),Yt.now())):o.set(d.key,mc.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((d,h)=>o.set(d,h)),t.forEach((d,h)=>a.set(d,new tS(h,o.get(d)??null))),a))}recalculateAndSaveOverlays(e,t){let r=xf(),i=new At((o,a)=>o-a),s=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let a of o)a.keys().forEach(c=>{let d=t.get(c);if(d===null)return;let h=r.get(c)||mc.empty();h=a.applyToLocalView(d,h),r.set(c,h);let m=(i.get(a.batchId)||je()).add(c);i=i.insert(a.batchId,m)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),d=c.key,h=c.value,m=VF();h.forEach(I=>{if(!s.has(I)){let R=HF(t.get(I),r.get(I));R!==null&&m.set(I,R),s=s.add(I)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,m))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(o){return ae.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):MF(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):B.resolve(gc()),a=Lf,c=s;return o.next(d=>B.forEach(d,(h,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),s.get(h)?B.resolve():this.remoteDocumentCache.getEntry(e,h).next(I=>{c=c.insert(h,I)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,c,d,je())).next(h=>({batchId:a,changes:H8(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ae(t)).next(r=>{let i=Pf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let s=t.collectionGroup,o=Pf();return this.indexManager.getCollectionParents(e,s).next(a=>B.forEach(a,c=>{let d=(function(m,I){return new Ec(I,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(t,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(h=>{h.forEach((m,I)=>{o=o.insert(m,I)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((c,d)=>{let h=d.getKey();o.get(h)===null&&(o=o.insert(h,ei.newInvalidDocument(h)))});let a=Pf();return o.forEach((c,d)=>{let h=s.get(c);h!==void 0&&Of(h.mutation,d,mc.empty(),Yt.now()),vv(t,d)&&(a=a.insert(c,d))}),a})}};var rS=class{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return B.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Sl(i.createTime)}})(t)),B.resolve()}getNamedQuery(e,t){return B.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(i){return{name:i.name,query:pW(i.bundledQuery),readTime:Sl(i.readTime)}})(t)),B.resolve()}};var iS=class{constructor(){this.overlays=new At(ae.comparator),this.qr=new Map}getOverlay(e,t){return B.resolve(this.overlays.get(t))}getOverlays(e,t){let r=gc();return B.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.St(e,t,s)}),B.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),B.resolve()}getOverlaysForCollection(e,t,r){let i=gc(),s=t.length+1,o=new ae(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,d=c.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return B.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new At((d,h)=>d-h),o=this.overlays.getIterator();for(;o.hasNext();){let d=o.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let h=s.get(d.largestBatchId);h===null&&(h=gc(),s=s.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}let a=gc(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=i)););return B.resolve(a)}St(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new jC(t,r));let s=this.qr.get(t);s===void 0&&(s=je(),this.qr.set(t,s)),this.qr.set(t,s.add(r.key))}};var sS=class{constructor(){this.sessionToken=Tn.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,B.resolve()}};var Wf=class{constructor(){this.Qr=new an(Mt.$r),this.Ur=new an(Mt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){let r=new Mt(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Gr(new Mt(e,t))}zr(e,t){e.forEach(r=>this.removeReference(r,t))}jr(e){let t=new ae(new Et([])),r=new Mt(t,e),i=new Mt(t,e+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){let t=new ae(new Et([])),r=new Mt(t,e),i=new Mt(t,e+1),s=je();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new Mt(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Mt=class{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ae.comparator(e.key,t.key)||Me(e.Yr,t.Yr)}static Kr(e,t){return Me(e.Yr,t.Yr)||ae.comparator(e.key,t.key)}};var oS=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new an(Mt.$r)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new UC(s,t,r,i);this.mutationQueue.push(o);for(let a of i)this.Zr=this.Zr.add(new Mt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,t){return B.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.ei(r),s=i<0?0:i;return B.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?I8:this.tr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Mt(t,0),i=new Mt(t,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{let a=this.Xr(o.Yr);s.push(a)}),B.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new an(Me);return t.forEach(i=>{let s=new Mt(i,0),o=new Mt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{r=r.add(a.Yr)})}),B.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;ae.isDocumentKey(s)||(s=s.child(""));let o=new Mt(new ae(s),0),a=new an(Me);return this.Zr.forEachWhile(c=>{let d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(a=a.add(c.Yr)),!0)},o),B.resolve(this.ti(a))}ti(e){let t=[];return e.forEach(r=>{let i=this.Xr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){_t(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return B.forEach(t.mutations,i=>{let s=new Mt(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,t){let r=new Mt(t,0),i=this.Zr.firstAfterOrEqual(r);return B.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){let t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var aS=class{constructor(e){this.ri=e,this.docs=(function(){return new At(ae.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return B.resolve(r?r.document.mutableCopy():ei.newInvalidDocument(t))}getEntries(e,t){let r=Ko();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ei.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Ko(),o=t.path,a=new ae(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:d,value:{document:h}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||_8(y8(h),r)<=0||(i.has(h.key)||vv(t,h))&&(s=s.insert(h.key,h.mutableCopy()))}return B.resolve(s)}getAllFromCollectionGroup(e,t,r,i){ge(9500)}ii(e,t){return B.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new cS(this)}getSize(e){return B.resolve(this.size)}},cS=class extends eS{constructor(e){super(),this.Nr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),B.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}};var uS=class{constructor(e){this.persistence=e,this.si=new bs(t=>nD(t),rD),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.oi=0,this._i=new Wf,this.targetCount=0,this.ai=Gf.ur()}forEachTarget(e,t){return this.si.forEach((r,i)=>t(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),B.resolve()}Pr(e){this.si.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ai=new Gf(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,B.resolve()}updateTargetData(e,t){return this.Pr(t),B.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),B.waitFor(s).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,t){let r=this.si.get(t)||null;return B.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),B.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),B.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),B.resolve()}getMatchingKeysForTargetId(e,t){let r=this._i.Hr(t);return B.resolve(r)}containsKey(e,t){return B.resolve(this._i.containsKey(t))}};var X_=class{constructor(e,t){this.ui={},this.overlays={},this.ci=new JS(0),this.li=!1,this.li=!0,this.hi=new sS,this.referenceDelegate=e(this),this.Pi=new uS(this),this.indexManager=new QC,this.remoteDocumentCache=(function(i){return new aS(i)})(r=>this.referenceDelegate.Ti(r)),this.serializer=new KC(t),this.Ii=new rS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new iS,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new oS(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){Y("MemoryPersistence","Starting transaction:",e);let i=new lS(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,t){return B.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,t)))}},lS=class extends wC{constructor(e){super(),this.currentSequenceNumber=e}},dS=class n{constructor(e){this.persistence=e,this.Ri=new Wf,this.Vi=null}static mi(e){return new n(e)}get fi(){if(this.Vi)return this.Vi;throw ge(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),B.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),B.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(i=>this.fi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.fi,r=>{let i=ae.fromPath(r);return this.gi(e,i).next(s=>{s||t.removeEntry(i,Ee.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return B.or([()=>B.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}},Z_=class n{constructor(e,t){this.persistence=e,this.pi=new bs(r=>b8(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=gW(this,t)}static mi(e,t){return new n(e,t)}Ei(){}di(e){return B.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){let t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}wr(e){let t=0;return this.pr(e,r=>{t++}).next(()=>t)}pr(e,t){return B.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?B.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,t).next(a=>{a||(r++,s.removeEntry(o,Ee.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),B.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),B.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=L_(e.data.value)),t}br(e,t,r){return B.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.pi.get(t);return B.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var hS=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=i}static As(e,t){let r=je(),i=je();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n(e,t.fromCache,r,i)}};var fS=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var pS=class{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return X1()?8:E8(sn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){let s={result:null};return this.ys(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new fS;return this.Ss(e,t,o).next(a=>{if(s.result=a,this.Vs)return this.bs(e,t,o,a.size)})}).next(()=>s.result)}bs(e,t,r,i){return r.documentReadCount<this.fs?(vl()<=Ne.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",El(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),B.resolve()):(vl()<=Ne.DEBUG&&Y("QueryEngine","Query:",El(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(vl()<=Ne.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",El(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mi(t))):B.resolve())}ys(e,t){if(PL(t))return B.resolve(null);let r=Mi(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=FC(t,null,"F"),r=Mi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=je(...s);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let d=this.Ds(t,a);return this.Cs(t,d,o,c.readTime)?this.ys(e,FC(t,null,"F")):this.vs(e,d,t,c)}))})))}ws(e,t,r,i){return PL(t)||i.isEqual(Ee.min())?B.resolve(null):this.ps.getDocuments(e,r).next(s=>{let o=this.Ds(t,s);return this.Cs(t,o,r,i)?B.resolve(null):(vl()<=Ne.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),El(t)),this.vs(e,o,t,g8(i,Lf)).next(a=>a))})}Ds(e,t){let r=new an(LF(e));return t.forEach((i,s)=>{vv(e,s)&&(r=r.add(s))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,t,r){return vl()<=Ne.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",El(t)),this.ps.getDocumentsMatchingQuery(e,t,vc.min(),r)}vs(e,t,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var sD="LocalStore",yW=3e8,mS=class{constructor(e,t,r,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new At(Me),this.xs=new bs(s=>nD(s),rD),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}};function _W(n,e,t,r){return new mS(n,e,t,r)}async function tV(n,e){let t=Le(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Bs(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=je();for(let d of i){o.push(d.batchId);for(let h of d.mutations)c=c.add(h.key)}for(let d of s){a.push(d.batchId);for(let h of d.mutations)c=c.add(h.key)}return t.localDocuments.getDocuments(r,c).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:a}))})})}function nV(n){let e=Le(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function vW(n,e){let t=Le(n),r=e.snapshotVersion,i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;let a=[];e.targetChanges.forEach((h,m)=>{let I=i.get(m);if(!I)return;a.push(t.Pi.removeMatchingKeys(s,h.removedDocuments,m).next(()=>t.Pi.addMatchingKeys(s,h.addedDocuments,m)));let R=I.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?R=R.withResumeToken(Tn.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):h.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(h.resumeToken,r)),i=i.insert(m,R),(function(V,O,q){return V.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=yW?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0})(I,R,h)&&a.push(t.Pi.updateTargetData(s,R))});let c=Ko(),d=je();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(EW(s,o,e.documentUpdates).next(h=>{c=h.ks,d=h.qs})),!r.isEqual(Ee.min())){let h=t.Pi.getLastRemoteSnapshotVersion(s).next(m=>t.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return B.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,c,d)).next(()=>c)}).then(s=>(t.Ms=i,s))}function EW(n,e,t){let r=je(),i=je();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Ko();return t.forEach((a,c)=>{let d=s.get(a);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Ee.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):Y(sD,"Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",c.version)}),{ks:o,qs:i}})}function IW(n,e){let t=Le(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Pi.getTargetData(r,e).next(s=>s?(i=s,B.resolve(i)):t.Pi.allocateTargetId(r).next(o=>(i=new zf(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r})}async function gS(n,e,t){let r=Le(n),i=r.Ms.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Gl(o))throw o;Y(sD,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function $L(n,e,t){let r=Le(n),i=Ee.min(),s=je();return r.persistence.runTransaction("Execute query","readwrite",o=>(function(c,d,h){let m=Le(c),I=m.xs.get(h);return I!==void 0?B.resolve(m.Ms.get(I)):m.Pi.getTargetData(d,h)})(r,o,Mi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,t?i:Ee.min(),t?s:je())).next(a=>(wW(r,j8(e),a),{documents:a,Qs:s})))}function wW(n,e,t){let r=n.Os.get(e)||Ee.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Os.set(e,r)}var ev=class{constructor(){this.activeTargetIds=G8()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var yS=class{constructor(){this.Mo=new ev,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ev,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var _S=class{Oo(e){}shutdown(){}};var HL="ConnectivityMonitor",tv=class{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Y(HL,"Network connectivity changed: AVAILABLE");for(let e of this.qo)e(0)}ko(){Y(HL,"Network connectivity changed: UNAVAILABLE");for(let e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var O_=null;function vS(){return O_===null?O_=(function(){return 268435456+Math.round(2147483648*Math.random())})():O_++,"0x"+O_.toString(16)}var lC="RestConnection",bW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},ES=class{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===q_?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,t,r,i,s){let o=vS(),a=this.zo(e,t.toUriEncodedString());Y(lC,`Sending RPC '${e}' ${o}:`,a,r);let c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,s);let{host:d}=new URL(a),h=xo(d);return this.Jo(e,a,c,r,h).then(m=>(Y(lC,`Received RPC '${e}' ${o}: `,m),m),m=>{throw Nl(lC,`RPC '${e}' ${o} failed with error: `,m,"url: ",a,"request:",r),m})}Ho(e,t,r,i,s,o){return this.Go(e,t,r,i,s)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+zl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,t){let r=bW[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}};var IS=class{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}};var bn="WebChannelConnection",wS=class extends ES{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,s){let o=vS();return new Promise((a,c)=>{let d=new nC;d.setWithCredentials(!0),d.listenOnce(rC.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Rf.NO_ERROR:let m=d.getResponseJson();Y(bn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),a(m);break;case Rf.TIMEOUT:Y(bn,`RPC '${e}' ${o} timed out`),c(new J(z.DEADLINE_EXCEEDED,"Request time out"));break;case Rf.HTTP_ERROR:let I=d.getStatus();if(Y(bn,`RPC '${e}' ${o} failed with status:`,I,"response text:",d.getResponseText()),I>0){let R=d.getResponseJson();Array.isArray(R)&&(R=R[0]);let k=R?.error;if(k&&k.status&&k.message){let V=(function(q){let X=q.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(X)>=0?X:z.UNKNOWN})(k.status);c(new J(V,k.message))}else c(new J(z.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new J(z.UNAVAILABLE,"Connection failed."));break;default:ge(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Y(bn,`RPC '${e}' ${o} completed.`)}});let h=JSON.stringify(i);Y(bn,`RPC '${e}' ${o} sending request:`,i),d.send(t,"POST",h,r,15)})}T_(e,t,r){let i=vS(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=oC(),a=sC(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let h=s.join("");Y(bn,`Creating RPC '${e}' stream ${i}: ${h}`,c);let m=o.createWebChannel(h,c);this.I_(m);let I=!1,R=!1,k=new IS({Yo:O=>{R?Y(bn,`Not sending because RPC '${e}' stream ${i} is closed:`,O):(I||(Y(bn,`Opening RPC '${e}' stream ${i} transport.`),m.open(),I=!0),Y(bn,`RPC '${e}' stream ${i} sending:`,O),m.send(O))},Zo:()=>m.close()}),V=(O,q,X)=>{O.listen(q,ne=>{try{X(ne)}catch(Re){setTimeout(()=>{throw Re},0)}})};return V(m,_l.EventType.OPEN,()=>{R||(Y(bn,`RPC '${e}' stream ${i} transport opened.`),k.o_())}),V(m,_l.EventType.CLOSE,()=>{R||(R=!0,Y(bn,`RPC '${e}' stream ${i} transport closed`),k.a_(),this.E_(m))}),V(m,_l.EventType.ERROR,O=>{R||(R=!0,Nl(bn,`RPC '${e}' stream ${i} transport errored. Name:`,O.name,"Message:",O.message),k.a_(new J(z.UNAVAILABLE,"The operation could not be completed")))}),V(m,_l.EventType.MESSAGE,O=>{if(!R){let q=O.data[0];_t(!!q,16349);let X=q,ne=X?.error||X[0]?.error;if(ne){Y(bn,`RPC '${e}' stream ${i} received error:`,ne);let Re=ne.status,ut=(function(_){let E=xt[_];if(E!==void 0)return zF(E)})(Re),Pe=ne.message;ut===void 0&&(ut=z.INTERNAL,Pe="Unknown error status: "+Re+" with message "+ne.message),R=!0,k.a_(new J(ut,Pe)),m.close()}else Y(bn,`RPC '${e}' stream ${i} received:`,q),k.u_(q)}}),V(a,iC.STAT_EVENT,O=>{O.stat===k_.PROXY?Y(bn,`RPC '${e}' stream ${i} detected buffering proxy`):O.stat===k_.NOPROXY&&Y(bn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{k.__()},0),k}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}};function dC(){return typeof document<"u"?document:null}function Ev(n){return new qC(n,!0)}var nv=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();let t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&Y("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}};var qL="PersistentStream",bS=class{constructor(e,t,r,i,s,o,a,c){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new nv(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===z.RESOURCE_EXHAUSTED?(Es(t.toString()),Es("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;let e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===t&&this.G_(r,i)},r=>{e(()=>{let i=new J(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,t){let r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Y(qL,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(Y(qL,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},TS=class extends bS{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();let t=oW(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Ee.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?Ee.min():o.readTime?Sl(o.readTime):Ee.min()})(e);return this.listener.H_(t,r)}Y_(e){let t={};t.database=VL(this.serializer),t.addTarget=(function(s,o){let a,c=o.target;if(a=OC(c)?{documents:aW(s,c)}:{query:cW(s,c).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=GF(s,o.resumeToken);let d=zC(s,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(Ee.min())>0){a.readTime=GC(s,o.snapshotVersion.toTimestamp());let d=zC(s,o.expectedCount);d!==null&&(a.expectedCount=d)}return a})(this.serializer,e);let r=lW(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){let t={};t.database=VL(this.serializer),t.removeTarget=e,this.q_(t)}};var CS=class{},SS=class extends CS{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new J(z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,WC(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new J(z.UNKNOWN,s.toString())})}Ho(e,t,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,WC(t,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J(z.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}},DS=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Es(t),this.aa=!1):Y("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}};var $l="RemoteStore",AS=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Xf(this)&&(Y($l,"Restarting streams for network reachability change."),await(async function(c){let d=Le(c);d.Ea.add(4),await Jf(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Iv(d)})(this))})}),this.Ra=new DS(r,i)}};async function Iv(n){if(Xf(n))for(let e of n.da)await e(!0)}async function Jf(n){for(let e of n.da)await e(!1)}function rV(n,e){let t=Le(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),uD(t)?cD(t):Kl(t).O_()&&aD(t,e))}function oD(n,e){let t=Le(n),r=Kl(t);t.Ia.delete(e),r.O_()&&iV(t,e),t.Ia.size===0&&(r.O_()?r.L_():Xf(t)&&t.Ra.set("Unknown"))}function aD(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Kl(n).Y_(e)}function iV(n,e){n.Va.Ue(e),Kl(n).Z_(e)}function cD(n){n.Va=new HC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Kl(n).start(),n.Ra.ua()}function uD(n){return Xf(n)&&!Kl(n).x_()&&n.Ia.size>0}function Xf(n){return Le(n).Ea.size===0}function sV(n){n.Va=void 0}async function TW(n){n.Ra.set("Online")}async function CW(n){n.Ia.forEach((e,t)=>{aD(n,e)})}async function SW(n,e){sV(n),uD(n)?(n.Ra.ha(e),cD(n)):n.Ra.set("Unknown")}async function DW(n,e,t){if(n.Ra.set("Online"),e instanceof Q_&&e.state===2&&e.cause)try{await(async function(i,s){let o=s.cause;for(let a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))})(n,e)}catch(r){Y($l,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await zL(n,r)}else if(e instanceof Cl?n.Va.Ze(e):e instanceof K_?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ee.min()))try{let r=await nV(n.localStore);t.compareTo(r)>=0&&await(function(s,o){let a=s.Va.Tt(o);return a.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){let h=s.Ia.get(d);h&&s.Ia.set(d,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,d)=>{let h=s.Ia.get(c);if(!h)return;s.Ia.set(c,h.withResumeToken(Tn.EMPTY_BYTE_STRING,h.snapshotVersion)),iV(s,c);let m=new zf(h.target,c,d,h.sequenceNumber);aD(s,m)}),s.remoteSyncer.applyRemoteEvent(a)})(n,t)}catch(r){Y($l,"Failed to raise snapshot:",r),await zL(n,r)}}async function zL(n,e,t){if(!Gl(e))throw e;n.Ea.add(1),await Jf(n),n.Ra.set("Offline"),t||(t=()=>nV(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Y($l,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Iv(n)})}async function GL(n,e){let t=Le(n);t.asyncQueue.verifyOperationInProgress(),Y($l,"RemoteStore received new credentials");let r=Xf(t);t.Ea.add(3),await Jf(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Iv(t)}async function AW(n,e){let t=Le(n);e?(t.Ea.delete(2),await Iv(t)):e||(t.Ea.add(2),await Jf(t),t.Ra.set("Unknown"))}function Kl(n){return n.ma||(n.ma=(function(t,r,i){let s=Le(t);return s.sa(),new TS(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(n.datastore,n.asyncQueue,{Xo:TW.bind(null,n),t_:CW.bind(null,n),r_:SW.bind(null,n),H_:DW.bind(null,n)}),n.da.push(async e=>{e?(n.ma.B_(),uD(n)?cD(n):n.Ra.set("Unknown")):(await n.ma.stop(),sV(n))})),n.ma}var RS=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let o=Date.now()+r,a=new n(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function oV(n,e){if(Es("AsyncQueue",`${e}: ${n}`),Gl(n))return new J(z.UNAVAILABLE,`${e}: ${n}`);throw n}var rv=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ae.comparator(t.key,r.key):(t,r)=>ae.comparator(t.key,r.key),this.keyedMap=Pf(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var iv=class{constructor(){this.ga=new At(ae.comparator)}track(e){let t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ge(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){let e=[];return this.ga.inorderTraversal((t,r)=>{e.push(r)}),e}},Hl=class n{constructor(e,t,r,i,s,o,a,c,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,i,s){let o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new n(e,t,rv.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_v(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var PS=class{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}},NS=class{constructor(){this.queries=WL(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){let i=Le(t),s=i.queries;i.queries=WL(),s.forEach((o,a)=>{for(let c of a.Sa)c.onError(r)})})(this,new J(z.ABORTED,"Firestore shutting down"))}};function WL(){return new bs(n=>OF(n),_v)}async function RW(n,e){let t=Le(n),r=3,i=e.query,s=t.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new PS,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await t.onListen(i,!0);break;case 1:s.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(o){let a=oV(o,`Initialization of query '${El(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.Sa.push(e),e.va(t.onlineState),s.wa&&e.Fa(s.wa)&&lD(t)}async function PW(n,e){let t=Le(n),r=e.query,i=3,s=t.queries.get(r);if(s){let o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function NW(n,e){let t=Le(n),r=!1;for(let i of e){let s=i.query,o=t.queries.get(s);if(o){for(let a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&lD(t)}function kW(n,e,t){let r=Le(n),i=r.queries.get(e);if(i)for(let s of i.Sa)s.onError(t);r.queries.delete(e)}function lD(n){n.Ca.forEach(e=>{e.next()})}var kS,KL;(KL=kS||(kS={})).Ma="default",KL.Cache="cache";var xS=class{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Hl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;let r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;let t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Hl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==kS.Cache}};var sv=class{constructor(e){this.key=e}},ov=class{constructor(e){this.key=e}},MS=class{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=je(),this.mutatedKeys=je(),this.eu=LF(e),this.tu=new rv(this.eu)}get nu(){return this.Ya}ru(e,t){let r=t?t.iu:new iv,i=t?t.tu:this.tu,s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,m)=>{let I=i.get(h),R=vv(this.query,m)?m:null,k=!!I&&this.mutatedKeys.has(I.key),V=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations),O=!1;I&&R?I.data.isEqual(R.data)?k!==V&&(r.track({type:3,doc:R}),O=!0):this.su(I,R)||(r.track({type:2,doc:R}),O=!0,(c&&this.eu(R,c)>0||d&&this.eu(R,d)<0)&&(a=!0)):!I&&R?(r.track({type:0,doc:R}),O=!0):I&&!R&&(r.track({type:1,doc:I}),O=!0,(c||d)&&(a=!0)),O&&(R?(o=o.add(R),s=V?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;let o=e.iu.ya();o.sort((h,m)=>(function(R,k){let V=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge(20277,{Rt:O})}};return V(R)-V(k)})(h.type,m.type)||this.eu(h.doc,m.doc)),this.ou(r),i=i??!1;let a=t&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,d=c!==this.Za;return this.Za=c,o.length!==0||d?{snapshot:new Hl(this.query,e.tu,s,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new iv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];let e=this.Xa;this.Xa=je(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});let t=[];return e.forEach(r=>{this.Xa.has(r)||t.push(new ov(r))}),this.Xa.forEach(r=>{e.has(r)||t.push(new sv(r))}),t}cu(e){this.Ya=e.Qs,this.Xa=je();let t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Hl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}},dD="SyncEngine",OS=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},LS=class{constructor(e){this.key=e,this.hu=!1}},FS=class{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new bs(a=>OF(a),_v),this.Iu=new Map,this.Eu=new Set,this.du=new At(ae.comparator),this.Au=new Map,this.Ru=new Wf,this.Vu={},this.mu=new Map,this.fu=Gf.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}};async function xW(n,e,t=!0){let r=dV(n),i,s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await aV(r,e,t,!0),i}async function MW(n,e){let t=dV(n);await aV(t,e,!0,!1)}async function aV(n,e,t,r){let i=await IW(n.localStore,Mi(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t),a;return r&&(a=await OW(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&rV(n.remoteStore,i),a}async function OW(n,e,t,r,i){n.pu=(m,I,R)=>(async function(V,O,q,X){let ne=O.view.ru(q);ne.Cs&&(ne=await $L(V.localStore,O.query,!1).then(({documents:T})=>O.view.ru(T,ne)));let Re=X&&X.targetChanges.get(O.targetId),ut=X&&X.targetMismatches.get(O.targetId)!=null,Pe=O.view.applyChanges(ne,V.isPrimaryClient,Re,ut);return YL(V,O.targetId,Pe.au),Pe.snapshot})(n,m,I,R);let s=await $L(n.localStore,e,!0),o=new MS(e,s.Qs),a=o.ru(s.documents),c=qf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),d=o.applyChanges(a,n.isPrimaryClient,c);YL(n,t,d.au);let h=new OS(e,t,o);return n.Tu.set(e,h),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),d.snapshot}async function LW(n,e,t){let r=Le(n),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!_v(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await gS(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&oD(r.remoteStore,i.targetId),VS(r,i.targetId)}).catch(mv)):(VS(r,i.targetId),await gS(r.localStore,i.targetId,!0))}async function FW(n,e){let t=Le(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),oD(t.remoteStore,r.targetId))}async function cV(n,e){let t=Le(n);try{let r=await vW(t.localStore,e);e.targetChanges.forEach((i,s)=>{let o=t.Au.get(s);o&&(_t(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?_t(o.hu,14607):i.removedDocuments.size>0&&(_t(o.hu,42227),o.hu=!1))}),await lV(t,r,e)}catch(r){await mv(r)}}function QL(n,e,t){let r=Le(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Tu.forEach((s,o)=>{let a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(o,a){let c=Le(o);c.onlineState=a;let d=!1;c.queries.forEach((h,m)=>{for(let I of m.Sa)I.va(a)&&(d=!0)}),d&&lD(c)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function VW(n,e,t){let r=Le(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Au.get(e),s=i&&i.key;if(s){let o=new At(ae.comparator);o=o.insert(s,ei.newNoDocument(s,Ee.min()));let a=je().add(s),c=new W_(Ee.min(),new Map,new At(Me),o,a);await cV(r,c),r.du=r.du.remove(s),r.Au.delete(e),hD(r)}else await gS(r.localStore,e,!1).then(()=>VS(r,e,t)).catch(mv)}function VS(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(r=>{n.Ru.containsKey(r)||uV(n,r)})}function uV(n,e){n.Eu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(oD(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),hD(n))}function YL(n,e,t){for(let r of t)r instanceof sv?(n.Ru.addReference(r.key,e),UW(n,r)):r instanceof ov?(Y(dD,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||uV(n,r.key)):ge(19791,{wu:r})}function UW(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(Y(dD,"New document in limbo: "+t),n.Eu.add(r),hD(n))}function hD(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Eu.values().next().value;n.Eu.delete(e);let t=new ae(Et.fromString(e)),r=n.fu.next();n.Au.set(r,new LS(t)),n.du=n.du.insert(t,r),rV(n.remoteStore,new zf(Mi(xF(t.path)),r,"TargetPurposeLimboResolution",JS.ce))}}async function lV(n,e,t){let r=Le(n),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,c)=>{o.push(r.pu(c,e,t).then(d=>{if((d||t)&&r.isPrimaryClient){let h=d?!d.fromCache:t?.targetChanges.get(c.targetId)?.current;r.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(d){i.push(d);let h=hS.As(c.targetId,d);s.push(h)}}))}),await Promise.all(o),r.Pu.H_(i),await(async function(c,d){let h=Le(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>B.forEach(d,I=>B.forEach(I.Es,R=>h.persistence.referenceDelegate.addReference(m,I.targetId,R)).next(()=>B.forEach(I.ds,R=>h.persistence.referenceDelegate.removeReference(m,I.targetId,R)))))}catch(m){if(!Gl(m))throw m;Y(sD,"Failed to update sequence numbers: "+m)}for(let m of d){let I=m.targetId;if(!m.fromCache){let R=h.Ms.get(I),k=R.snapshotVersion,V=R.withLastLimboFreeSnapshotVersion(k);h.Ms=h.Ms.insert(I,V)}}})(r.localStore,s))}async function jW(n,e){let t=Le(n);if(!t.currentUser.isEqual(e)){Y(dD,"User change. New user:",e.toKey());let r=await tV(t.localStore,e);t.currentUser=e,(function(s,o){s.mu.forEach(a=>{a.forEach(c=>{c.reject(new J(z.CANCELLED,o))})}),s.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await lV(t,r.Ls)}}function BW(n,e){let t=Le(n),r=t.Au.get(e);if(r&&r.hu)return je().add(r.key);{let i=je(),s=t.Iu.get(e);if(!s)return i;for(let o of s){let a=t.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function dV(n){let e=Le(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=cV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VW.bind(null,e),e.Pu.H_=NW.bind(null,e.eventManager),e.Pu.yu=kW.bind(null,e.eventManager),e}var hV=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ev(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,r){return null}Mu(t,r){return null}vu(t){return _W(this.persistence,new pS,t.initialUser,this.serializer)}Cu(t){return new X_(dS.mi,this.serializer)}Du(t){return new yS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return n.provider={build:()=>new n},n})(),US=class extends hV{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){_t(this.persistence.referenceDelegate instanceof Z_,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new XC(r,e.asyncQueue,t)}Cu(e){let t=this.cacheSizeBytes!==void 0?Dr.withCacheSize(this.cacheSizeBytes):Dr.DEFAULT;return new X_(r=>Z_.mi(r,t),this.serializer)}};var $W=(()=>{class n{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>QL(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=jW.bind(null,this.syncEngine),await AW(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new NS})()}createDatastore(t){let r=Ev(t.databaseInfo.databaseId),i=(function(o){return new wS(o)})(t.databaseInfo);return(function(o,a,c,d){return new SS(o,a,c,d)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,s,o,a,c){return new AS(i,s,o,a,c)})(this.localStore,this.datastore,t.asyncQueue,r=>QL(this.syncEngine,r,0),(function(){return tv.v()?new tv:new _S})())}createSyncEngine(t,r){return(function(s,o,a,c,d,h,m){let I=new FS(s,o,a,c,d,h);return m&&(I.gu=!0),I})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){let i=Le(r);Y($l,"RemoteStore shutting down."),i.Ea.add(5),await Jf(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}return n.provider={build:()=>new n},n})();var jS=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Es("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Qo="FirestoreClient",BS=class{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=on.UNAUTHENTICATED,this.clientId=j_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Y(Qo,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Y(Qo,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=oV(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function hC(n,e){n.asyncQueue.verifyOperationInProgress(),Y(Qo,"Initializing OfflineComponentProvider");let t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await tV(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function JL(n,e){n.asyncQueue.verifyOperationInProgress();let t=await HW(n);Y(Qo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>GL(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>GL(e.remoteStore,i)),n._onlineComponents=e}async function HW(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Y(Qo,"Using user provided OfflineComponentProvider");try{await hC(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===z.FAILED_PRECONDITION||i.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Nl("Error using user provided cache. Falling back to memory cache: "+t),await hC(n,new hV)}}else Y(Qo,"Using default OfflineComponentProvider"),await hC(n,new US(void 0));return n._offlineComponents}async function qW(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Y(Qo,"Using user provided OnlineComponentProvider"),await JL(n,n._uninitializedComponentsProvider._online)):(Y(Qo,"Using default OnlineComponentProvider"),await JL(n,new $W))),n._onlineComponents}async function zW(n){let e=await qW(n),t=e.eventManager;return t.onListen=xW.bind(null,e.syncEngine),t.onUnlisten=LW.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=MW.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=FW.bind(null,e.syncEngine),t}function GW(n,e,t={}){let r=new vs;return n.asyncQueue.enqueueAndForget(async()=>(function(s,o,a,c,d){let h=new jS({next:I=>{h.Nu(),o.enqueueAndForget(()=>PW(s,m)),I.fromCache&&c.source==="server"?d.reject(new J(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(I)},error:I=>d.reject(I)}),m=new xS(a,h,{includeMetadataChanges:!0,qa:!0});return RW(s,m)})(await zW(n),n.asyncQueue,e,t,r)),r.promise}function fV(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var XL=new Map;var pV="firestore.googleapis.com",ZL=!0,av=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new J(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pV,this.ssl=ZL}else this.host=e.host,this.ssl=e.ssl??ZL;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=eV;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mW)throw new J(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}m8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fV(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new J(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new J(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new J(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Kf=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new av({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new J(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new J(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new av(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new fC;switch(r.type){case"firstParty":return new yC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=XL.get(t);r&&(Y("ComponentProvider","Removing Datastore"),XL.delete(t),r.terminate())})(this),Promise.resolve()}};function WW(n,e,t,r={}){n=EC(n,Kf);let i=xo(e),s=n._getSettings(),o=ue(j({},s),{emulatorOptions:n._getEmulatorOptions()}),a=`${e}:${t}`;i&&(s_(`https://${a}`),o_("Firestore",!0)),s.host!==pV&&s.host!==a&&Nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let c=ue(j({},s),{host:a,ssl:i,emulatorOptions:r});if(!Pi(c,o)&&(n._setSettings(c),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=on.MOCK_USER;else{d=G1(r.mockUserToken,n._app?.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new J(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new on(m)}n._authCredentials=new pC(new V_(d,h))}}var ql=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Rr=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Yf(t,n._jsonSchema))return new n(e,r||null,new ae(Et.fromString(t.referencePath)))}};Rr._jsonSchemaVersion="firestore/documentReference/1.0",Rr._jsonSchema={type:Lt("string",Rr._jsonSchemaVersion),referencePath:Lt("string")};var Dl=class n extends ql{constructor(e,t,r){super(e,t,xF(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Rr(this.firestore,null,new ae(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function mV(n,e,...t){if(n=or(n),p8("collection","path",e),n instanceof Kf){let r=Et.fromString(e,...t);return yL(r),new Dl(n,null,r)}{if(!(n instanceof Rr||n instanceof Dl))throw new J(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Et.fromString(e,...t));return yL(r),new Dl(n.firestore,null,r)}}var eF="AsyncQueue",cv=class{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new nv(this,"async_queue_retry"),this._c=()=>{let r=dC();r&&Y(eF,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;let t=dC();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let t=dC();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});let t=new vs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Gl(e))throw e;Y(eF,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){let t=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Es("INTERNAL UNHANDLED ERROR: ",tF(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);let i=RS.createAndSchedule(this,e,t,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&ge(47125,{Pc:tF(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(let t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){let t=this.tc.indexOf(e);this.tc.splice(t,1)}};function tF(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}var uv=class extends Kf{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new cv,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new cv(e),this._firestoreClient=void 0,await e}}};function gV(n,e){let t=typeof n=="object"?n:d_(),r=typeof n=="string"?n:e||q_,i=wf(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=z1("firestore");s&&WW(i,...s)}return i}function KW(n){if(n._terminated)throw new J(z.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||QW(n),n._firestoreClient}function QW(n){let e=n._freezeSettings(),t=(function(i,s,o,a){return new bC(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,fV(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new BS(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(i){let s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(n._componentsProvider))}var qo=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Tn.fromBase64String(e))}catch(t){throw new J(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Yf(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};qo._jsonSchemaVersion="firestore/bytes/1.0",qo._jsonSchema={type:Lt("string",qo._jsonSchemaVersion),bytes:Lt("string")};var lv=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new J(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ar(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var dv=class{constructor(e){this._methodName=e}};var zo=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new J(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new J(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Yf(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};zo._jsonSchemaVersion="firestore/geoPoint/1.0",zo._jsonSchema={type:Lt("string",zo._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};var Go=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Yf(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new J(z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Go._jsonSchemaVersion="firestore/vectorValue/1.0",Go._jsonSchema={type:Lt("string",Go._jsonSchemaVersion),vectorValues:Lt("object")};var YW=/^__.*__$/;function yV(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge(40011,{Ac:n})}}var $S=class n{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new n(j(j({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){let t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){let t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return qS(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(yV(this.Ac)&&YW.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}},HS=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Ev(e)}Cc(e,t,r,i=!1){return new $S({Ac:e,methodName:t,Dc:r,path:Ar.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function JW(n){let e=n._freezeSettings(),t=Ev(n._databaseId);return new HS(n._databaseId,!!e.ignoreUndefinedProperties,t)}function XW(n,e,t,r=!1){return fD(t,n.Cc(r?4:3,e))}function fD(n,e){if(_V(n=or(n)))return e7("Unsupported field value:",e,n),ZW(n,e);if(n instanceof dv)return(function(r,i){if(!yV(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){let s=[],o=0;for(let a of r){let c=fD(a,i.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}})(n,e)}return(function(r,i){if((r=or(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return W8(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Yt.fromDate(r);return{timestampValue:GC(i.serializer,s)}}if(r instanceof Yt){let s=new Yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:GC(i.serializer,s)}}if(r instanceof zo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qo)return{bytesValue:GF(i.serializer,r._byteString)};if(r instanceof Rr){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:WF(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Go)return(function(o,a){return{mapValue:{fields:{[ZS]:{stringValue:eD},[xl]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw a.Sc("VectorValues must only contain numeric values.");return iD(a.serializer,d)})}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${pv(r)}`)})(n,e)}function ZW(n,e){let t={};return EF(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wl(n,(r,i)=>{let s=fD(i,e.mc(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function _V(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Yt||n instanceof zo||n instanceof qo||n instanceof Rr||n instanceof dv||n instanceof Go)}function e7(n,e,t){if(!_V(t)||!sF(t)){let r=pv(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}var t7=new RegExp("[~\\*/\\[\\]]");function n7(n,e,t){if(e.search(t7)>=0)throw qS(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new lv(...e.split("."))._internalPath}catch{throw qS(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function qS(n,e,t,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new J(z.INVALID_ARGUMENT,a+n+c)}var hv=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Rr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new zS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(pD("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},zS=class extends hv{data(){return super.data()}};function pD(n,e){return typeof e=="string"?n7(n,e):e instanceof lv?e._internalPath:e._delegate._internalPath}function r7(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new J(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Qf=class{},GS=class extends Qf{};function vV(n,e,...t){let r=[];e instanceof Qf&&r.push(e),r=r.concat(t),(function(s){let o=s.filter(c=>c instanceof WS).length,a=s.filter(c=>c instanceof fv).length;if(o>1||o>0&&a>0)throw new J(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)n=i._apply(n);return n}var fv=class n extends GS{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return IV(e._query,t),new ql(e.firestore,e.converter,LC(e._query,t))}_parse(e){let t=JW(e.firestore);return(function(s,o,a,c,d,h,m){let I;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new J(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){rF(m,h);let k=[];for(let V of m)k.push(nF(c,s,V));I={arrayValue:{values:k}}}else I=nF(c,s,m)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||rF(m,h),I=XW(a,o,m,h==="in"||h==="not-in");return Ot.create(d,h,I)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function EV(n,e,t){let r=e,i=pD("where",n);return fv._create(i,r,t)}var WS=class n extends Qf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ti.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:((function(i,s){let o=i,a=s.getFlattenedFilters();for(let c of a)IV(o,c),o=LC(o,c)})(e._query,t),new ql(e.firestore,e.converter,LC(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function nF(n,e,t){if(typeof(t=or(t))=="string"){if(t==="")throw new J(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!MF(e)&&t.indexOf("/")!==-1)throw new J(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Et.fromString(t));if(!ae.isDocumentKey(r))throw new J(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return TL(n,new ae(r))}if(t instanceof Rr)return TL(n,t._key);throw new J(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pv(t)}.`)}function rF(n,e){if(!Array.isArray(n)||n.length===0)throw new J(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function IV(n,e){let t=(function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new J(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var KS=class{convertValue(e,t="none"){switch(Wo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ge(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Wl(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){let t=e.fields?.[xl].arrayValue?.values?.map(r=>mt(r.doubleValue));return new Go(t)}convertGeoPoint(e){return new zo(mt(e.latitude),mt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=yv(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Vf(e));default:return null}}convertTimestamp(e){let t=Is(e);return new Yt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Et.fromString(e);_t(ZF(r),9688,{name:e});let i=new z_(r.get(1),r.get(3)),s=new ae(r.popFirst(5));return i.isEqual(t)||Es(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};var Tl=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Al=class n extends hv{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Rl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(pD("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new J(z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Al._jsonSchemaVersion="firestore/documentSnapshot/1.0",Al._jsonSchema={type:Lt("string",Al._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};var Rl=class extends Al{data(e={}){return super.data(e)}},Pl=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Tl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Rl(this._firestore,this._userDataWriter,r.key,r,new Tl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new J(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new Rl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Tl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new Rl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Tl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,h=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:i7(a.type),doc:c,oldIndex:d,newIndex:h}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new J(z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=j_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(t.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function i7(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge(61501,{type:n})}}Pl._jsonSchemaVersion="firestore/querySnapshot/1.0",Pl._jsonSchema={type:Lt("string",Pl._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};var QS=class extends KS{constructor(e){super(),this.firestore=e}convertBytes(e){return new qo(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rr(this.firestore,null,t)}};function wV(n){n=EC(n,ql);let e=EC(n.firestore,uv),t=KW(e),r=new QS(e);return r7(n._query),GW(t,n._query).then(i=>new Pl(e,r,n,i))}(function(e,t=!0){(function(i){zl=i})(Fo),Lo(new Sr("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new uv(new mC(r.getProvider("auth-internal")),new _C(o,r.getProvider("app-check-internal")),(function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new J(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new z_(d.options.projectId,h)})(o,i),o);return s=j({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),hs(pL,mL,e),hs(pL,mL,"esm2020")})();function s7(n,e){n&1&&(P(0,"div",3),D(1,` Korisnik nije ulogovan.
`),N())}function o7(n,e){if(n&1&&(P(0,"div",4)(1,"p")(2,"strong"),D(3,"Ime:"),N(),D(4),N(),P(5,"p")(6,"strong"),D(7,"Email:"),N(),D(8),N(),P(9,"p")(10,"strong"),D(11,"Tema:"),N(),D(12),N()()),n&2){let t=rn();Q(4),nr(" ",t.userData.name),Q(4),nr(" ",t.userData.email),Q(4),nr(" ",t.userData.theme)}}function a7(n,e){n&1&&(P(0,"div")(1,"p"),D(2,"Podaci nisu prona\u0111eni u bazi."),N()())}var wv=class n{userData=null;loggedIn=!1;async ngOnInit(){let e=eC(),t=gV();if(!e.currentUser?.email){this.loggedIn=!1;return}this.loggedIn=!0;let r=e.currentUser.email,i=vV(mV(t,"users"),EV("email","==",r)),s=await wV(i);s.empty||(this.userData=s.docs[0].data())}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ce({type:n,selectors:[["app-profile"]],decls:5,vars:3,consts:[["class","not-logged",4,"ngIf"],["class","profile-card",4,"ngIf"],[4,"ngIf"],[1,"not-logged"],[1,"profile-card"]],template:function(t,r){t&1&&(P(0,"h2"),D(1,"Profil korisnika"),N(),pt(2,s7,2,0,"div",0)(3,o7,13,3,"div",1)(4,a7,3,0,"div",2)),t&2&&(Q(2),Xe("ngIf",!r.loggedIn),Q(),Xe("ngIf",r.loggedIn&&r.userData),Q(),Xe("ngIf",r.loggedIn&&!r.userData))},dependencies:[ve,Jr],styles:["h2[_ngcontent-%COMP%]{text-align:center;color:#1e73be;margin-bottom:30px;font-family:Arial,sans-serif;font-weight:700}.profile-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;flex-direction:column;padding:20px;gap:20px}.profile-card[_ngcontent-%COMP%]{max-width:400px;background-color:#f0f4f8;padding:25px;border-radius:15px;box-shadow:0 6px 12px #0000001a;text-align:left;font-family:Arial,sans-serif;line-height:1.6}.profile-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0;font-size:16px;color:#333}"]})};var kV=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(se(tr),se(Nn))};static \u0275dir=et({type:n})}return n})(),sp=(()=>{class n extends kV{static \u0275fac=(()=>{let t;return function(i){return(t||(t=wr(n)))(i||n)}})();static \u0275dir=et({type:n,features:[$n]})}return n})(),Xl=new Z("");var c7={provide:Xl,useExisting:Jn(()=>Ft),multi:!0};function u7(){let n=Tr()?Tr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var l7=new Z(""),Ft=(()=>{class n extends kV{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!u7())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(se(tr),se(Nn),se(l7,8))};static \u0275dir=et({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&ie("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},standalone:!1,features:[Ti([c7]),$n]})}return n})();function d7(n){return n==null||h7(n)===0}function h7(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var yD=new Z(""),xV=new Z("");function f7(n){return d7(n.value)?{required:!0}:null}function bV(n){return null}function MV(n){return n!=null}function OV(n){return bo(n)?ht(n):n}function LV(n){let e={};return n.forEach(t=>{e=t!=null?j(j({},e),t):e}),Object.keys(e).length===0?null:e}function FV(n,e){return e.map(t=>t(n))}function p7(n){return!n.validate}function VV(n){return n.map(e=>p7(e)?e:t=>e.validate(t))}function m7(n){if(!n)return null;let e=n.filter(MV);return e.length==0?null:function(t){return LV(FV(t,e))}}function _D(n){return n!=null?m7(VV(n)):null}function g7(n){if(!n)return null;let e=n.filter(MV);return e.length==0?null:function(t){let r=FV(t,e).map(OV);return xI(r).pipe(rt(LV))}}function vD(n){return n!=null?g7(VV(n)):null}function TV(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function y7(n){return n._rawValidators}function _7(n){return n._rawAsyncValidators}function mD(n){return n?Array.isArray(n)?n:[n]:[]}function Tv(n,e){return Array.isArray(n)?n.includes(e):n===e}function CV(n,e){let t=mD(e);return mD(n).forEach(i=>{Tv(t,i)||t.push(i)}),t}function SV(n,e){return mD(e).filter(t=>!Tv(n,t))}var Cv=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=_D(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=vD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Jl=class extends Cv{name;get formDirective(){return null}get path(){return null}},ip=class extends Cv{_parent=null;name=null;valueAccessor=null},Sv=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var cn=(()=>{class n extends Sv{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(se(ip,2))};static \u0275dir=et({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Co("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[$n]})}return n})(),Zl=(()=>{class n extends Sv{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(se(Jl,10))};static \u0275dir=et({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Co("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[$n]})}return n})();var Zf="VALID",bv="INVALID",Ql="PENDING",ep="DISABLED",Yo=class{},Dv=class extends Yo{value;source;constructor(e,t){super(),this.value=e,this.source=t}},np=class extends Yo{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},rp=class extends Yo{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Yl=class extends Yo{status;source;constructor(e,t){super(),this.status=e,this.source=t}},gD=class extends Yo{source;constructor(e){super(),this.source=e}},Av=class extends Yo{source;constructor(e){super(),this.source=e}};function UV(n){return(Nv(n)?n.validators:n)||null}function v7(n){return Array.isArray(n)?_D(n):n||null}function jV(n,e){return(Nv(e)?e.asyncValidators:n)||null}function E7(n){return Array.isArray(n)?vD(n):n||null}function Nv(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function I7(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new ee(1e3,"");if(!r[t])throw new ee(1001,"")}function w7(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new ee(1002,"")})}var Rv=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return kt(this.statusReactive)}set status(e){kt(()=>this.statusReactive.set(e))}_status=tl(()=>this.statusReactive());statusReactive=Zn(void 0);get valid(){return this.status===Zf}get invalid(){return this.status===bv}get pending(){return this.status==Ql}get disabled(){return this.status===ep}get enabled(){return this.status!==ep}errors;get pristine(){return kt(this.pristineReactive)}set pristine(e){kt(()=>this.pristineReactive.set(e))}_pristine=tl(()=>this.pristineReactive());pristineReactive=Zn(!0);get dirty(){return!this.pristine}get touched(){return kt(this.touchedReactive)}set touched(e){kt(()=>this.touchedReactive.set(e))}_touched=tl(()=>this.touchedReactive());touchedReactive=Zn(!1);get untouched(){return!this.touched}_events=new Rt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(CV(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(CV(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(SV(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(SV(e,this._rawAsyncValidators))}hasValidator(e){return Tv(this._rawValidators,e)}hasAsyncValidator(e){return Tv(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ue(j({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new rp(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new rp(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ue(j({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new np(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new np(!0,r))}markAsPending(e={}){this.status=Ql;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Yl(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ue(j({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=ep,this.errors=null,this._forEachChild(i=>{i.disable(ue(j({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Dv(this.value,r)),this._events.next(new Yl(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ue(j({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Zf,this._forEachChild(r=>{r.enable(ue(j({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ue(j({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zf||this.status===Ql)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Dv(this.value,t)),this._events.next(new Yl(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ue(j({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ep:Zf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Ql,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=OV(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Yl(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Ct,this.statusChanges=new Ct}_calculateStatus(){return this._allControlsDisabled()?ep:this.errors?bv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ql)?Ql:this._anyControlsHaveStatus(bv)?bv:Zf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new np(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new rp(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Nv(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=v7(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=E7(this._rawAsyncValidators)}},Pv=class extends Rv{constructor(e,t,r){super(UV(t),jV(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){w7(this,!0,e),Object.keys(e).forEach(r=>{I7(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,ue(j({},t),{onlySelf:!0}))}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Av(this))}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var ED=new Z("",{factory:()=>ID}),ID="always";function b7(n,e){return[...e.path,n]}function BV(n,e,t=ID){$V(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),C7(n,e),D7(n,e),S7(n,e),T7(n,e)}function DV(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function T7(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function $V(n,e){let t=y7(n);e.validator!==null?n.setValidators(TV(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=_7(n);e.asyncValidator!==null?n.setAsyncValidators(TV(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();DV(e._rawValidators,i),DV(e._rawAsyncValidators,i)}function C7(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&HV(n,e)})}function S7(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&HV(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function HV(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function D7(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function A7(n,e){n==null,$V(n,e)}function R7(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function P7(n){return Object.getPrototypeOf(n.constructor)===sp}function N7(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function k7(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(s=>{s.constructor===Ft?t=s:P7(s)?r=s:i=s}),i||r||t||null}var x7={provide:Jl,useExisting:Jn(()=>Ic)},tp=Promise.resolve(),Ic=(()=>{class n extends Jl{callSetDisabledState;get submitted(){return kt(this.submittedReactive)}_submitted=tl(()=>this.submittedReactive());submittedReactive=Zn(!1);_directives=new Set;form;ngSubmit=new Ct;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Pv({},_D(t),vD(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){tp.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),BV(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){tp.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){tp.then(()=>{let r=this._findContainer(t.path),i=new Pv({});A7(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){tp.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){tp.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),N7(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new gD(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(se(yD,10),se(xV,10),se(ED,8))};static \u0275dir=et({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup","",3,"formArray",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&ie("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ti([x7]),$n]})}return n})();function AV(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function RV(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var M7=class extends Rv{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(UV(t),jV(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Nv(t)&&(t.nonNullable||t.initialValueIsDefault)&&(RV(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),t.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new Av(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){AV(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){AV(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){RV(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var O7={provide:ip,useExisting:Jn(()=>Jt)},PV=Promise.resolve(),Jt=(()=>{class n extends ip{_changeDetectorRef;callSetDisabledState;control=new M7;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ct;constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=k7(this,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),R7(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){BV(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){PV.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&So(r);PV.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?b7(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(se(Jl,9),se(yD,10),se(xV,10),se(Xl,10),se(cs,8),se(ED,8))};static \u0275dir=et({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Ti([O7]),$n,Kr]})}return n})();var ed=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=et({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),L7={provide:Xl,useExisting:Jn(()=>Ts),multi:!0},Ts=(()=>{class n extends sp{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=wr(n)))(i||n)}})();static \u0275dir=et({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&ie("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Ti([L7]),$n]})}return n})();var F7={provide:Xl,useExisting:Jn(()=>wD),multi:!0},wD=(()=>{class n extends sp{writeValue(t){this.setProperty("value",parseFloat(t))}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=wr(n)))(i||n)}})();static \u0275dir=et({type:n,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(r,i){r&1&&ie("change",function(o){return i.onChange(o.target.value)})("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Ti([F7]),$n]})}return n})();var V7={provide:Xl,useExisting:Jn(()=>td),multi:!0};function qV(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function U7(n){return n.split(":")[0]}var td=(()=>{class n extends sp{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=U(To).injector;destroyRef=U(zr);cdr=U(cs);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,$h({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let r=this._getOptionId(t),i=qV(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=U7(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=wr(n)))(i||n)}})();static \u0275dir=et({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&ie("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ti([V7]),$n]})}return n})(),kv=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(qV(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||n)(se(Nn),se(tr),se(td,9))};static \u0275dir=et({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),j7={provide:Xl,useExisting:Jn(()=>zV),multi:!0};function NV(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function B7(n){return n.split(":")[0]}var zV=(()=>{class n extends sp{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],s=r.selectedOptions;if(s!==void 0){let o=s;for(let a=0;a<o.length;a++){let c=o[a],d=this._getOptionValue(c.value);i.push(d)}}else{let o=r.options;for(let a=0;a<o.length;a++){let c=o[a];if(c.selected){let d=this._getOptionValue(c.value);i.push(d)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=B7(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=wr(n)))(i||n)}})();static \u0275dir=et({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&ie("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ti([j7]),$n]})}return n})(),xv=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(NV(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(NV(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(se(Nn),se(tr),se(zV,9))};static \u0275dir=et({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var $7=(()=>{class n{_validator=bV;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):bV,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=et({type:n,features:[Kr]})}return n})();var H7={provide:yD,useExisting:Jn(()=>op),multi:!0};var op=(()=>{class n extends $7{required;inputName="required";normalizeInput=So;createValidator=t=>f7;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=wr(n)))(i||n)}})();static \u0275dir=et({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Ju("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Ti([H7]),$n]})}return n})();var q7=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=wi({type:n});static \u0275inj=Br({})}return n})();var gt=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ED,useValue:t.callSetDisabledState??ID}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=wi({type:n});static \u0275inj=Br({imports:[q7]})}return n})();function z7(n,e){n&1&&(P(0,"span",10),D(1,"\u2714"),N())}function G7(n,e){if(n&1){let t=kn();P(0,"div",8),ie("click",function(){let i=it(t).index,s=rn();return st(s.toggleHabit(i))}),P(1,"span"),D(2),N(),pt(3,z7,2,0,"span",9),N()}if(n&2){let t=e.$implicit;Co("done",t.done),Q(2),Hn(t.name),Q(),Xe("ngIf",t.done)}}function W7(n,e){n&1&&(P(0,"span",10),D(1,"\u2714"),N())}function K7(n,e){n&1&&(P(0,"span",10),D(1,"\u2716"),N())}function Q7(n,e){if(n&1&&(P(0,"div",13)(1,"span"),D(2),N(),pt(3,W7,2,0,"span",9)(4,K7,2,0,"span",9),N()),n&2){let t=e.$implicit,r=rn(2);Co("done",t.completed.includes(r.selectedHabit)),Q(2),Hn(t.date),Q(),Xe("ngIf",t.completed.includes(r.selectedHabit)),Q(),Xe("ngIf",!t.completed.includes(r.selectedHabit))}}function Y7(n,e){if(n&1&&(P(0,"div",11)(1,"h4"),D(2),N(),pt(3,Q7,5,5,"div",12),N()),n&2){let t=rn();Q(2),nr("Historija za: ",t.selectedHabit),Q(),Xe("ngForOf",t.history)}}var nd=class n{habits=[{name:"\u010Citanje",done:!1},{name:"Meditacija",done:!1},{name:"Vje\u017Ebanje",done:!1},{name:"Hodanje",done:!1},{name:"Planiranje dana",done:!1},{name:"U\u010Denje",done:!1}];get completedCount(){return this.habits.filter(e=>e.done).length}toggleHabit(e){this.habits[e].done=!this.habits[e].done,this.saveHabits(),this.saveHistory()}addHabit(e){if(!e.trim()){alert("Unesi naziv navike!");return}this.habits.push({name:e,done:!1}),this.saveHabits()}saveHabits(){let e=localStorage.getItem("currentUserEmail")||"guest";localStorage.setItem(`tracker-habits-${e}`,JSON.stringify(this.habits))}loadHabits(){let e=localStorage.getItem("currentUserEmail")||"guest",t=localStorage.getItem(`tracker-habits-${e}`);t&&(this.habits=JSON.parse(t))}saveHistory(){let e=localStorage.getItem("currentUserEmail")||"guest",t=new Date().toLocaleDateString("bs-BA"),r=`tracker-history-${e}`,i=JSON.parse(localStorage.getItem(r)||"[]"),s={date:t,completed:this.habits.filter(a=>a.done).map(a=>a.name)},o=i.findIndex(a=>a.date===t);o!==-1?i[o]=s:i.push(s),localStorage.setItem(r,JSON.stringify(i))}getHistory(){let t=`tracker-history-${localStorage.getItem("currentUserEmail")||"guest"}`;return JSON.parse(localStorage.getItem(t)||"[]")}ngOnInit(){this.loadHabits()}selectedHabit=null;history=[];selectHabit(e){let r=`tracker-history-${localStorage.getItem("currentUserEmail")||"guest"}`;this.history=JSON.parse(localStorage.getItem(r)||"[]"),this.selectedHabit=e}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ce({type:n,selectors:[["app-habit-tracker"]],decls:12,vars:4,consts:[["habitInput",""],[1,"counter"],[1,"grid"],["class","habit-box",3,"done","click",4,"ngFor","ngForOf"],[1,"add-section"],["type","text","placeholder","Dodaj novu naviku..."],[3,"click"],["class","history-section",4,"ngIf"],[1,"habit-box",3,"click"],["class","check",4,"ngIf"],[1,"check"],[1,"history-section"],["class","habit-box history-box",3,"done",4,"ngFor","ngForOf"],[1,"habit-box","history-box"]],template:function(t,r){if(t&1){let i=kn();P(0,"h3"),D(1,"Habit Tracker"),N(),P(2,"p",1),D(3),N(),P(4,"div",2),pt(5,G7,4,4,"div",3),N(),P(6,"div",4),K(7,"input",5,0),P(9,"button",6),ie("click",function(){it(i);let o=Gh(8);return r.addHabit(o.value),st(o.value="")}),D(10,"Dodaj"),N()(),pt(11,Y7,4,2,"div",7)}t&2&&(Q(3),el("",r.completedCount," od ",r.habits.length," navika zavr\u0161eno danas"),Q(2),Xe("ngForOf",r.habits),Q(6),Xe("ngIf",r.selectedHabit))},dependencies:[ve,Cr,Jr,gt],styles:["h3[_ngcontent-%COMP%]{font-size:22px;margin-bottom:10px;color:#1e73be}.counter[_ngcontent-%COMP%]{font-size:16px;font-weight:700;margin-bottom:15px;color:#2c3e50}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:15px;margin-bottom:20px}.habit-box[_ngcontent-%COMP%]{background:#f8f9fa;padding:15px;border-radius:12px;border:2px solid #1e73be;display:flex;justify-content:space-between;align-items:center;font-weight:600;cursor:pointer;transition:.2s ease-in-out}.habit-box[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.habit-box.done[_ngcontent-%COMP%]{background:#1e73be;color:#fff}.check[_ngcontent-%COMP%]{font-size:18px;font-weight:700}.add-section[_ngcontent-%COMP%]{margin-top:15px;display:flex;gap:10px;align-items:center}.add-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px;flex:1;border-radius:8px;border:1px solid #ccc}.add-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#1e73be;color:#fff;padding:10px 15px;border:none;border-radius:8px;cursor:pointer}.history-section[_ngcontent-%COMP%]{margin-top:25px}h4[_ngcontent-%COMP%]{font-size:18px;margin-bottom:12px;color:#1e73be;font-weight:700}.history-box[_ngcontent-%COMP%]{margin-bottom:10px;border-color:#1e73be}.history-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{font-size:16px;font-weight:700}"]})};function J7(n,e){if(n&1&&(P(0,"li"),D(1),N()),n&2){let t=e.$implicit;Q(),ly(" ",t.date," - ",t.hours," sati (",t.quality,") ")}}var rd=class n{sleepTime="";wakeTime="";sleepQuality="dobar";sleepHours=0;history=[];constructor(){this.loadSleep()}calculateSleepHours(){if(!this.sleepTime||!this.wakeTime)return;let[e,t]=this.sleepTime.split(":").map(Number),[r,i]=this.wakeTime.split(":").map(Number),s=new Date;s.setHours(e,t,0);let o=new Date;o.setHours(r,i,0),o<=s&&o.setDate(o.getDate()+1);let a=o.getTime()-s.getTime();this.sleepHours=+(a/1e3/3600).toFixed(2)}saveSleep(){let e=localStorage.getItem("currentUserEmail")||"guest",t=new Date().toISOString().split("T")[0],r=JSON.parse(localStorage.getItem(`tracker-sleep-history-${e}`)||"[]"),i=r.findIndex(s=>s.date===t);i>-1?r[i]={date:t,hours:this.sleepHours,quality:this.sleepQuality}:r.push({date:t,hours:this.sleepHours,quality:this.sleepQuality}),localStorage.setItem(`tracker-sleep-history-${e}`,JSON.stringify(r)),this.history=r,alert("Sleep data saved!")}loadSleep(){let e=localStorage.getItem("currentUserEmail")||"guest";this.history=JSON.parse(localStorage.getItem(`tracker-sleep-history-${e}`)||"[]");let t=new Date().toISOString().split("T")[0],r=this.history.find(i=>i.date===t);r&&(this.sleepHours=r.hours,this.sleepQuality=r.quality)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ce({type:n,selectors:[["app-sleep-tracker"]],decls:32,vars:5,consts:[[1,"sleep-box"],["type","time",3,"ngModelChange","change","ngModel"],[3,"ngModelChange","ngModel"],["value","los"],["value","srednji"],["value","dobar"],["value","odlican"],[3,"click"],[4,"ngFor","ngForOf"]],template:function(t,r){t&1&&(P(0,"h3"),D(1,"Sleep Tracker"),N(),P(2,"div",0)(3,"label"),D(4,"Vrijeme odlaska na spavanje:"),N(),P(5,"input",1),nt("ngModelChange",function(s){return ot(r.sleepTime,s)||(r.sleepTime=s),s}),ie("change",function(){return r.calculateSleepHours()}),N()(),P(6,"div",0)(7,"label"),D(8,"Vrijeme bu\u0111enja:"),N(),P(9,"input",1),nt("ngModelChange",function(s){return ot(r.wakeTime,s)||(r.wakeTime=s),s}),ie("change",function(){return r.calculateSleepHours()}),N()(),P(10,"div",0)(11,"label"),D(12,"Kvaliteta sna:"),N(),P(13,"select",2),nt("ngModelChange",function(s){return ot(r.sleepQuality,s)||(r.sleepQuality=s),s}),P(14,"option",3),D(15,"Lo\u0161"),N(),P(16,"option",4),D(17,"Srednji"),N(),P(18,"option",5),D(19,"Dobar"),N(),P(20,"option",6),D(21,"Odli\u010Dan"),N()()(),P(22,"div",0)(23,"p"),D(24),N()(),P(25,"button",7),ie("click",function(){return r.saveSleep()}),D(26,"Spremi"),N(),K(27,"hr"),P(28,"h4"),D(29,"Historija spavanja:"),N(),P(30,"ul"),pt(31,J7,2,3,"li",8),N()),t&2&&(Q(5),tt("ngModel",r.sleepTime),Q(4),tt("ngModel",r.wakeTime),Q(4),tt("ngModel",r.sleepQuality),Q(11),nr("Sati sna: ",r.sleepHours),Q(7),Xe("ngForOf",r.history))},dependencies:[ve,Cr,gt,kv,xv,Ft,td,cn,Jt],styles:[".sleep-box[_ngcontent-%COMP%]{margin-bottom:10px;padding:10px;background:#f1f1f1;border-radius:6px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{padding:8px;width:200px;border-radius:6px;border:1px solid #ccc}button[_ngcontent-%COMP%]{background:#1e73be;color:#fff;padding:10px 20px;border:none;border-radius:6px;cursor:pointer}"]})};var id=class n{studyHours=0;saveStudy(){let e=localStorage.getItem("currentUserEmail")||"guest";localStorage.setItem(`tracker-study-${e}`,this.studyHours.toString()),alert("Saved!")}loadStudy(){let e=localStorage.getItem("currentUserEmail")||"guest",t=localStorage.getItem(`tracker-study-${e}`);t&&(this.studyHours=Number(t))}ngOnInit(){this.loadStudy()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ce({type:n,selectors:[["app-study-planner"]],decls:7,vars:1,consts:[["type","number","placeholder","npr. 3",3,"ngModelChange","ngModel"],[3,"click"]],template:function(t,r){t&1&&(P(0,"h3"),D(1,"Study Planner"),N(),P(2,"p"),D(3,"Koliko sati ste danas u\u010Dili?"),N(),P(4,"input",0),nt("ngModelChange",function(s){return ot(r.studyHours,s)||(r.studyHours=s),s}),N(),P(5,"button",1),ie("click",function(){return r.saveStudy()}),D(6,"Save"),N()),t&2&&(Q(4),tt("ngModel",r.studyHours))},dependencies:[ve,gt,Ft,Ts,cn,Jt],styles:["input[_ngcontent-%COMP%]{padding:10px;width:200px;margin-bottom:10px;border-radius:6px;border:1px solid #ccc}button[_ngcontent-%COMP%]{background:#1e73be;color:#fff;padding:10px 20px;border:none;border-radius:6px;cursor:pointer}"]})};var sd=class n{fitnessMinutes=0;saveFitness(){let e=localStorage.getItem("currentUserEmail")||"guest";localStorage.setItem(`tracker-fitness-${e}`,this.fitnessMinutes.toString()),alert("Saved!")}loadFitness(){let e=localStorage.getItem("currentUserEmail")||"guest",t=localStorage.getItem(`tracker-fitness-${e}`);t&&(this.fitnessMinutes=Number(t))}ngOnInit(){this.loadFitness()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ce({type:n,selectors:[["app-yoga-fitness"]],decls:7,vars:1,consts:[["type","number","placeholder","npr. 20",3,"ngModelChange","ngModel"],[3,"click"]],template:function(t,r){t&1&&(P(0,"h3"),D(1,"Fitness/Yoga Tracker"),N(),P(2,"p"),D(3,"Koliko minuta ste vje\u017Ebali?"),N(),P(4,"input",0),nt("ngModelChange",function(s){return ot(r.fitnessMinutes,s)||(r.fitnessMinutes=s),s}),N(),P(5,"button",1),ie("click",function(){return r.saveFitness()}),D(6,"Save"),N()),t&2&&(Q(4),tt("ngModel",r.fitnessMinutes))},dependencies:[ve,gt,Ft,Ts,cn,Jt],styles:["input[_ngcontent-%COMP%]{padding:10px;width:200px;margin-bottom:10px;border-radius:6px;border:1px solid #ccc}button[_ngcontent-%COMP%]{background:#1e73be;color:#fff;padding:10px 20px;border:none;border-radius:6px;cursor:pointer}"]})};var od=class n{tasksDone=0;saveTasks(){let e=localStorage.getItem("currentUserEmail")||"guest";localStorage.setItem(`tracker-task-${e}`,this.tasksDone.toString()),alert("Saved!")}loadTasks(){let e=localStorage.getItem("currentUserEmail")||"guest",t=localStorage.getItem(`tracker-task-${e}`);t&&(this.tasksDone=Number(t))}ngOnInit(){this.loadTasks()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ce({type:n,selectors:[["app-task-planner"]],decls:7,vars:1,consts:[["type","number","placeholder","npr. 5",3,"ngModelChange","ngModel"],[3,"click"]],template:function(t,r){t&1&&(P(0,"h3"),D(1,"Task Tracker"),N(),P(2,"p"),D(3,"Koliko zadataka ste danas zavr\u0161ili?"),N(),P(4,"input",0),nt("ngModelChange",function(s){return ot(r.tasksDone,s)||(r.tasksDone=s),s}),N(),P(5,"button",1),ie("click",function(){return r.saveTasks()}),D(6,"Save"),N()),t&2&&(Q(4),tt("ngModel",r.tasksDone))},dependencies:[ve,gt,Ft,Ts,cn,Jt],styles:["input[_ngcontent-%COMP%]{padding:10px;width:200px;margin-bottom:10px;border-radius:6px;border:1px solid #ccc}button[_ngcontent-%COMP%]{background:#1e73be;color:#fff;padding:10px 20px;border:none;border-radius:6px;cursor:pointer}"]})};function X7(n,e){if(n&1&&(P(0,"p"),D(1),N()),n&2){let t=rn();Q(),nr("Danas ste popili: ",t.waterAmount," ml vode.")}}function Z7(n,e){if(n&1&&(P(0,"li"),D(1),N()),n&2){let t=e.$implicit;Q(),el("",t.time," - ",t.amount," ml")}}var ad=class n{waterAmount=0;dailyIntake=[];user=localStorage.getItem("currentUserEmail")||"guest";ngOnInit(){this.loadWater()}saveWater(){if(this.waterAmount<=0){alert("Unesite koli\u010Dinu vode!");return}let r={time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),amount:this.waterAmount};this.dailyIntake.push(r),localStorage.setItem(`tracker-water-${this.user}`,JSON.stringify(this.dailyIntake)),alert("Unos spremljen!"),this.waterAmount=0}loadWater(){let e=localStorage.getItem(`tracker-water-${this.user}`);e&&(this.dailyIntake=JSON.parse(e))}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ce({type:n,selectors:[["app-water-intake"]],decls:13,vars:3,consts:[["type","number","placeholder","npr. 500",3,"ngModelChange","ngModel"],[3,"click"],[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(t,r){t&1&&(P(0,"h3"),D(1,"Water Intake Tracker"),N(),P(2,"p"),D(3,"Koliko vode ste danas popili? (ml)"),N(),P(4,"input",0),nt("ngModelChange",function(s){return ot(r.waterAmount,s)||(r.waterAmount=s),s}),N(),P(5,"button",1),ie("click",function(){return r.saveWater()}),D(6,"Save"),N(),pt(7,X7,2,1,"p",2),K(8,"hr"),P(9,"h4"),D(10,"Dnevni unos"),N(),P(11,"ul"),pt(12,Z7,2,2,"li",3),N()),t&2&&(Q(4),tt("ngModel",r.waterAmount),Q(3),Xe("ngIf",r.waterAmount>0),Q(5),Xe("ngForOf",r.dailyIntake))},dependencies:[ve,Cr,Jr,gt,Ft,Ts,cn,Jt],styles:["h3[_ngcontent-%COMP%]{color:#1e73be;margin-bottom:10px}p[_ngcontent-%COMP%]{font-size:14px;margin-bottom:10px}input[type=number][_ngcontent-%COMP%]{padding:10px;width:200px;margin-bottom:10px;border-radius:6px;border:1px solid #ccc;font-size:14px}button[_ngcontent-%COMP%]{background:#1e73be;color:#fff;padding:10px 20px;border:none;border-radius:6px;cursor:pointer;font-size:14px;transition:background .3s}button[_ngcontent-%COMP%]:hover{background:#155a8a}hr[_ngcontent-%COMP%]{margin:20px 0;border:0;border-top:1px solid #ddd}h4[_ngcontent-%COMP%]{color:#333;margin-bottom:10px}ul[_ngcontent-%COMP%]{list-style-type:none;padding-left:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:6px 10px;margin-bottom:5px;background-color:#f5f5f5;border-radius:6px;font-size:13px;display:flex;justify-content:space-between}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(odd){background-color:#e9f0fa}"]})};function eK(n,e){if(n&1){let t=kn();P(0,"div",3),ie("click",function(){let i=it(t).$implicit,s=rn();return st(s.selectTracker(i))}),K(1,"img",4),P(2,"div",5),D(3),N()()}if(n&2){let t=e.$implicit;Q(),Xe("src",t.image,Xg)("alt",t.name),Q(2),Hn(t.name)}}function tK(n,e){n&1&&cy(0)}function nK(n,e){if(n&1&&(P(0,"div",6),pt(1,tK,1,0,"ng-container",7),N()),n&2){let t=rn();Q(),Xe("ngComponentOutlet",t.selectedTracker)}}var Mv=class n{trackers=[{name:"Habit Tracker",image:"assets/slike/habit.png",component:nd},{name:"Sleep Tracker",image:"assets/slike/sleep.png",component:rd},{name:"Study Planner",image:"assets/slike/school.png",component:id},{name:"Yoga / Fitness",image:"assets/slike/yoga.png",component:sd},{name:"Task / Project",image:"assets/slike/tasks.png",component:od},{name:"Water Intake",image:"assets/slike/water.png",component:ad}];selectedTracker=null;selectTracker(e){this.selectedTracker=e.component}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ce({type:n,selectors:[["app-tracker"]],decls:5,vars:2,consts:[[1,"tracker-cards"],["class","card",3,"click",4,"ngFor","ngForOf"],["class","selected-tracker",4,"ngIf"],[1,"card",3,"click"],[3,"src","alt"],[1,"card-text"],[1,"selected-tracker"],[4,"ngComponentOutlet"]],template:function(t,r){t&1&&(P(0,"h2"),D(1,"Moje aktivnosti"),N(),P(2,"div",0),pt(3,eK,4,3,"div",1),N(),pt(4,nK,2,1,"div",2)),t&2&&(Q(3),Xe("ngForOf",r.trackers),Q(),Xe("ngIf",r.selectedTracker))},dependencies:[ve,yb,Cr,Jr],styles:["h2[_ngcontent-%COMP%]{text-align:center;color:#1e73be;margin-bottom:20px;font-family:Arial,sans-serif;font-weight:700}.tracker-cards[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:25px;justify-content:center;margin-top:20px}.card[_ngcontent-%COMP%]{background-color:#f0f0f0;border-radius:15px;width:220px;height:260px;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;padding:15px;cursor:pointer;transition:all .3s;box-shadow:0 4px 12px #00000026}.card[_ngcontent-%COMP%]:hover{background-color:#e0e0e0;transform:translateY(-5px)}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px;object-fit:contain;margin-bottom:15px}.card-text[_ngcontent-%COMP%]{font-weight:700;font-size:16px;color:#1e73be;text-align:center}.selected-tracker[_ngcontent-%COMP%]{margin-top:30px}"]})};var Ov=class n{result="";answers={q1:["a"],q2:["a","b","c"],q3:["b"],q4:["a","b","d"],q5:["b"]};checkAnswers(e){let t=0,r=5;for(let i=1;i<=r;i++){let s=`q${i}`,o=e.value[s]||[],a=this.answers[s]||[];(Array.isArray(o)?o.length===a.length&&o.every(c=>a.includes(c)):o===a[0])&&t++}this.result=`Osvojili ste ${t} od ${r} poena!`}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ce({type:n,selectors:[["app-quiz"]],decls:96,vars:1,consts:[["quizForm","ngForm"],["type","radio","name","q1","value","a"],["type","radio","name","q1","value","b"],["type","radio","name","q1","value","c"],["type","checkbox","name","q2","value","a"],["type","checkbox","name","q2","value","b"],["type","checkbox","name","q2","value","c"],["type","checkbox","name","q2","value","d"],["type","radio","name","q3","value","a"],["type","radio","name","q3","value","b"],["type","radio","name","q3","value","c"],["type","checkbox","name","q4","value","a"],["type","checkbox","name","q4","value","b"],["type","checkbox","name","q4","value","c"],["type","checkbox","name","q4","value","d"],["type","radio","name","q5","value","a"],["type","radio","name","q5","value","b"],["type","radio","name","q5","value","c"],["type","button",3,"click"],["id","result"]],template:function(t,r){if(t&1){let i=kn();P(0,"h1"),D(1,"Kviz"),N(),P(2,"p"),D(3,"Dobrodo\u0161li u studentski kviz! Testirajte svoje znanje o HTML-u i osnovama weba."),N(),P(4,"p"),D(5,"Odaberite ta\u010Dan odgovor(e) za svako pitanje. Neki mogu imati vi\u0161e ta\u010Dnih opcija!"),N(),P(6,"form",null,0)(8,"table")(9,"tr")(10,"td")(11,"h3"),D(12,"1. \u0160ta je skra\u0107enica HTML?"),N(),P(13,"label"),K(14,"input",1),D(15," HyperText Markup Language"),N(),K(16,"br"),P(17,"label"),K(18,"input",2),D(19," HighText Markdown Language"),N(),K(20,"br"),P(21,"label"),K(22,"input",3),D(23," HyperText Makeup Language"),N()()(),P(24,"tr")(25,"td")(26,"h3"),D(27,"2. Koje se oznake koriste za izradu popisa u HTML-u?"),N(),P(28,"label"),K(29,"input",4),D(30," <ul>"),N(),K(31,"br"),P(32,"label"),K(33,"input",5),D(34," <ol>"),N(),K(35,"br"),P(36,"label"),K(37,"input",6),D(38," <li>"),N(),K(39,"br"),P(40,"label"),K(41,"input",7),D(42," <br>"),N()()(),P(43,"tr")(44,"td")(45,"h3"),D(46,"3. Koja se oznaka koristi za umetanje slike?"),N(),P(47,"label"),K(48,"input",8),D(49," <image>"),N(),K(50,"br"),P(51,"label"),K(52,"input",9),D(53," <img>"),N(),K(54,"br"),P(55,"label"),K(56,"input",10),D(57," <src>"),N()()(),P(58,"tr")(59,"td")(60,"h3"),D(61,"4. Koji od sljede\u0107ih su valjani HTML atributi?"),N(),P(62,"label"),K(63,"input",11),D(64," href"),N(),K(65,"br"),P(66,"label"),K(67,"input",12),D(68," src"),N(),K(69,"br"),P(70,"label"),K(71,"input",13),D(72," bold"),N(),K(73,"br"),P(74,"label"),K(75,"input",14),D(76," alt"),N()()(),P(77,"tr")(78,"td")(79,"h3"),D(80,"5. Koji je ispravan na\u010Din za stvaranje linkova u HTML-u?"),N(),P(81,"label"),K(82,"input",15),D(83,' <a url="example.com">Click</a>'),N(),K(84,"br"),P(85,"label"),K(86,"input",16),D(87,' <a href="example.com">Click</a>'),N(),K(88,"br"),P(89,"label"),K(90,"input",17),D(91," <link>Click</link>"),N()()()(),P(92,"button",18),ie("click",function(){it(i);let o=Gh(7);return st(r.checkAnswers(o))}),D(93,"Provjerite odgovore"),N()(),P(94,"p",19),D(95),N()}t&2&&(Q(95),Hn(r.result))},dependencies:[ve,gt,ed,Zl,Ic],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#fff;color:#000;text-align:center}h1[_ngcontent-%COMP%]{text-align:center;margin-top:20px}p[_ngcontent-%COMP%]{text-align:center}table[_ngcontent-%COMP%]{margin:20px auto;border-collapse:collapse;width:60%}td[_ngcontent-%COMP%]{padding:15px;text-align:left}button[_ngcontent-%COMP%]{background-color:#000;color:#fff;border:none;padding:10px 20px;margin:15px auto;cursor:pointer;border-radius:10px;display:block}button[_ngcontent-%COMP%]:hover{background-color:gray}#result[_ngcontent-%COMP%]{font-weight:700;margin-top:10px}"]})};var Lv=class n{generatePDF(){let e=document.getElementById("contentToConvert"),t={margin:1,filename:"Bingo.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};html2pdf().set(t).from(e).save()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ce({type:n,selectors:[["app-bingo"]],decls:66,vars:0,consts:[["id","contentToConvert",1,"content"],[3,"click"]],template:function(t,r){t&1&&(be(0,"div",0)(1,"h1"),D(2,"BINGO"),Te(),be(3,"table")(4,"tr")(5,"td"),D(6,"Putovao je van zemlje."),Te(),be(7,"td"),D(8,"Letio je avionom."),Te(),be(9,"td"),D(10,"Ima vi\u0161e od troje bra\u0107e i sestara."),Te(),be(11,"td"),D(12,"Ima pet ku\u0107nih ljubimaca."),Te(),be(13,"td"),D(14,"Voli jesti kisele krastavce."),Te()(),be(15,"tr")(16,"td"),D(17,"Igra ko\u0161arku."),Te(),be(18,"td"),D(19,"Voli Disney crtane."),Te(),be(20,"td"),D(21,"Voli crtati."),Te(),be(22,"td"),D(23,"Voli HTML."),Te(),be(24,"td"),D(25,"Zna roniti."),Te()(),be(26,"tr")(27,"td"),D(28,"Omiljena boja je narand\u017Easta."),Te(),be(29,"td"),D(30,"Ne voli pla\u017Eu."),Te(),be(31,"td"),D(32,"SLOBODAN PROSTOR"),Te(),be(33,"td"),D(34,"Dobar je u matematici."),Te(),be(35,"td"),D(36,"Nema ku\u0107ne ljubimce."),Te()(),be(37,"tr")(38,"td"),D(39,"Ne voli \u010Dokoladu."),Te(),be(40,"td"),D(41,"Boji se pauka."),Te(),be(42,"td"),D(43,"Voli pe\u0107i kola\u010Di\u0107e."),Te(),be(44,"td"),D(45,"Svira instrument."),Te(),be(46,"td"),D(47,"Alergi\u010Dan je na ma\u010Dke ili pse."),Te()(),be(48,"tr")(49,"td"),D(50,"Slavi ro\u0111endan u oktobru."),Te(),be(51,"td"),D(52,"Voli jesti sir."),Te(),be(53,"td"),D(54,"Igra online igre."),Te(),be(55,"td"),D(56,"Ne voli pizzu."),Te(),be(57,"td"),D(58,"Voli pjevati."),Te()()(),Xu(59,"br"),be(60,"p"),D(61,"Skupi 5 inicijala zaredom - BINGO!"),Te(),be(62,"p"),D(63,"Svaka osoba mo\u017Ee staviti inicijale samo 2 puta."),Te(),be(64,"button",1),bi("click",function(){return r.generatePDF()}),D(65,"Preuzmi kao PDF"),Te()())},dependencies:[ve],styles:["table[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid black;border-collapse:collapse;align-items:center}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:15px}h1[_ngcontent-%COMP%]{text-align:center}button[_ngcontent-%COMP%]{border:none;color:#fff;background-color:#000;padding:10px 22px;text-align:center;font-size:16px;margin:10px auto;cursor:pointer;border-radius:10px;display:block}.content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 4px #0000001a;align-items:center}"]})};var rK=["board"],Fv=class n{canvasRef;color="#000000";brushSize=3;isErasing=!1;ctx;drawing=!1;ngAfterViewInit(){let e=this.canvasRef.nativeElement;this.ctx=e.getContext("2d"),e.addEventListener("mousedown",this.startDraw.bind(this)),e.addEventListener("mouseup",this.endDraw.bind(this)),e.addEventListener("mousemove",this.draw.bind(this)),e.addEventListener("touchstart",this.startDraw.bind(this)),e.addEventListener("touchmove",t=>{this.draw(t),t.preventDefault()}),e.addEventListener("touchend",this.endDraw.bind(this))}getEventCoords(e){let t=this.canvasRef.nativeElement,r=t.getBoundingClientRect(),i=0,s=0;e instanceof MouseEvent?(i=e.clientX,s=e.clientY):e instanceof TouchEvent&&(i=e.touches[0]?.clientX??0,s=e.touches[0]?.clientY??0);let o=t.width/r.width,a=t.height/r.height;return{x:(i-r.left)*o,y:(s-r.top)*a}}startDraw(e){this.drawing=!0,this.draw(e)}endDraw(){this.drawing=!1,this.ctx.beginPath()}draw(e){if(!this.drawing)return;let{x:t,y:r}=this.getEventCoords(e);this.ctx.lineWidth=this.brushSize,this.ctx.lineCap="round",this.ctx.strokeStyle=this.isErasing?"#FFFFFF":this.color,this.ctx.lineTo(t,r),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(t,r)}toggleEraser(){this.isErasing=!this.isErasing}clearBoard(){let e=this.canvasRef.nativeElement;this.ctx.clearRect(0,0,e.width,e.height)}saveBoard(){let t=this.canvasRef.nativeElement.toDataURL("image/png"),r=document.createElement("a");r.href=t,r.download="moj_crtez.png",r.click()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ce({type:n,selectors:[["app-whiteboard"]],viewQuery:function(t,r){if(t&1&&Zu(rK,7),t&2){let i;tc(i=nc())&&(r.canvasRef=i.first)}},decls:17,vars:3,consts:[["board",""],[1,"toolbar"],["for","colorPicker"],["type","color","id","colorPicker",3,"ngModelChange","ngModel"],["for","brushSize"],["type","range","id","brushSize","min","1","max","20",3,"ngModelChange","ngModel"],["type","button",3,"click"],["width","900","height","500"]],template:function(t,r){if(t&1){let i=kn();P(0,"h1"),D(1,"Interaktivni Whiteboard"),N(),P(2,"div",1)(3,"label",2),D(4,"Boja:"),N(),P(5,"input",3),nt("ngModelChange",function(o){return it(i),ot(r.color,o)||(r.color=o),st(o)}),N(),P(6,"label",4),D(7,"\u010Cetka:"),N(),P(8,"input",5),nt("ngModelChange",function(o){return it(i),ot(r.brushSize,o)||(r.brushSize=o),st(o)}),N(),P(9,"button",6),ie("click",function(){return it(i),st(r.toggleEraser())}),D(10),N(),P(11,"button",6),ie("click",function(){return it(i),st(r.clearBoard())}),D(12,"\u010Cista plo\u010Da"),N(),P(13,"button",6),ie("click",function(){return it(i),st(r.saveBoard())}),D(14,"Snimi"),N()(),K(15,"canvas",7,0)}t&2&&(Q(5),tt("ngModel",r.color),Q(3),tt("ngModel",r.brushSize),Q(2),Hn(r.isErasing?"Pi\u0161i":"Bri\u0161i"))},dependencies:[ve,gt,Ft,wD,cn,Jt],styles:["body[_ngcontent-%COMP%]{margin:0;font-family:Segoe UI,Tahoma,sans-serif;background:linear-gradient(135deg,#eef2f3,#8e9eab);display:flex;flex-direction:column;align-items:center;justify-content:flex-start;min-height:100vh}h1[_ngcontent-%COMP%]{color:#333;margin-top:20px;margin-bottom:10px;text-shadow:1px 1px 2px rgba(0,0,0,.1);text-align:center}.toolbar[_ngcontent-%COMP%]{background:#fff;padding:10px 15px;border-radius:12px;box-shadow:0 4px 10px #0003;display:flex;flex-wrap:wrap;align-items:center;justify-content:center;gap:10px;margin-bottom:15px}.toolbar[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;color:#444;margin-right:5px}button[_ngcontent-%COMP%]{background:#1e73be;color:#fff;border:none;border-radius:8px;padding:8px 12px;font-size:14px;cursor:pointer;transition:background .2s}button[_ngcontent-%COMP%]:hover{background:#005fa3}canvas[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 4px 15px #0000004d;touch-action:none;cursor:url(/assets/slike/marker.png) 0 30,auto;display:block;margin:0 auto;max-width:900px;width:90vw;height:500px}"]})};function iK(n,e){if(n&1){let t=kn();P(0,"div",12),ie("dragstart",function(){let i=it(t).$implicit,s=rn(2);return st(s.onDragStart(i))}),P(1,"div",13),D(2),N(),P(3,"button",14),ie("click",function(){let i=it(t).$implicit,s=rn(2);return st(s.deleteTask(i.id))}),D(4,"\u2715"),N()()}if(n&2){let t=e.$implicit;Q(2),Hn(t.text)}}function sK(n,e){if(n&1){let t=kn();P(0,"div",9)(1,"h2"),D(2),N(),P(3,"div",10),ie("dragover",function(i){it(t);let s=rn();return st(s.onDragOver(i))})("drop",function(){let i=it(t).$implicit,s=rn();return st(s.onDrop(i.status))}),pt(4,iK,5,1,"div",11),N()()}if(n&2){let t=e.$implicit,r=rn();Q(2),Hn(t.title),Q(2),Xe("ngForOf",r.getTasksByStatus(t.status))}}var Vv=class n{tasks=[];showTaskModal=!1;showClearModal=!1;taskInput="";draggedTask=null;columns=[{status:"todo",title:"To Do"},{status:"progress",title:"In Progress"},{status:"done",title:"Done"}];ngOnInit(){this.loadBoard()}openTaskModal(){this.showTaskModal=!0,this.taskInput=""}closeTaskModal(){this.showTaskModal=!1}addTask(){let e=this.taskInput.trim();if(!e)return;let t={id:Date.now().toString(),text:e,status:"todo"};this.tasks.push(t),this.closeTaskModal(),this.saveBoard()}deleteTask(e){this.tasks=this.tasks.filter(t=>t.id!==e),this.saveBoard()}getTasksByStatus(e){return this.tasks.filter(t=>t.status===e)}onDragStart(e){this.draggedTask=e}onDragOver(e){e.preventDefault()}onDrop(e){this.draggedTask&&(this.draggedTask.status=e,this.draggedTask=null,this.saveBoard())}saveBoard(){localStorage.setItem("kanbanBoard",JSON.stringify(this.tasks)),alert("Kanban plo\u010Da je sa\u010Duvana!")}loadBoard(){let e=localStorage.getItem("kanbanBoard");e&&(this.tasks=JSON.parse(e))}clearBoard(){this.showClearModal=!0}confirmClear(){this.tasks=[],this.showClearModal=!1,localStorage.removeItem("kanbanBoard")}cancelClear(){this.showClearModal=!1}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ce({type:n,selectors:[["app-kanban"]],decls:32,vars:6,consts:[[1,"toolbar"],[3,"click"],[1,"modal"],[1,"modal-content"],["type","text","placeholder","Va\u0161 zadatak...",3,"ngModelChange","keyup.enter","ngModel"],[1,"modal-buttons"],[2,"background","#e74c3c",3,"click"],[1,"board"],["class","column",4,"ngFor","ngForOf"],[1,"column"],[1,"taskList",3,"dragover","drop"],["class","task","draggable","true",3,"dragstart",4,"ngFor","ngForOf"],["draggable","true",1,"task",3,"dragstart"],[1,"task-content"],[1,"delete-btn",3,"click"]],template:function(t,r){t&1&&(P(0,"h3"),D(1,"Kanban plo\u010Da"),N(),P(2,"div",0)(3,"button",1),ie("click",function(){return r.openTaskModal()}),D(4,"Dodaj zadatak"),N(),P(5,"button",1),ie("click",function(){return r.saveBoard()}),D(6,"Snimi"),N(),P(7,"button",1),ie("click",function(){return r.clearBoard()}),D(8,"O\u010Disti plo\u010Du"),N()(),P(9,"div",2)(10,"div",3)(11,"h3"),D(12,"Dodaj zadatak"),N(),P(13,"input",4),nt("ngModelChange",function(s){return ot(r.taskInput,s)||(r.taskInput=s),s}),ie("keyup.enter",function(){return r.addTask()}),N(),P(14,"div",5)(15,"button",1),ie("click",function(){return r.addTask()}),D(16,"Dodaj"),N(),P(17,"button",1),ie("click",function(){return r.closeTaskModal()}),D(18,"Poni\u0161ti"),N()()()(),P(19,"div",2)(20,"div",3)(21,"h3"),D(22,"O\u010Disti cijelu plo\u010Du?"),N(),P(23,"p"),D(24,"Ova se radnja ne mo\u017Ee poni\u0161titi."),N(),P(25,"div",5)(26,"button",6),ie("click",function(){return r.confirmClear()}),D(27,"O\u010Disti"),N(),P(28,"button",1),ie("click",function(){return r.cancelClear()}),D(29,"Poni\u0161ti"),N()()()(),P(30,"div",7),pt(31,sK,5,2,"div",8),N()),t&2&&(Q(9),Wh("display",r.showTaskModal?"block":"none"),Q(4),tt("ngModel",r.taskInput),Q(6),Wh("display",r.showClearModal?"block":"none"),Q(12),Xe("ngForOf",r.columns))},dependencies:[ve,Cr,gt,Ft,cn,Jt],styles:["h3[_ngcontent-%COMP%]{margin-top:10px;color:#1e73be;text-align:center;font-family:Arial,sans-serif}.toolbar[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:center;margin:10px 0}.toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#1e73be;color:#fff;border:none;border-radius:6px;padding:10px 20px;cursor:pointer;font-weight:700;transition:background .2s}.toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.board[_ngcontent-%COMP%]{display:flex;justify-content:space-around;gap:20px;margin-top:20px;flex-wrap:wrap}.column[_ngcontent-%COMP%]{background:#fff;width:calc(33.333% - 15px);min-width:250px;padding:15px;border-radius:10px;box-shadow:0 2px 8px #0000001a}.column[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;color:#333;text-align:center;border-bottom:2px solid #1e73be;padding-bottom:10px}.taskList[_ngcontent-%COMP%]{min-height:300px;background:#f9f9f9;border-radius:8px;padding:10px}.task[_ngcontent-%COMP%]{background:#fff7a8;padding:12px;margin:10px 0;border-radius:8px;cursor:grab;-webkit-user-select:none;user-select:none;font-weight:500;box-shadow:0 2px 4px #0000001a;transition:all .2s;display:flex;justify-content:space-between;align-items:center}.task[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #00000026;transform:translateY(-2px)}.task[_ngcontent-%COMP%]:active{cursor:grabbing;opacity:.7;transform:scale(1.02)}.task-content[_ngcontent-%COMP%]{flex:1;margin-right:10px;word-wrap:break-word}.delete-btn[_ngcontent-%COMP%]{background:none;border:none;color:#e74c3c;font-size:18px;cursor:pointer;padding:0;width:24px;height:24px;display:flex;align-items:center;justify-content:center;transition:all .2s}.delete-btn[_ngcontent-%COMP%]:hover{color:#c0392b;font-weight:700}.modal[_ngcontent-%COMP%]{position:fixed;z-index:1000;left:0;top:0;width:100%;height:100%;background:#00000080}.modal-content[_ngcontent-%COMP%]{background:#fff;width:350px;margin:15% auto;padding:25px;border-radius:12px;text-align:center;box-shadow:0 4px 12px #0000004d}.modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;color:#1e73be}.modal-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:90%;padding:10px;margin:15px 0;border-radius:6px;border:2px solid #ddd;font-family:Arial,sans-serif;font-size:14px}.modal-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#1e73be;box-shadow:0 0 5px #007bff4d}.modal-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px;margin-top:20px}.modal-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;border:none;background:#1e73be;color:#fff;border-radius:6px;cursor:pointer;font-weight:700;transition:background .2s}.modal-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#0056b3}.modal-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:10px 0}@media(max-width:768px){.column[_ngcontent-%COMP%]{width:calc(50% - 10px)}.board[_ngcontent-%COMP%]{gap:10px}}@media(max-width:480px){.column[_ngcontent-%COMP%]{width:100%}.board[_ngcontent-%COMP%]{flex-direction:column}}"]})};var oK=["board"],Uv=class n{constructor(e){this.renderer=e}board;colors=["color1","color2","color3","color4","color5","color6"];sampleImages=["/assets/slike/slika1.png","/assets/slike/slika2.png","/assets/slike/slika3.png","/assets/slike/slika4.png"];sampleQuotes=["\u201CSvaka dovoljno napredna tehnologija jednaka je magiji.\u201D \u2013 Arthur C. Clarke","\u201CTehnologija je rije\u010D koja opisuje ne\u0161to \u0161to jo\u0161 ne funkcionira.\u201D - Douglas Adams","\u201CNe osnivate zajednice. Zajednice ve\u0107 postoje. Pitanje je kako im mo\u017Eete pomo\u0107i da budu bolje.\u201D \u2013 Mark Zuckerberg"];draggedElement=null;offset={x:0,y:0};ngAfterViewInit(){this.loadBoard()}addNote(){let e=this.renderer.createElement("div"),t=this.colors[Math.floor(Math.random()*this.colors.length)];this.renderer.addClass(e,"note"),this.renderer.addClass(e,t),this.renderer.setProperty(e,"contentEditable","true"),this.renderer.setProperty(e,"textContent","Napomena..."),this.renderer.setStyle(e,"left",Math.random()*300+"px"),this.renderer.setStyle(e,"top",Math.random()*300+"px");let r=this.renderer.createElement("button");this.renderer.addClass(r,"delete-btn"),this.renderer.setProperty(r,"textContent","\u2715"),this.renderer.listen(r,"click",()=>{this.renderer.removeChild(this.board.nativeElement,e),this.saveBoard()}),this.renderer.appendChild(e,r),this.renderer.appendChild(this.board.nativeElement,e),this.makeDraggable(e)}addImage(){let e=this.sampleImages[Math.floor(Math.random()*this.sampleImages.length)],t=this.renderer.createElement("div");this.renderer.addClass(t,"pinned-img"),this.renderer.setStyle(t,"left",Math.random()*300+"px"),this.renderer.setStyle(t,"top",Math.random()*300+"px");let r=this.renderer.createElement("img");this.renderer.setProperty(r,"src",e),this.renderer.setProperty(r,"alt","Slika na plo\u010Di");let i=this.renderer.createElement("button");this.renderer.addClass(i,"delete-btn"),this.renderer.setProperty(i,"textContent","\u2715"),this.renderer.listen(i,"click",()=>{this.renderer.removeChild(this.board.nativeElement,t),this.saveBoard()}),this.renderer.appendChild(t,r),this.renderer.appendChild(t,i),this.renderer.appendChild(this.board.nativeElement,t),this.makeDraggable(t)}addQuote(){let e=this.sampleQuotes[Math.floor(Math.random()*this.sampleQuotes.length)],t=this.renderer.createElement("div");this.renderer.addClass(t,"quote"),this.renderer.setProperty(t,"contentEditable","true"),this.renderer.setProperty(t,"textContent",e),this.renderer.setStyle(t,"left",Math.random()*300+"px"),this.renderer.setStyle(t,"top",Math.random()*300+"px");let r=this.renderer.createElement("button");this.renderer.addClass(r,"delete-btn"),this.renderer.setProperty(r,"textContent","\u2715"),this.renderer.listen(r,"click",()=>{this.renderer.removeChild(this.board.nativeElement,t),this.saveBoard()}),this.renderer.appendChild(t,r),this.renderer.appendChild(this.board.nativeElement,t),this.makeDraggable(t)}makeDraggable(e){let t=!1;this.renderer.listen(e,"mousedown",r=>{if(r.target.classList.contains("delete-btn"))return;if(e.getAttribute("contenteditable")==="true"){t=!0;return}t=!1,this.draggedElement=e;let i=e.getBoundingClientRect(),s=this.board.nativeElement.getBoundingClientRect();this.offset.x=r.clientX-i.left,this.offset.y=r.clientY-i.top,r.preventDefault()}),this.renderer.listen(document,"mousemove",r=>{if(this.draggedElement===e&&!t){let i=this.board.nativeElement.getBoundingClientRect(),s=r.clientX-i.left-this.offset.x,o=r.clientY-i.top-this.offset.y;s=Math.max(0,Math.min(s,i.width-e.offsetWidth)),o=Math.max(0,Math.min(o,i.height-e.offsetHeight)),this.renderer.setStyle(e,"left",s+"px"),this.renderer.setStyle(e,"top",o+"px")}}),this.renderer.listen(document,"mouseup",()=>{this.draggedElement===e&&(this.draggedElement=null,this.saveBoard())}),this.renderer.listen(e,"blur",()=>{this.saveBoard()})}saveBoard(){let e=[];this.board.nativeElement.querySelectorAll(".note, .quote, .pinned-img").forEach(r=>{let i=r,s=i.style.left,o=i.style.top;if(i.classList.contains("note")){let a=Array.from(i.classList).find(c=>c.startsWith("color"))||"color1";e.push({type:"note",text:i.textContent?.replace("\u2715","").trim()||"",left:s,top:o,color:a})}else if(i.classList.contains("quote"))e.push({type:"quote",text:i.textContent?.replace("\u2715","").trim()||"",left:s,top:o});else if(i.classList.contains("pinned-img")){let a=i.querySelector("img");e.push({type:"image",src:a.src,left:s,top:o})}}),localStorage.setItem("visionBoard",JSON.stringify(e)),alert("Plo\u010Da je sa\u010Duvana!")}loadBoard(){let e=localStorage.getItem("visionBoard");e&&JSON.parse(e).forEach(r=>{if(r.type==="note"){let i=this.renderer.createElement("div");this.renderer.addClass(i,"note"),this.renderer.addClass(i,r.color),this.renderer.setProperty(i,"contentEditable","true"),this.renderer.setProperty(i,"textContent",r.text),this.renderer.setStyle(i,"left",r.left),this.renderer.setStyle(i,"top",r.top);let s=this.renderer.createElement("button");this.renderer.addClass(s,"delete-btn"),this.renderer.setProperty(s,"textContent","\u2715"),this.renderer.listen(s,"click",()=>{this.renderer.removeChild(this.board.nativeElement,i),this.saveBoard()}),this.renderer.appendChild(i,s),this.renderer.appendChild(this.board.nativeElement,i),this.makeDraggable(i)}else if(r.type==="quote"){let i=this.renderer.createElement("div");this.renderer.addClass(i,"quote"),this.renderer.setProperty(i,"contentEditable","true"),this.renderer.setProperty(i,"textContent",r.text),this.renderer.setStyle(i,"left",r.left),this.renderer.setStyle(i,"top",r.top);let s=this.renderer.createElement("button");this.renderer.addClass(s,"delete-btn"),this.renderer.setProperty(s,"textContent","\u2715"),this.renderer.listen(s,"click",()=>{this.renderer.removeChild(this.board.nativeElement,i),this.saveBoard()}),this.renderer.appendChild(i,s),this.renderer.appendChild(this.board.nativeElement,i),this.makeDraggable(i)}else if(r.type==="image"){let i=this.renderer.createElement("div");this.renderer.addClass(i,"pinned-img"),this.renderer.setStyle(i,"left",r.left),this.renderer.setStyle(i,"top",r.top);let s=this.renderer.createElement("img");this.renderer.setProperty(s,"src",r.src),this.renderer.setProperty(s,"alt","Slika na plo\u010Di");let o=this.renderer.createElement("button");this.renderer.addClass(o,"delete-btn"),this.renderer.setProperty(o,"textContent","\u2715"),this.renderer.listen(o,"click",()=>{this.renderer.removeChild(this.board.nativeElement,i),this.saveBoard()}),this.renderer.appendChild(i,s),this.renderer.appendChild(i,o),this.renderer.appendChild(this.board.nativeElement,i),this.makeDraggable(i)}})}clearBoard(){confirm("Ako o\u010Disti\u0161 plo\u010Du, svi elementi \u0107e biti izbrisani. Nastavi?")&&(this.board.nativeElement.innerHTML="",localStorage.removeItem("visionBoard"),alert("Plo\u010Da je o\u010Di\u0161\u0107ena!"))}static \u0275fac=function(t){return new(t||n)(se(tr))};static \u0275cmp=ce({type:n,selectors:[["app-vision-board"]],viewQuery:function(t,r){if(t&1&&Zu(oK,5),t&2){let i;tc(i=nc())&&(r.board=i.first)}},decls:15,vars:0,consts:[["board",""],[1,"toolbar"],[3,"click"],[1,"vision-board"]],template:function(t,r){if(t&1){let i=kn();be(0,"h3"),D(1,"Vision Board"),Te(),be(2,"div",1)(3,"button",2),bi("click",function(){return it(i),st(r.addNote())}),D(4,"+ Post It"),Te(),be(5,"button",2),bi("click",function(){return it(i),st(r.addImage())}),D(6,"+ Slika"),Te(),be(7,"button",2),bi("click",function(){return it(i),st(r.addQuote())}),D(8,"+ Citat"),Te(),be(9,"button",2),bi("click",function(){return it(i),st(r.saveBoard())}),D(10,"Snimi"),Te(),be(11,"button",2),bi("click",function(){return it(i),st(r.clearBoard())}),D(12,"O\u010Disti plo\u010Du"),Te()(),Xu(13,"div",3,0)}},dependencies:[ve,gt],styles:["h3[_ngcontent-%COMP%]{margin-top:10px;color:#1e73be;text-align:center;font-family:Arial,sans-serif}.toolbar[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:center;margin:10px 0}.toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#1e73be;color:#fff;border:none;border-radius:6px;padding:6px 12px;cursor:pointer;font-weight:700;transition:background .2s}.toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.vision-board[_ngcontent-%COMP%]{position:relative;width:100%;min-height:600px;background-color:#f5f5f5;background-image:url(/assets/slike/pluto.png);background-position:center;background-size:cover;background-repeat:no-repeat;background-attachment:scroll;border:2px dashed #007BFF;border-radius:10px;overflow:hidden;margin-top:15px}.note[_ngcontent-%COMP%], .quote[_ngcontent-%COMP%], .pinned-img[_ngcontent-%COMP%]{position:absolute;padding:10px;border-radius:8px;cursor:move;-webkit-user-select:none;user-select:none;box-shadow:0 4px 8px #0003;transition:transform .1s ease}.note.color1[_ngcontent-%COMP%]{background:#fdfd96}.note.color2[_ngcontent-%COMP%]{background:#ffb6b9}.note.color3[_ngcontent-%COMP%]{background:#c6f1e7}.note.color4[_ngcontent-%COMP%]{background:#f6d6ad}.note.color5[_ngcontent-%COMP%]{background:#d4a5a5}.note.color6[_ngcontent-%COMP%]{background:#b5ead7}.note[contenteditable=true][_ngcontent-%COMP%], .quote[contenteditable=true][_ngcontent-%COMP%]{outline:none;min-width:100px;min-height:60px;font-size:14px}.quote[_ngcontent-%COMP%]{font-family:Georgia,serif;color:#4b382a;background:#fff5e6;font-style:italic;text-align:center;width:200px}.pinned-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:auto;border-radius:8px}.delete-btn[_ngcontent-%COMP%]{position:absolute;top:2px;right:4px;background:none;border:none;color:#b30000;font-size:18px;font-weight:700;cursor:pointer;opacity:0;transition:opacity .2s ease}.note[_ngcontent-%COMP%]:hover   .delete-btn[_ngcontent-%COMP%], .quote[_ngcontent-%COMP%]:hover   .delete-btn[_ngcontent-%COMP%], .pinned-img[_ngcontent-%COMP%]:hover   .delete-btn[_ngcontent-%COMP%]{opacity:1}.delete-btn[_ngcontent-%COMP%]:hover{color:red;transform:scale(1.2)}"]})};var GV=[{path:"",redirectTo:"quiz",pathMatch:"full"},{path:"quiz",component:Ov},{path:"bingo",component:Lv},{path:"whiteboard",component:Fv},{path:"kanban",component:Vv},{path:"vision-board",component:Uv}],jv=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ce({type:n,selectors:[["app-student-fun-zone"]],decls:15,vars:0,consts:[[1,"fun-zone-grid"],["routerLink","quiz",1,"fun-box"],["routerLink","bingo",1,"fun-box"],["routerLink","whiteboard",1,"fun-box"],["routerLink","kanban",1,"fun-box"],["routerLink","vision-board",1,"fun-box"],[1,"fun-child"]],template:function(t,r){t&1&&(P(0,"h2"),D(1,"Student Fun Zone"),N(),P(2,"div",0)(3,"div",1),D(4,"Quiz"),N(),P(5,"div",2),D(6,"Bingo"),N(),P(7,"div",3),D(8,"Whiteboard"),N(),P(9,"div",4),D(10,"Kanban"),N(),P(11,"div",5),D(12,"Vision Board"),N()(),P(13,"section",6),K(14,"router-outlet"),N())},dependencies:[gn,ls,Ri,ve],styles:["h2[_ngcontent-%COMP%]{text-align:center;color:#1e73be;margin-bottom:20px;font-family:Arial,sans-serif;font-weight:700}.fun-zone-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:20px;margin-top:20px}.fun-box[_ngcontent-%COMP%]{background-color:#1e73be;color:#fff;padding:30px;text-align:center;border-radius:10px;font-weight:700;font-size:16px;box-shadow:0 2px 5px #0003;cursor:pointer;transition:transform .2s,background-color .2s}.fun-box[_ngcontent-%COMP%]:hover{transform:scale(1.05);background-color:#0056b3}.fun-child[_ngcontent-%COMP%]{margin-top:30px}"]})};var Fi=class n{constructor(e){this.router=e}navigate(e,t){t?.preventDefault(),this.router.navigate([e]).catch(r=>console.error("Navigation error:",r))}static \u0275fac=function(t){return new(t||n)(se(at))};static \u0275cmp=ce({type:n,selectors:[["app-header"]],decls:24,vars:0,consts:[[1,"header-logo"],["routerLink","/",1,"logo"],["src","/assets/slike/logo-ipi.png","alt","Kursevi IPI"],["routerLink","/"],["routerLink","/courses"],["routerLink","/schedule"],["routerLink","/contact"],["type","button",1,"nav-btn","login-btn",3,"click"],["type","button",1,"nav-btn","register-btn",3,"click"]],template:function(t,r){t&1&&(P(0,"header")(1,"div",0)(2,"a",1),K(3,"img",2),N()(),P(4,"nav")(5,"ul")(6,"li")(7,"a",3),D(8,"O kursevima"),N()(),P(9,"li")(10,"a",4),D(11,"Popis kurseva"),N()(),P(12,"li")(13,"a",5),D(14,"Raspored"),N()(),P(15,"li")(16,"a",6),D(17,"Kontakt"),N()(),P(18,"li")(19,"button",7),ie("click",function(s){return r.navigate("/login",s)}),D(20,"Prijava"),N()(),P(21,"li")(22,"button",8),ie("click",function(s){return r.navigate("/register",s)}),D(23,"Registracija"),N()()()()())},dependencies:[gn,Ri,ve],styles:["header[_ngcontent-%COMP%]{width:100%;background-color:#fff;box-shadow:0 0 15px #0000001a;display:flex;flex-direction:column}.header-logo[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:15px 0;background-color:#fff}.logo[_ngcontent-%COMP%]{flex:0 0 auto;display:flex;align-items:center}header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:80px;width:auto}nav[_ngcontent-%COMP%]{width:100%;background-color:#1e73be;border-top:3px solid #1565c0;border-bottom:3px solid #1565c0}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;justify-content:center;gap:15px;flex-wrap:wrap}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-transform:uppercase;font-weight:600;letter-spacing:.5px;text-decoration:none;border-radius:4px;transition:background .3s ease,color .3s ease;padding:12px 15px;font-size:13px;display:inline-block}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#0d47a1}.nav-btn[_ngcontent-%COMP%]{padding:10px 18px;font-size:13px;font-weight:700;border-radius:6px;border:2px solid transparent;cursor:pointer;transition:all .3s ease;box-shadow:0 3px 6px #0000001a}.login-btn[_ngcontent-%COMP%]{background:linear-gradient(145deg,#0d47a1,#1565c0);color:#fff;border:2px solid #0d47a1}.login-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(145deg,#051c5e,#0d2a70);box-shadow:0 5px 10px #0003}.register-btn[_ngcontent-%COMP%]{background:linear-gradient(145deg,#0d47a1,#1565c0);color:#fff;border:2px solid #0d47a1}.register-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(145deg,#051c5e,#0d2a70);box-shadow:0 5px 10px #0003}"]})};var Bv=class n{router=U(at);navigate(e,t){t&&t.preventDefault(),this.router.navigate([e])}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ce({type:n,selectors:[["app-home"]],decls:58,vars:0,consts:[["id","about"],["src","/assets/slike/tecajevi1.png","alt","Kursevi IPI"],["href","http://ipi-akademija.ba/","target","_blank"],["href","http://hr.wikipedia.org/wiki/Internet","target","_blank"],["href","http://www.linux.com","target","_blank"],["href","mailto:info@ipi-akademija.ba"]],template:function(t,r){t&1&&(K(0,"app-header"),P(1,"article",0)(2,"h2"),D(3,"O kursevima"),N(),K(4,"img",1),P(5,"p")(6,"a",2),D(7,"IPI akademija"),N(),D(8," vi\u0161e od pet godina odr\u017Eava stru\u010Dne kurseve iz podru\u010Dja ICT-a."),N(),P(9,"p")(10,"strong"),D(11,"Kursevi IPI"),N(),D(12," namijenjeni su svima zainteresiranima za stjecanje osnovnih znanja o upotrebi informacijsko-komunikacijskih tehnologija."),N(),P(13,"p"),D(14,"Kursevi su podijeljeni u nekoliko skupina:"),N(),P(15,"ul")(16,"li"),D(17,"kursevi iz osnova upotrebe ra\u010Dunara i "),P(18,"a",3),D(19,"Interneta"),N()(),P(20,"li"),D(21,"kursevi o "),P(22,"em"),D(23,"web"),N(),D(24,"-tehnologijama, izradi "),P(25,"em"),D(26,"web"),N(),D(27,"-stranica i "),P(28,"em"),D(29,"web"),N(),D(30,"-sjedi\u0161ta"),N(),P(31,"li"),D(32,"kursevi o informati\u010Dkoj sigurnosti"),N(),P(33,"li"),D(34,"uvodni kursevi o "),P(35,"a",4),D(36,"Linuxu"),N(),D(37," i drugi"),N()(),P(38,"p"),D(39,"Kursevi se odr\u017Eavaju u moderno opremljenim, klimatiziranim u\u010Dionicama veli\u010Dine 50m"),P(40,"sup"),D(41,"2"),N(),D(42,"."),N(),P(43,"p"),D(44,"Na osnovne kurseve mogu se prijaviti svi zainteresirani polaznici. Za polaznike koji su \u010Dlanovi akademske zajednice (studenti, nastavnici te uposlenici visokih u\u010Dili\u0161ta i javnih znanstvenih instituta) osigurane su posebne pogodnosti (znatno ni\u017Ee cijene ili "),P(45,"strong"),D(46,"besplatni kursevi"),N(),D(47,"), a neke od pogodnosti primjenjuju se i na polaznike koji nisu \u010Dlanovi akademske zajednice. I za nezaposlene su osigurani popusti za poha\u0111anje kurseva."),N(),P(48,"p"),D(49,"Za sva pitanja vezano za kurseve obratite se na "),P(50,"em"),D(51,"e-mail"),N(),D(52," adresu "),P(53,"a",5),D(54,"info@ipi-akademija.ba"),N(),D(55,"."),N()(),P(56,"footer"),D(57,"\xA9 Internacionalna poslovno-informaciona akademija Tuzla"),N())},dependencies:[ve,gn,Fi],styles:["html[_ngcontent-%COMP%]{background:#e9f0f7}body[_ngcontent-%COMP%]{font-size:14px;font-family:Arial,Verdana,sans-serif;color:#2c3e50;margin:0;line-height:1.6}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:active{color:#1e73be;font-weight:700;transition:color .2s ease}a[_ngcontent-%COMP%]:hover{color:#0d47a1;text-decoration:underline}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#1565c0}article[_ngcontent-%COMP%]{width:80%;margin:0 auto;background-color:#fff;box-shadow:0 0 15px #0000001a;padding:30px 50px;box-sizing:border-box;border-bottom:3px solid #1e73be;min-height:calc(100vh - 220px);border-radius:0 0 8px 8px}article[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{float:right;margin-right:15px;margin-bottom:15px;border-radius:6px;box-shadow:0 0 10px #0000001a;max-width:300px;width:100%;height:auto}article[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:15px 0;padding-left:40px}article[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px}footer[_ngcontent-%COMP%]{width:80%;margin:0 auto;padding:20px 0;background:#1e73be;color:#fff;text-align:center;box-shadow:0 0 15px #0000001a;border-radius:0 0 8px 8px}@media(max-width:768px){article[_ngcontent-%COMP%]{width:90%;padding:20px 30px}article[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{float:none;display:block;margin:20px auto}article[_ngcontent-%COMP%], footer[_ngcontent-%COMP%]{width:90%}}"]})};var WV=()=>{};var YV=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},aK=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],a=n[t++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},$v={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,a=o?n[i+1]:0,c=i+2<n.length,d=c?n[i+2]:0,h=s>>2,m=(s&3)<<4|a>>4,I=(a&15)<<2|d>>6,R=d&63;c||(R=64,o||(I=64)),r.push(t[h],t[m],t[I],t[R])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(YV(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):aK(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let d=i<n.length?t[n.charAt(i)]:64;++i;let m=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||d==null||m==null)throw new TD;let I=s<<2|a>>4;if(r.push(I),d!==64){let R=a<<4&240|d>>2;if(r.push(R),m!==64){let k=d<<6&192|m;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},TD=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},cK=function(n){let e=YV(n);return $v.encodeByteArray(e,!0)},cp=function(n){return cK(n).replace(/\./g,"")},Hv=function(n){try{return $v.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function SD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var uK=()=>SD().__FIREBASE_DEFAULTS__,lK=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},dK=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Hv(n[1]);return e&&JSON.parse(e)},qv=()=>{try{return WV()||uK()||lK()||dK()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},DD=n=>{var e,t;return(t=(e=qv())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},JV=n=>{let e=DD(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},AD=()=>{var n;return(n=qv())===null||n===void 0?void 0:n.config},RD=n=>{var e;return(e=qv())===null||e===void 0?void 0:e[`_${n}`]};var wc=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Jo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zv(n){return(await fetch(n,{credentials:"include"})).ok}function XV(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[cp(JSON.stringify(t)),cp(JSON.stringify(o)),""].join(".")}var ap={};function hK(){let n={prod:[],emulator:[]};for(let e of Object.keys(ap))ap[e]?n.emulator.push(e):n.prod.push(e);return n}function fK(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var KV=!1;function Gv(n,e){if(typeof window>"u"||typeof document>"u"||!Jo(window.location.host)||ap[n]===e||ap[n]||KV)return;ap[n]=e;function t(I){return`__firebase__banner__${I}`}let r="__firebase__banner",s=hK().prod.length>0;function o(){let I=document.getElementById(r);I&&I.remove()}function a(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function c(I,R){I.setAttribute("width","24"),I.setAttribute("id",R),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function d(){let I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{KV=!0,o()},I}function h(I,R){I.setAttribute("id",R),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function m(){let I=fK(r),R=t("text"),k=document.getElementById(R)||document.createElement("span"),V=t("learnmore"),O=document.getElementById(V)||document.createElement("a"),q=t("preprendIcon"),X=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){let ne=I.element;a(ne),h(O,V);let Re=d();c(X,q),ne.append(X,k,O,Re),document.body.appendChild(ne)}s?(k.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function pK(){var n;let e=(n=qv())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function e2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function t2(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function n2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function r2(){let n=un();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function i2(){return!pK()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function up(){try{return typeof indexedDB=="object"}catch{return!1}}function s2(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var mK="FirebaseError",cr=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=mK,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ni.prototype.create)}},ni=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?gK(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new cr(i,a,r)}};function gK(n,e){return n.replace(yK,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var yK=/\{\$([^}]+)}/g;function o2(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Vi(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if(QV(s)&&QV(o)){if(!Vi(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function QV(n){return n!==null&&typeof n=="object"}function lp(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function cd(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ud(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function a2(n,e){let t=new CD(n,e);return t.subscribe.bind(t)}var CD=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");_K(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=bD),i.error===void 0&&(i.error=bD),i.complete===void 0&&(i.complete=bD);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function _K(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function bD(){}var bIe=14400*1e3;function qn(n){return n&&n._delegate?n._delegate:n}var On=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var bc="[DEFAULT]";var PD=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new wc;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(EK(e))try{this.getOrInitializeService({instanceIdentifier:bc})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=bc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=bc){return this.instances.has(e)}getOptions(e=bc){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vK(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=bc){return this.component?this.component.multipleInstances?e:bc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function vK(n){return n===bc?void 0:n}function EK(n){return n.instantiationMode==="EAGER"}var Wv=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new PD(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var IK=[],ke=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(ke||{}),wK={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},bK=ke.INFO,TK={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},CK=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=TK[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ui=class{constructor(e){this.name=e,this._logLevel=bK,this._logHandler=CK,this._userLogHandler=null,IK.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wK[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}};var kD=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(SK(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function SK(n){let e=n.getComponent();return e?.type==="VERSION"}var xD="@firebase/app",c2="0.13.2";var Cs=new Ui("@firebase/app"),DK="@firebase/app-compat",AK="@firebase/analytics-compat",RK="@firebase/analytics",PK="@firebase/app-check-compat",NK="@firebase/app-check",kK="@firebase/auth",xK="@firebase/auth-compat",MK="@firebase/database",OK="@firebase/data-connect",LK="@firebase/database-compat",FK="@firebase/functions",VK="@firebase/functions-compat",UK="@firebase/installations",jK="@firebase/installations-compat",BK="@firebase/messaging",$K="@firebase/messaging-compat",HK="@firebase/performance",qK="@firebase/performance-compat",zK="@firebase/remote-config",GK="@firebase/remote-config-compat",WK="@firebase/storage",KK="@firebase/storage-compat",QK="@firebase/firestore",YK="@firebase/ai",JK="@firebase/firestore-compat",XK="firebase",ZK="11.10.0";var MD="[DEFAULT]",eQ={[xD]:"fire-core",[DK]:"fire-core-compat",[RK]:"fire-analytics",[AK]:"fire-analytics-compat",[NK]:"fire-app-check",[PK]:"fire-app-check-compat",[kK]:"fire-auth",[xK]:"fire-auth-compat",[MK]:"fire-rtdb",[OK]:"fire-data-connect",[LK]:"fire-rtdb-compat",[FK]:"fire-fn",[VK]:"fire-fn-compat",[UK]:"fire-iid",[jK]:"fire-iid-compat",[BK]:"fire-fcm",[$K]:"fire-fcm-compat",[HK]:"fire-perf",[qK]:"fire-perf-compat",[zK]:"fire-rc",[GK]:"fire-rc-compat",[WK]:"fire-gcs",[KK]:"fire-gcs-compat",[QK]:"fire-fst",[JK]:"fire-fst-compat",[YK]:"fire-vertex","fire-js":"fire-js",[XK]:"fire-js-all"};var dp=new Map,tQ=new Map,OD=new Map;function u2(n,e){try{n.container.addComponent(e)}catch(t){Cs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ri(n){let e=n.name;if(OD.has(e))return Cs.debug(`There were multiple attempts to register component ${e}.`),!1;OD.set(e,n);for(let t of dp.values())u2(t,n);for(let t of tQ.values())u2(t,n);return!0}function ld(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ur(n){return n==null?!1:n.settings!==void 0}var nQ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xo=new ni("app","Firebase",nQ);var LD=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new On("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xo.create("app-deleted",{appName:this._name})}};var Zo=ZK;function UD(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:MD,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Xo.create("bad-app-name",{appName:String(i)});if(t||(t=AD()),!t)throw Xo.create("no-options");let s=dp.get(i);if(s){if(Vi(t,s.options)&&Vi(r,s.config))return s;throw Xo.create("duplicate-app",{appName:i})}let o=new Wv(i);for(let c of OD.values())o.addComponent(c);let a=new LD(t,r,o);return dp.set(i,a),a}function Tc(n=MD){let e=dp.get(n);if(!e&&n===MD&&AD())return UD();if(!e)throw Xo.create("no-app",{appName:n});return e}function Kv(){return Array.from(dp.values())}function It(n,e,t){var r;let i=(r=eQ[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cs.warn(a.join(" "));return}ri(new On(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var rQ="firebase-heartbeat-database",iQ=1,hp="firebase-heartbeat-store",ND=null;function f2(){return ND||(ND=u_(rQ,iQ,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(hp)}catch(t){console.warn(t)}}}}).catch(n=>{throw Xo.create("idb-open",{originalErrorMessage:n.message})})),ND}async function sQ(n){try{let t=(await f2()).transaction(hp),r=await t.objectStore(hp).get(p2(n));return await t.done,r}catch(e){if(e instanceof cr)Cs.warn(e.message);else{let t=Xo.create("idb-get",{originalErrorMessage:e?.message});Cs.warn(t.message)}}}async function l2(n,e){try{let r=(await f2()).transaction(hp,"readwrite");await r.objectStore(hp).put(e,p2(n)),await r.done}catch(t){if(t instanceof cr)Cs.warn(t.message);else{let r=Xo.create("idb-set",{originalErrorMessage:t?.message});Cs.warn(r.message)}}}function p2(n){return`${n.name}!${n.options.appId}`}var oQ=1024,aQ=30,FD=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new VD(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=d2();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>aQ){let o=uQ(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Cs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=d2(),{heartbeatsToSend:r,unsentEntries:i}=cQ(this._heartbeatsCache.heartbeats),s=cp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Cs.warn(t),""}}};function d2(){return new Date().toISOString().substring(0,10)}function cQ(n,e=oQ){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),h2(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),h2(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var VD=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return up()?s2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let t=await sQ(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){let i=await this.read();return l2(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){let i=await this.read();return l2(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}};function h2(n){return cp(JSON.stringify({version:2,heartbeats:n})).length}function uQ(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function lQ(n){ri(new On("platform-logger",e=>new kD(e),"PRIVATE")),ri(new On("heartbeat",e=>new FD(e),"PRIVATE")),It(xD,c2,n),It(xD,c2,"esm2017"),It("fire-js","")}lQ("");var dQ="firebase",hQ="11.10.0";It(dQ,hQ,"app");function m2(n){n===void 0&&(n=U(vt));let e=n.get(ju);return t=>new De(r=>{let i=e.add(),s=!1;function o(){s||(i(),s=!0)}let a=t.subscribe({next:c=>{r.next(c),o()},complete:()=>{r.complete(),o()},error:c=>{r.error(c),o()}});return a.add(()=>{r.unsubscribe(),o()}),a})}var ea=new co("ANGULARFIRE2_VERSION");function fp(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var hd=(n,e)=>{let t=e?[e]:Kv(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},dd=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(dd||{}),g2=hb()&&typeof Zone<"u"?dd.WARN:dd.SILENT;var Qv=class{zone;delegate;constructor(e,t=PI){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(o){i?i.runGuarded(()=>{e.apply(this,[o])}):e.apply(this,[o])};return this.delegate.schedule(s,t,r)}},ta=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=U(lt);this.outsideAngular=t.runOutsideAngular(()=>new Qv(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Qv(typeof Zone>"u"?void 0:Zone.current,RI))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),y2=!1;function fQ(n,e){!y2&&(g2>dd.SILENT||hb())&&(y2=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),g2>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function pQ(n){let e=U(lt,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Cc(n){let e=U(lt,{optional:!0});return e?e.run(()=>n()):n()}var mQ=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Nt(t,()=>Cc(()=>n.apply(void 0,r)))),ji=(n,e,t)=>(t||=e?dd.WARN:dd.VERBOSE,function(){let r,i=arguments,s,o,a;try{s=U(ta),o=U(ju),a=U(St)}catch{return fQ(n,t),n.apply(this,i)}for(let d=0;d<arguments.length;d++)typeof i[d]=="function"&&(e&&(r||=Cc(()=>o.add())),i[d]=mQ(i[d],r,a));let c=pQ(()=>n.apply(this,i));return e?c instanceof De?c.pipe(oo(s.outsideAngular),so(s.insideAngular),m2(a)):c instanceof Promise?Cc(()=>{let d=o.add();return new Promise((h,m)=>{c.then(I=>Nt(a,()=>Cc(()=>h(I))),I=>Nt(a,()=>Cc(()=>m(I)))).finally(d)})}):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:Cc(()=>c):c instanceof De?c.pipe(oo(s.outsideAngular),so(s.insideAngular)):Cc(()=>c)});var Ss=class{constructor(e){return e}},Sc=class{constructor(){return Kv()}};function gQ(n){return n&&n.length===1?n[0]:new Ss(Tc())}var jD=new Z("angularfire2._apps"),yQ={provide:Ss,useFactory:gQ,deps:[[new er,jD]]},_Q={provide:Sc,deps:[[new er,jD]]};function vQ(n){return(e,t)=>{let r=t.get(Za);It("angularfire",ea.full,"core"),It("angularfire",ea.full,"app"),It("angular",ZI.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Ss(i)}}function _2(n,...e){return mr([yQ,_Q,{provide:jD,useFactory:vQ(n),multi:!0,deps:[lt,vt,ta,...e]}])}var v2=ji(UD,!0);var EQ=new Map,IQ={activated:!1,tokenObservers:[]},wQ={initialized:!1,enabled:!1};function ii(n){return EQ.get(n)||Object.assign({},IQ)}function b2(){return wQ}var bQ="https://content-firebaseappcheck.googleapis.com/v1";var TQ="exchangeDebugToken",E2={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},_we=1440*60*1e3;var HD=class{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new wc,this.pending.promise.catch(t=>{}),await CQ(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new wc,this.pending.promise.catch(t=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function CQ(n){return new Promise(e=>{setTimeout(e,n)})}var SQ={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},na=new ni("appCheck","AppCheck",SQ);function T2(n){if(!ii(n).activated)throw na.create("use-before-activation",{appName:n.name})}async function C2({url:n,body:e},t){let r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){let m=await i.getHeartbeatsHeader();m&&(r["X-Firebase-Client"]=m)}let s={method:"POST",body:JSON.stringify(e),headers:r},o;try{o=await fetch(n,s)}catch(m){throw na.create("fetch-network-error",{originalErrorMessage:m?.message})}if(o.status!==200)throw na.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(m){throw na.create("fetch-parse-error",{originalErrorMessage:m?.message})}let c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw na.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});let d=Number(c[1])*1e3,h=Date.now();return{token:a.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}}function S2(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${bQ}/projects/${t}/apps/${r}:${TQ}?key=${i}`,body:{debug_token:e}}}var DQ="firebase-app-check-database",AQ=1,qD="firebase-app-check-store";var Yv=null;function RQ(){return Yv||(Yv=new Promise((n,e)=>{try{let t=indexedDB.open(DQ,AQ);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(na.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(qD,{keyPath:"compositeKey"})}}}catch(t){e(na.create("storage-open",{originalErrorMessage:t?.message}))}}),Yv)}function PQ(n,e){return NQ(kQ(n),e)}async function NQ(n,e){let r=(await RQ()).transaction(qD,"readwrite"),s=r.objectStore(qD).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{var d;a(na.create("storage-set",{originalErrorMessage:(d=c.target.error)===null||d===void 0?void 0:d.message}))}})}function kQ(n){return`${n.options.appId}-${n.name}`}var pp=new Ui("@firebase/app-check");function BD(n,e){return up()?PQ(n,e).catch(t=>{pp.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function D2(){return b2().enabled}async function A2(){let n=b2();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}var xQ={error:"UNKNOWN_ERROR"};function MQ(n){return $v.encodeString(JSON.stringify(n),!1)}async function zD(n,e=!1,t=!1){let r=n.app;T2(r);let i=ii(r),s=i.token,o;if(s&&!mp(s)&&(i.token=void 0,s=void 0),!s){let d=await i.cachedTokenPromise;d&&(mp(d)?s=d:await BD(r,void 0))}if(!e&&s&&mp(s))return{token:s.token};let a=!1;if(D2())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=C2(S2(r,await A2()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let d=await i.exchangeTokenPromise;return await BD(r,d),i.token=d,{token:d.token}}catch(d){return d.code==="appCheck/throttled"||d.code==="appCheck/initial-throttle"?pp.warn(d.message):t&&pp.error(d),$D(d)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),s=await ii(r).exchangeTokenPromise}catch(d){d.code==="appCheck/throttled"||d.code==="appCheck/initial-throttle"?pp.warn(d.message):t&&pp.error(d),o=d}let c;return s?o?mp(s)?c={token:s.token,internalError:o}:c=$D(o):(c={token:s.token},i.token=s,await BD(r,s)):c=$D(o),a&&VQ(r,c),c}async function OQ(n){let e=n.app;T2(e);let{provider:t}=ii(e);if(D2()){let r=await A2(),{token:i}=await C2(S2(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=await t.getToken();return{token:r}}}function LQ(n,e,t,r){let{app:i}=n,s=ii(i),o={next:t,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&mp(s.token)){let a=s.token;Promise.resolve().then(()=>{t({token:a.token}),I2(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>I2(n))}function R2(n,e){let t=ii(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function I2(n){let{app:e}=n,t=ii(e),r=t.tokenRefresher;r||(r=FQ(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function FQ(n){let{app:e}=n;return new HD(async()=>{let t=ii(e),r;if(t.token?r=await zD(n,!0):r=await zD(n),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{let t=ii(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},E2.RETRIAL_MIN_WAIT,E2.RETRIAL_MAX_WAIT)}function VQ(n,e){let t=ii(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function mp(n){return n.expireTimeMillis-Date.now()>0}function $D(n){return{token:MQ(xQ),error:n}}var GD=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=ii(this.app);for(let t of e)R2(this.app,t.next);return Promise.resolve()}};function UQ(n,e){return new GD(n,e)}function jQ(n){return{getToken:e=>zD(n,e),getLimitedUseToken:()=>OQ(n),addTokenListener:e=>LQ(n,"INTERNAL",e),removeTokenListener:e=>R2(n.app,e)}}var BQ="@firebase/app-check",$Q="0.10.1";var HQ="app-check",w2="app-check-internal";function qQ(){ri(new On(HQ,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return UQ(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(w2).initialize()})),ri(new On(w2,n=>{let e=n.getProvider("app-check").getImmediate();return jQ(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),It(BQ,$Q)}qQ();var zQ="app-check";var fd=class{constructor(){return hd(zQ)}};var GQ=["localhost","0.0.0.0","127.0.0.1"],Pwe=typeof window<"u"&&GQ.includes(window.location.hostname);function G2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var W2=G2,K2=new ni("auth","Firebase",G2());var nE=new Ui("@firebase/auth");function WQ(n,...e){nE.logLevel<=ke.WARN&&nE.warn(`Auth (${Zo}): ${n}`,...e)}function Xv(n,...e){nE.logLevel<=ke.ERROR&&nE.error(`Auth (${Zo}): ${n}`,...e)}function $i(n,...e){throw gA(n,...e)}function Dc(n,...e){return gA(n,...e)}function Q2(n,e,t){let r=Object.assign(Object.assign({},W2()),{[e]:t});return new ni("auth","Firebase",r).create(e,{appName:n.name})}function sa(n){return Q2(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gA(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return K2.create(n,...e)}function de(n,e,...t){if(!n)throw gA(e,...t)}function Ds(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Xv(e),new Error(e)}function oa(n,e){n||Ds(e)}function YD(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function KQ(){return P2()==="http:"||P2()==="https:"}function P2(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function QQ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KQ()||t2()||"connection"in navigator)?navigator.onLine:!0}function YQ(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Ac=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,oa(t>e,"Short delay should be less than long delay!"),this.isMobile=ZV()||n2()}get(){return QQ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function yA(n,e){oa(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var rE=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var JQ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var XQ=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ZQ=new Ac(3e4,6e4);function Pc(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function aa(n,e,t,r,i={}){return Y2(n,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});let a=lp(Object.assign({key:n.config.apiKey},o)).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);let d=Object.assign({method:e,headers:c},s);return e2()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&Jo(n.emulatorConfig.host)&&(d.credentials="include"),rE.fetch()(await J2(n,n.config.apiHost,t,a),d)})}async function Y2(n,e,t){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},JQ),e);try{let i=new JD(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=await s.json();if("needConfirmation"in o)throw Jv(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,d]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jv(n,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Jv(n,"email-already-in-use",o);if(c==="USER_DISABLED")throw Jv(n,"user-disabled",o);let h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Q2(n,h,d);$i(n,h)}}catch(i){if(i instanceof cr)throw i;$i(n,"network-request-failed",{message:String(i)})}}async function pE(n,e,t,r,i={}){let s=await aa(n,e,t,r,i);return"mfaPendingCredential"in s&&$i(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function J2(n,e,t,r){let i=`${e}${t}?${r}`,s=n,o=s.config.emulator?yA(n.config,i):`${n.config.apiScheme}://${i}`;return XQ.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function eY(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var JD=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Dc(this.auth,"network-request-failed")),ZQ.get())})}};function Jv(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Dc(n,e,r);return i.customData._tokenResponse=t,i}function N2(n){return n!==void 0&&n.enterprise!==void 0}var XD=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return eY(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};async function tY(n,e){return aa(n,"GET","/v2/recaptchaConfig",Pc(n,e))}async function nY(n,e){return aa(n,"POST","/v1/accounts:delete",e)}async function iE(n,e){return aa(n,"POST","/v1/accounts:lookup",e)}function yp(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _A(n,e=!1){let t=qn(n),r=await t.getIdToken(e),i=vA(r);de(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:yp(WD(i.auth_time)),issuedAtTime:yp(WD(i.iat)),expirationTime:yp(WD(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function WD(n){return Number(n)*1e3}function vA(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Xv("JWT malformed, contained fewer than 3 sections"),null;try{let i=Hv(t);return i?JSON.parse(i):(Xv("Failed to decode base64 JWT payload"),null)}catch(i){return Xv("Caught error parsing JWT payload as JSON",i?.toString()),null}}function k2(n){let e=vA(n);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function vp(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof cr&&rY(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function rY({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var ZD=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var Ep=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=yp(this.lastLoginAt),this.creationTime=yp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function sE(n){var e;let t=n.auth,r=await n.getIdToken(),i=await vp(n,iE(t,{idToken:r}));de(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?X2(s.providerUserInfo):[],a=iY(n.providerData,o),c=n.isAnonymous,d=!(n.email&&s.passwordHash)&&!a?.length,h=c?d:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ep(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(n,m)}async function EA(n){let e=qn(n);await sE(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function iY(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function X2(n){return n.map(e=>{var{providerId:t}=e,r=NI(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function sY(n,e){let t=await Y2(n,{},async()=>{let r=lp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=await J2(n,i,"/v1/token",`key=${s}`),a=await n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return n.emulatorConfig&&Jo(n.emulatorConfig.host)&&(c.credentials="include"),rE.fetch()(o,c)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function oY(n,e){return aa(n,"POST","/v2/accounts:revokeToken",Pc(n,e))}var _p=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):k2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){de(e.length!==0,"internal-error");let t=k2(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:r,refreshToken:i,expiresIn:s}=await sY(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(de(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(de(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(de(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Ds("not implemented")}};function ra(n,e){de(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var ia=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=NI(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ZD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ep(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){let t=await vp(this,this.stsTokenManager.getToken(this.auth,e));return de(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return _A(this,e)}reload(){return EA(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await sE(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ur(this.auth.app))return Promise.reject(sa(this.auth));let e=await this.getIdToken();return await vp(this,nY(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,c,d,h;let m=(r=t.displayName)!==null&&r!==void 0?r:void 0,I=(i=t.email)!==null&&i!==void 0?i:void 0,R=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,k=(o=t.photoURL)!==null&&o!==void 0?o:void 0,V=(a=t.tenantId)!==null&&a!==void 0?a:void 0,O=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,q=(d=t.createdAt)!==null&&d!==void 0?d:void 0,X=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:ne,emailVerified:Re,isAnonymous:ut,providerData:Pe,stsTokenManager:T}=t;de(ne&&T,e,"internal-error");let _=_p.fromJSON(this.name,T);de(typeof ne=="string",e,"internal-error"),ra(m,e.name),ra(I,e.name),de(typeof Re=="boolean",e,"internal-error"),de(typeof ut=="boolean",e,"internal-error"),ra(R,e.name),ra(k,e.name),ra(V,e.name),ra(O,e.name),ra(q,e.name),ra(X,e.name);let E=new n({uid:ne,auth:e,email:I,emailVerified:Re,displayName:m,isAnonymous:ut,photoURL:k,phoneNumber:R,tenantId:V,stsTokenManager:_,createdAt:q,lastLoginAt:X});return Pe&&Array.isArray(Pe)&&(E.providerData=Pe.map(b=>Object.assign({},b))),O&&(E._redirectEventId=O),E}static async _fromIdTokenResponse(e,t,r=!1){let i=new _p;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await sE(s),s}static async _fromGetAccountInfoResponse(e,t,r){let i=t.users[0];de(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?X2(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new _p;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ep(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,d),c}};var x2=new Map;function As(n){oa(n instanceof Function,"Expected a class definition");let e=x2.get(n);return e?(oa(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,x2.set(n,e),e)}var aY=(()=>{class n{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){let r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),eA=aY;function Zv(n,e,t){return`firebase:${n}:${e}:${t}`}var oE=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Zv(this.userKey,i.apiKey,s),this.fullPersistenceKey=Zv("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=await iE(this.auth,{idToken:e}).catch(()=>{});return t?ia._fromGetAccountInfoResponse(this.auth,t,e):null}return ia._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new n(As(eA),e,r);let i=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d),s=i[0]||As(eA),o=Zv(r,e.config.apiKey,e.name),a=null;for(let d of t)try{let h=await d._get(o);if(h){let m;if(typeof h=="string"){let I=await iE(e,{idToken:h}).catch(()=>{});if(!I)break;m=await ia._fromGetAccountInfoResponse(e,I,h)}else m=ia._fromJSON(e,h);d!==s&&(a=m),s=d;break}}catch{}let c=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new n(s,e,r):(s=c[0],a&&await s._set(o,a.toJSON()),await Promise.all(t.map(async d=>{if(d!==s)try{await d._remove(o)}catch{}})),new n(s,e,r))}};function M2(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Z2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iU(e))return"Blackberry";if(sU(e))return"Webos";if(eU(e))return"Safari";if((e.includes("chrome/")||tU(e))&&!e.includes("edge/"))return"Chrome";if(rU(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function Z2(n=un()){return/firefox\//i.test(n)}function eU(n=un()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tU(n=un()){return/crios\//i.test(n)}function nU(n=un()){return/iemobile/i.test(n)}function rU(n=un()){return/android/i.test(n)}function iU(n=un()){return/blackberry/i.test(n)}function sU(n=un()){return/webos/i.test(n)}function IA(n=un()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function cY(n=un()){var e;return IA(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function uY(){return r2()&&document.documentMode===10}function oU(n=un()){return IA(n)||rU(n)||sU(n)||iU(n)||/windows phone/i.test(n)||nU(n)}function aU(n,e=[]){let t;switch(n){case"Browser":t=M2(un());break;case"Worker":t=`${M2(un())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Zo}/${r}`}var tA=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function lY(n,e={}){return aa(n,"GET","/v2/passwordPolicy",Pc(n,e))}var dY=6,nA=class{constructor(e){var t,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:dY,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var rA=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aE(this),this.idTokenSubscription=new aE(this),this.beforeStateQueue=new tA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=K2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=As(t)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await oE.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await iE(this,{idToken:e}),r=await ia._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ur(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=await this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await sE(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YQ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ur(this.app))return Promise.reject(sa(this));let t=e?qn(e):null;return t&&de(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ur(this.app)?Promise.reject(sa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ur(this.app)?Promise.reject(sa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(As(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await lY(this),t=new nA(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ni("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await oY(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){let r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&As(e)||this._popupRedirectResolver;de(t,this,"argument-error"),this.redirectPersistenceManager=await oE.create(this,[As(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(t);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aU(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);let i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(ur(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&WQ(`Error while retrieving App Check token: ${t.error}`),t?.token}};function pd(n){return qn(n)}var aE=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=a2(t=>this.observer=t)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var mE={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hY(n){mE=n}function cU(n){return mE.loadJS(n)}function fY(){return mE.recaptchaEnterpriseScript}function pY(){return mE.gapiScript}function uU(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var iA=class{constructor(){this.enterprise=new sA}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},sA=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var mY="recaptcha-enterprise",lU="NO_RECAPTCHA",oA=class{constructor(e){this.type=mY,this.auth=pd(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{tY(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let d=new XD(c);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,o(d.siteKey)}}).catch(c=>{a(c)})})}function i(s,o,a){let c=window.grecaptcha;N2(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(d=>{o(d)}).catch(()=>{o(lU)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new iA().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!t&&N2(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=fY();c.length!==0&&(c+=a),cU(c).then(()=>{i(a,s,o)}).catch(d=>{o(d)})}}).catch(a=>{o(a)})})}};async function gp(n,e,t,r=!1,i=!1){let s=new oA(n),o;if(i)o=lU;else try{o=await s.verify(t)}catch{o=await s.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,d=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function O2(n,e,t,r,i){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=await gp(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=await gp(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){let a=await gp(n,e,t);return r(n,a).catch(async c=>{var d;if(((d=n._getRecaptchaConfig())===null||d===void 0?void 0:d.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let h=await gp(n,e,t,!1,!0);return r(n,h)}return Promise.reject(c)})}else{let a=await gp(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")}function wA(n,e){let t=ld(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(Vi(s,e??{}))return i;$i(i,"already-initialized")}return t.initialize({options:e})}function gY(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(As);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function bA(n,e,t){let r=pd(n);de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=dU(e),{host:o,port:a}=yY(e),c=a===null?"":`:${a}`,d={url:`${s}//${o}${c}/`},h=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){de(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),de(Vi(d,r.config.emulator)&&Vi(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Jo(o)?(zv(`${s}//${o}${c}`),Gv("Auth",!0)):i||_Y()}function dU(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function yY(n){let e=dU(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:L2(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:L2(o)}}}function L2(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function _Y(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Ip=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ds("not implemented")}_getIdTokenResponse(e){return Ds("not implemented")}_linkToIdToken(e,t){return Ds("not implemented")}_getReauthenticationResolver(e){return Ds("not implemented")}};async function vY(n,e){return aa(n,"POST","/v1/accounts:signUp",e)}async function EY(n,e){return pE(n,"POST","/v1/accounts:signInWithPassword",Pc(n,e))}async function IY(n,e){return pE(n,"POST","/v1/accounts:signInWithEmailLink",Pc(n,e))}async function wY(n,e){return pE(n,"POST","/v1/accounts:signInWithEmailLink",Pc(n,e))}var wp=class n extends Ip{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return O2(e,t,"signInWithPassword",EY,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return IY(e,{email:this._email,oobCode:this._password});default:$i(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return O2(e,r,"signUpPassword",vY,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return wY(e,{idToken:t,email:this._email,oobCode:this._password});default:$i(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};async function KD(n,e){return pE(n,"POST","/v1/accounts:signInWithIdp",Pc(n,e))}function bY(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function TY(n){let e=cd(ud(n)).link,t=e?cd(ud(e)).deep_link_id:null,r=cd(ud(n)).deep_link_id;return(r?cd(ud(r)).link:null)||r||t||e||n}var cE=class n{constructor(e){var t,r,i,s,o,a;let c=cd(ud(e)),d=(t=c.apiKey)!==null&&t!==void 0?t:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,m=bY((i=c.mode)!==null&&i!==void 0?i:null);de(d&&h&&m,"argument-error"),this.apiKey=d,this.operation=m,this.code=h,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=TY(e);try{return new n(t)}catch{return null}}};var hU=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return wp._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=cE.parseLink(r);return de(i,"argument-error"),wp._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),uE=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var aA=class extends uE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var bp=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){let s=await ia._fromIdTokenResponse(e,r,i),o=F2(r);return new n({user:s,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);let i=F2(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})}};function F2(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var cA=class n extends cr{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function fU(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?cA._fromErrorAndOperation(n,s,e,r):s})}async function CY(n,e,t=!1){let r=await vp(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return bp._forOperation(n,"link",r)}async function SY(n,e,t=!1){let{auth:r}=n;if(ur(r.app))return Promise.reject(sa(r));let i="reauthenticate";try{let s=await vp(n,fU(r,i,e,n),t);de(s.idToken,r,"internal-error");let o=vA(s.idToken);de(o,r,"internal-error");let{sub:a}=o;return de(n.uid===a,r,"user-mismatch"),bp._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&$i(r,"user-mismatch"),s}}async function pU(n,e,t=!1){if(ur(n.app))return Promise.reject(sa(n));let r="signIn",i=await fU(n,r,e),s=await bp._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function TA(n,e){return pU(pd(n),e)}async function DY(n){let e=pd(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function CA(n,e,t){return ur(n.app)?Promise.reject(sa(n)):TA(qn(n),hU.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&DY(n),r})}function SA(n,e,t,r){return qn(n).onIdTokenChanged(e,t,r)}function DA(n,e,t){return qn(n).beforeAuthStateChanged(e,t)}var lE="__sak";var dE=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(lE,"1"),this.storage.removeItem(lE),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var AY=1e3,RY=10,PY=(()=>{class n extends dE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oU(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,d)=>{this.notifyListeners(a,d)});return}let i=t.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);uY()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,RY):s()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},AY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){let r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}return n.type="LOCAL",n})(),mU=PY;var NY=(()=>{class n extends dE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),AA=NY;function kY(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}var xY=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){let r=t,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(async h=>h(r.origin,o)),d=await kY(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:d})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function gU(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var uA=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let d=gU("",20);i.port1.start();let h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){let I=m;if(I.data.eventId===d)switch(I.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(I.data.response);break;default:clearTimeout(h),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}};function Bi(){return window}function MY(n){Bi().location.href=n}function yU(){return typeof Bi().WorkerGlobalScope<"u"&&typeof Bi().importScripts=="function"}async function OY(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LY(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function FY(){return yU()?self:null}var _U="firebaseLocalStorageDb",VY=1,hE="firebaseLocalStorage",vU="fbase_key",Rc=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function gE(n,e){return n.transaction([hE],e?"readwrite":"readonly").objectStore(hE)}function UY(){let n=indexedDB.deleteDatabase(_U);return new Rc(n).toPromise()}function lA(){let n=indexedDB.open(_U,VY);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(hE,{keyPath:vU})}catch(i){t(i)}}),n.addEventListener("success",async()=>{let r=n.result;r.objectStoreNames.contains(hE)?e(r):(r.close(),await UY(),e(await lA()))})})}async function V2(n,e,t){let r=gE(n,!0).put({[vU]:e,value:t});return new Rc(r).toPromise()}async function jY(n,e){let t=gE(n,!1).get(e),r=await new Rc(t).toPromise();return r===void 0?null:r.value}function U2(n,e){let t=gE(n,!0).delete(e);return new Rc(t).toPromise()}var BY=800,$Y=3,HY=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lA(),this.db)}async _withRetries(t){let r=0;for(;;)try{let i=await this._openDb();return await t(i)}catch(i){if(r++>$Y)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yU()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xY._getInstance(FY()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await OY(),!this.activeServiceWorker)return;this.sender=new uA(this.activeServiceWorker);let i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||LY()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let t=await lA();return await V2(t,lE,"1"),await U2(t,lE),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>V2(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){let r=await this._withRetries(i=>jY(i,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>U2(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){let t=await this._withRetries(s=>{let o=gE(s,!1).getAll();return new Rc(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),EU=HY;var Vwe=uU("rcb"),Uwe=new Ac(3e4,6e4);function qY(n,e){return e?As(e):(de(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Tp=class extends Ip{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return KD(e,this._buildIdpRequest())}_linkToIdToken(e,t){return KD(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return KD(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function zY(n){return pU(n.auth,new Tp(n),n.bypassAuthState)}function GY(n){let{auth:e,user:t}=n;return de(t,e,"internal-error"),SY(t,new Tp(n),n.bypassAuthState)}async function WY(n){let{auth:e,user:t}=n;return de(t,e,"internal-error"),CY(t,new Tp(n),n.bypassAuthState)}var dA=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zY;case"linkViaPopup":case"linkViaRedirect":return WY;case"reauthViaPopup":case"reauthViaRedirect":return GY;default:$i(this.auth,"internal-error")}}resolve(e){oa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){oa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var jwe=new Ac(2e3,1e4);var KY="pendingRedirect",eE=new Map,hA=class extends dA{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=eE.get(this.auth._key());if(!e){try{let r=await QY(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}eE.set(this.auth._key(),e)}return this.bypassAuthState||eE.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function QY(n,e){let t=XY(e),r=JY(n);if(!await r._isAvailable())return!1;let i=await r._get(t)==="true";return await r._remove(t),i}function YY(n,e){eE.set(n._key(),e)}function JY(n){return As(n._redirectPersistence)}function XY(n){return Zv(KY,n.config.apiKey,n.name)}async function ZY(n,e,t=!1){if(ur(n.app))return Promise.reject(sa(n));let r=pd(n),i=qY(r,e),o=await new hA(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}var eJ=600*1e3,fA=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tJ(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!IU(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Dc(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=eJ&&this.cachedEventUids.clear(),this.cachedEventUids.has(j2(e))}saveEventToCache(e){this.cachedEventUids.add(j2(e)),this.lastProcessedEventTime=Date.now()}};function j2(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function IU({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function tJ(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IU(n);default:return!1}}async function nJ(n,e={}){return aa(n,"GET","/v1/projects",e)}var rJ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iJ=/^https?/;async function sJ(n){if(n.config.emulator)return;let{authorizedDomains:e}=await nJ(n);for(let t of e)try{if(oJ(t))return}catch{}$i(n,"unauthorized-domain")}function oJ(n){let e=YD(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!iJ.test(t))return!1;if(rJ.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var aJ=new Ac(3e4,6e4);function B2(){let n=Bi().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function cJ(n){return new Promise((e,t)=>{var r,i,s;function o(){B2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{B2(),t(Dc(n,"network-request-failed"))},timeout:aJ.get()})}if(!((i=(r=Bi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Bi().gapi)===null||s===void 0)&&s.load)o();else{let a=uU("iframefcb");return Bi()[a]=()=>{gapi.load?o():t(Dc(n,"network-request-failed"))},cU(`${pY()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw tE=null,e})}var tE=null;function uJ(n){return tE=tE||cJ(n),tE}var lJ=new Ac(5e3,15e3),dJ="__/auth/iframe",hJ="emulator/auth/iframe",fJ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pJ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mJ(n){let e=n.config;de(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?yA(e,hJ):`https://${n.config.authDomain}/${dJ}`,r={apiKey:e.apiKey,appName:n.name,v:Zo},i=pJ.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${lp(r).slice(1)}`}async function gJ(n){let e=await uJ(n),t=Bi().gapi;return de(t,n,"internal-error"),e.open({where:document.body,url:mJ(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fJ,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});let o=Dc(n,"network-request-failed"),a=Bi().setTimeout(()=>{s(o)},lJ.get());function c(){Bi().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})}))}var yJ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_J=500,vJ=600,EJ="_blank",IJ="http://localhost",fE=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function wJ(n,e,t,r=_J,i=vJ){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},yJ),{width:r.toString(),height:i.toString(),top:s,left:o}),d=un().toLowerCase();t&&(a=tU(d)?EJ:t),Z2(d)&&(e=e||IJ,c.scrollbars="yes");let h=Object.entries(c).reduce((I,[R,k])=>`${I}${R}=${k},`,"");if(cY(d)&&a!=="_self")return bJ(e||"",a),new fE(null);let m=window.open(e||"",a,h);de(m,n,"popup-blocked");try{m.focus()}catch{}return new fE(m)}function bJ(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var TJ="__/auth/handler",CJ="emulator/auth/handler",SJ=encodeURIComponent("fac");async function $2(n,e,t,r,i,s){de(n.config.authDomain,n,"auth-domain-config-required"),de(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Zo,eventId:i};if(e instanceof uE){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",o2(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,m]of Object.entries(s||{}))o[h]=m}if(e instanceof aA){let h=e.getScopes().filter(m=>m!=="");h.length>0&&(o.scopes=h.join(","))}n.tenantId&&(o.tid=n.tenantId);let a=o;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let c=await n._getAppCheckToken(),d=c?`#${SJ}=${encodeURIComponent(c)}`:"";return`${DJ(n)}?${lp(a).slice(1)}${d}`}function DJ({config:n}){return n.emulator?yA(n,CJ):`https://${n.authDomain}/${TJ}`}var QD="webStorageSupport",pA=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AA,this._completeRedirectFn=ZY,this._overrideRedirectResult=YY}async _openPopup(e,t,r,i){var s;oa((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=await $2(e,t,r,YD(),i);return wJ(e,o,gU())}async _openRedirect(e,t,r,i){await this._originValidation(e);let s=await $2(e,t,r,YD(),i);return MY(s),new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(oa(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){let t=await gJ(e),r=new fA(e);return t.register("authEvent",i=>(de(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(QD,{type:QD},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[QD];o!==void 0&&t(!!o),$i(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=sJ(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return oU()||eU()||IA()}},wU=pA;var H2="@firebase/auth",q2="1.10.8";var mA=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function AJ(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RJ(n){ri(new On("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;de(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aU(n)},d=new rA(r,i,s,c);return gY(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ri(new On("auth-internal",e=>{let t=pd(e.getProvider("auth").getImmediate());return(r=>new mA(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),It(H2,q2,AJ(n)),It(H2,q2,"esm2017")}var PJ=300,NJ=RD("authIdTokenMaxAge")||PJ,z2=null,kJ=n=>async e=>{let t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>NJ)return;let i=t?.token;z2!==i&&(z2=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function RA(n=Tc()){let e=ld(n,"auth");if(e.isInitialized())return e.getImmediate();let t=wA(n,{popupRedirectResolver:wU,persistence:[EU,mU,AA]}),r=RD("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=kJ(s.toString());DA(t,o,()=>o(t.currentUser)),SA(t,a=>o(a))}}let i=DD("auth");return i&&bA(t,`http://${i}`),t}function xJ(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}hY({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=Dc("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",xJ().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RJ("Browser");var bU="auth",Rs=class{constructor(e){return e}},Cp=class{constructor(){return hd(bU)}};var PA=new Z("angularfire2.auth-instances");function TX(n,e){let t=fp(bU,n,e);return t&&new Rs(t)}function CX(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Rs(r)}}var SX={provide:Cp,deps:[[new er,PA]]},DX={provide:Rs,useFactory:TX,deps:[[new er,PA],Ss]};function TU(n,...e){return It("angularfire",ea.full,"auth"),mr([DX,SX,{provide:PA,useFactory:CX(n),multi:!0,deps:[lt,vt,ta,Sc,[new er,fd],...e]}])}var CU=ji(RA,!0);var SU=ji(CA,!0,2);var yE=class n{auth=U(Rs);router=U(at);email="";password="";async loginUser(){let e=this.email.trim();if(!e.includes("@")||!e.includes(".")){alert("Unesite validan email format!");return}try{await SU(this.auth,e,this.password),alert("Login uspje\u0161an!"),this.router.navigate(["/dashboard"])}catch(t){alert("Gre\u0161ka pri prijavi: "+t.message)}}navigate(e,t){try{t?.preventDefault()}catch{}console.log("Login.navigate ->",e),this.router.navigate([e]).catch(r=>{console.error("Login navigation error",r),alert("Navigation error: "+r)})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ce({type:n,selectors:[["app-login"]],decls:23,vars:2,consts:[[1,"site-header"],[1,"logo-wrap"],["src","/assets/slike/logo-ipi.png","alt","Logo",1,"logo"],[1,"page-main"],[1,"auth-article"],[1,"login-container"],[1,"login-form",3,"ngSubmit"],[1,"form-group"],["for","email"],["type","email","id","email","name","email","required","","placeholder","Unesite email",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","required","","placeholder","Unesite lozinku",3,"ngModelChange","ngModel"],["type","submit",1,"login-btn"],[1,"alt"],["type","button",1,"linkish",3,"click"]],template:function(t,r){t&1&&(P(0,"header",0)(1,"div",1),K(2,"img",2),N()(),P(3,"main",3)(4,"article",4)(5,"div",5)(6,"h2"),D(7,"Login"),N(),P(8,"form",6),ie("ngSubmit",function(){return r.loginUser()}),P(9,"div",7)(10,"label",8),D(11,"Email:"),N(),P(12,"input",9),nt("ngModelChange",function(s){return ot(r.email,s)||(r.email=s),s}),N()(),P(13,"div",7)(14,"label",10),D(15,"Lozinka:"),N(),P(16,"input",11),nt("ngModelChange",function(s){return ot(r.password,s)||(r.password=s),s}),N()(),P(17,"button",12),D(18,"Prijavi se"),N()(),P(19,"p",13),D(20," Nemate ra\u010Dun? "),P(21,"button",14),ie("click",function(){return r.navigate("/register")}),D(22,"Registracija"),N()()()()()),t&2&&(Q(12),tt("ngModel",r.email),Q(4),tt("ngModel",r.password))},dependencies:[gt,ed,Ft,cn,Zl,op,Jt,Ic],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.site-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:12px 0;background:transparent}.logo-wrap[_ngcontent-%COMP%]{margin-bottom:8px}.logo[_ngcontent-%COMP%]{height:60px}.page-main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:calc(100vh - 140px);width:100%}.auth-article[_ngcontent-%COMP%]{width:80%;max-width:1100px;margin:0 auto;display:flex;justify-content:center}.login-container[_ngcontent-%COMP%]{width:480px;margin:40px auto;padding:36px;background-color:#fff;color:#2c3e50;border-radius:10px;box-shadow:0 6px 18px #0000001f;text-align:center;font-family:Arial,sans-serif}.login-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:20px;color:#007bff}.form-group[_ngcontent-%COMP%]{margin-bottom:15px;text-align:left}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:#333;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:5px;border:2px solid #ddd;outline:none;font-size:14px;box-sizing:border-box;transition:border-color .3s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#1e73be;box-shadow:0 0 5px #007bff4d}.login-btn[_ngcontent-%COMP%]{width:100%;padding:12px;border:none;border-radius:5px;background-color:#1e73be;color:#fff;font-weight:700;cursor:pointer;font-size:16px;transition:background-color .3s}.login-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.linkish[_ngcontent-%COMP%]{padding:6px 10px;border:none;border-radius:5px;background-color:#1e73be;color:#fff;font-weight:700;cursor:pointer;font-size:12px;transition:background-color .3s;margin-left:8px}.linkish[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})};var DU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},AU={};var _E,RU;(function(){var n;function e(T,_){function E(){}E.prototype=_.prototype,T.D=_.prototype,T.prototype=new E,T.prototype.constructor=T,T.C=function(b,w,A){for(var v=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)v[dt-2]=arguments[dt];return _.prototype[w].apply(b,v)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,_,E){E||(E=0);var b=Array(16);if(typeof _=="string")for(var w=0;16>w;++w)b[w]=_.charCodeAt(E++)|_.charCodeAt(E++)<<8|_.charCodeAt(E++)<<16|_.charCodeAt(E++)<<24;else for(w=0;16>w;++w)b[w]=_[E++]|_[E++]<<8|_[E++]<<16|_[E++]<<24;_=T.g[0],E=T.g[1],w=T.g[2];var A=T.g[3],v=_+(A^E&(w^A))+b[0]+3614090360&4294967295;_=E+(v<<7&4294967295|v>>>25),v=A+(w^_&(E^w))+b[1]+3905402710&4294967295,A=_+(v<<12&4294967295|v>>>20),v=w+(E^A&(_^E))+b[2]+606105819&4294967295,w=A+(v<<17&4294967295|v>>>15),v=E+(_^w&(A^_))+b[3]+3250441966&4294967295,E=w+(v<<22&4294967295|v>>>10),v=_+(A^E&(w^A))+b[4]+4118548399&4294967295,_=E+(v<<7&4294967295|v>>>25),v=A+(w^_&(E^w))+b[5]+1200080426&4294967295,A=_+(v<<12&4294967295|v>>>20),v=w+(E^A&(_^E))+b[6]+2821735955&4294967295,w=A+(v<<17&4294967295|v>>>15),v=E+(_^w&(A^_))+b[7]+4249261313&4294967295,E=w+(v<<22&4294967295|v>>>10),v=_+(A^E&(w^A))+b[8]+1770035416&4294967295,_=E+(v<<7&4294967295|v>>>25),v=A+(w^_&(E^w))+b[9]+2336552879&4294967295,A=_+(v<<12&4294967295|v>>>20),v=w+(E^A&(_^E))+b[10]+4294925233&4294967295,w=A+(v<<17&4294967295|v>>>15),v=E+(_^w&(A^_))+b[11]+2304563134&4294967295,E=w+(v<<22&4294967295|v>>>10),v=_+(A^E&(w^A))+b[12]+1804603682&4294967295,_=E+(v<<7&4294967295|v>>>25),v=A+(w^_&(E^w))+b[13]+4254626195&4294967295,A=_+(v<<12&4294967295|v>>>20),v=w+(E^A&(_^E))+b[14]+2792965006&4294967295,w=A+(v<<17&4294967295|v>>>15),v=E+(_^w&(A^_))+b[15]+1236535329&4294967295,E=w+(v<<22&4294967295|v>>>10),v=_+(w^A&(E^w))+b[1]+4129170786&4294967295,_=E+(v<<5&4294967295|v>>>27),v=A+(E^w&(_^E))+b[6]+3225465664&4294967295,A=_+(v<<9&4294967295|v>>>23),v=w+(_^E&(A^_))+b[11]+643717713&4294967295,w=A+(v<<14&4294967295|v>>>18),v=E+(A^_&(w^A))+b[0]+3921069994&4294967295,E=w+(v<<20&4294967295|v>>>12),v=_+(w^A&(E^w))+b[5]+3593408605&4294967295,_=E+(v<<5&4294967295|v>>>27),v=A+(E^w&(_^E))+b[10]+38016083&4294967295,A=_+(v<<9&4294967295|v>>>23),v=w+(_^E&(A^_))+b[15]+3634488961&4294967295,w=A+(v<<14&4294967295|v>>>18),v=E+(A^_&(w^A))+b[4]+3889429448&4294967295,E=w+(v<<20&4294967295|v>>>12),v=_+(w^A&(E^w))+b[9]+568446438&4294967295,_=E+(v<<5&4294967295|v>>>27),v=A+(E^w&(_^E))+b[14]+3275163606&4294967295,A=_+(v<<9&4294967295|v>>>23),v=w+(_^E&(A^_))+b[3]+4107603335&4294967295,w=A+(v<<14&4294967295|v>>>18),v=E+(A^_&(w^A))+b[8]+1163531501&4294967295,E=w+(v<<20&4294967295|v>>>12),v=_+(w^A&(E^w))+b[13]+2850285829&4294967295,_=E+(v<<5&4294967295|v>>>27),v=A+(E^w&(_^E))+b[2]+4243563512&4294967295,A=_+(v<<9&4294967295|v>>>23),v=w+(_^E&(A^_))+b[7]+1735328473&4294967295,w=A+(v<<14&4294967295|v>>>18),v=E+(A^_&(w^A))+b[12]+2368359562&4294967295,E=w+(v<<20&4294967295|v>>>12),v=_+(E^w^A)+b[5]+4294588738&4294967295,_=E+(v<<4&4294967295|v>>>28),v=A+(_^E^w)+b[8]+2272392833&4294967295,A=_+(v<<11&4294967295|v>>>21),v=w+(A^_^E)+b[11]+1839030562&4294967295,w=A+(v<<16&4294967295|v>>>16),v=E+(w^A^_)+b[14]+4259657740&4294967295,E=w+(v<<23&4294967295|v>>>9),v=_+(E^w^A)+b[1]+2763975236&4294967295,_=E+(v<<4&4294967295|v>>>28),v=A+(_^E^w)+b[4]+1272893353&4294967295,A=_+(v<<11&4294967295|v>>>21),v=w+(A^_^E)+b[7]+4139469664&4294967295,w=A+(v<<16&4294967295|v>>>16),v=E+(w^A^_)+b[10]+3200236656&4294967295,E=w+(v<<23&4294967295|v>>>9),v=_+(E^w^A)+b[13]+681279174&4294967295,_=E+(v<<4&4294967295|v>>>28),v=A+(_^E^w)+b[0]+3936430074&4294967295,A=_+(v<<11&4294967295|v>>>21),v=w+(A^_^E)+b[3]+3572445317&4294967295,w=A+(v<<16&4294967295|v>>>16),v=E+(w^A^_)+b[6]+76029189&4294967295,E=w+(v<<23&4294967295|v>>>9),v=_+(E^w^A)+b[9]+3654602809&4294967295,_=E+(v<<4&4294967295|v>>>28),v=A+(_^E^w)+b[12]+3873151461&4294967295,A=_+(v<<11&4294967295|v>>>21),v=w+(A^_^E)+b[15]+530742520&4294967295,w=A+(v<<16&4294967295|v>>>16),v=E+(w^A^_)+b[2]+3299628645&4294967295,E=w+(v<<23&4294967295|v>>>9),v=_+(w^(E|~A))+b[0]+4096336452&4294967295,_=E+(v<<6&4294967295|v>>>26),v=A+(E^(_|~w))+b[7]+1126891415&4294967295,A=_+(v<<10&4294967295|v>>>22),v=w+(_^(A|~E))+b[14]+2878612391&4294967295,w=A+(v<<15&4294967295|v>>>17),v=E+(A^(w|~_))+b[5]+4237533241&4294967295,E=w+(v<<21&4294967295|v>>>11),v=_+(w^(E|~A))+b[12]+1700485571&4294967295,_=E+(v<<6&4294967295|v>>>26),v=A+(E^(_|~w))+b[3]+2399980690&4294967295,A=_+(v<<10&4294967295|v>>>22),v=w+(_^(A|~E))+b[10]+4293915773&4294967295,w=A+(v<<15&4294967295|v>>>17),v=E+(A^(w|~_))+b[1]+2240044497&4294967295,E=w+(v<<21&4294967295|v>>>11),v=_+(w^(E|~A))+b[8]+1873313359&4294967295,_=E+(v<<6&4294967295|v>>>26),v=A+(E^(_|~w))+b[15]+4264355552&4294967295,A=_+(v<<10&4294967295|v>>>22),v=w+(_^(A|~E))+b[6]+2734768916&4294967295,w=A+(v<<15&4294967295|v>>>17),v=E+(A^(w|~_))+b[13]+1309151649&4294967295,E=w+(v<<21&4294967295|v>>>11),v=_+(w^(E|~A))+b[4]+4149444226&4294967295,_=E+(v<<6&4294967295|v>>>26),v=A+(E^(_|~w))+b[11]+3174756917&4294967295,A=_+(v<<10&4294967295|v>>>22),v=w+(_^(A|~E))+b[2]+718787259&4294967295,w=A+(v<<15&4294967295|v>>>17),v=E+(A^(w|~_))+b[9]+3951481745&4294967295,T.g[0]=T.g[0]+_&4294967295,T.g[1]=T.g[1]+(w+(v<<21&4294967295|v>>>11))&4294967295,T.g[2]=T.g[2]+w&4294967295,T.g[3]=T.g[3]+A&4294967295}r.prototype.u=function(T,_){_===void 0&&(_=T.length);for(var E=_-this.blockSize,b=this.B,w=this.h,A=0;A<_;){if(w==0)for(;A<=E;)i(this,T,A),A+=this.blockSize;if(typeof T=="string"){for(;A<_;)if(b[w++]=T.charCodeAt(A++),w==this.blockSize){i(this,b),w=0;break}}else for(;A<_;)if(b[w++]=T[A++],w==this.blockSize){i(this,b),w=0;break}}this.h=w,this.o+=_},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var _=1;_<T.length-8;++_)T[_]=0;var E=8*this.o;for(_=T.length-8;_<T.length;++_)T[_]=E&255,E/=256;for(this.u(T),T=Array(16),_=E=0;4>_;++_)for(var b=0;32>b;b+=8)T[E++]=this.g[_]>>>b&255;return T};function s(T,_){var E=a;return Object.prototype.hasOwnProperty.call(E,T)?E[T]:E[T]=_(T)}function o(T,_){this.h=_;for(var E=[],b=!0,w=T.length-1;0<=w;w--){var A=T[w]|0;b&&A==_||(E[w]=A,b=!1)}this.g=E}var a={};function c(T){return-128<=T&&128>T?s(T,function(_){return new o([_|0],0>_?-1:0)}):new o([T|0],0>T?-1:0)}function d(T){if(isNaN(T)||!isFinite(T))return m;if(0>T)return O(d(-T));for(var _=[],E=1,b=0;T>=E;b++)_[b]=T/E|0,E*=4294967296;return new o(_,0)}function h(T,_){if(T.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(T.charAt(0)=="-")return O(h(T.substring(1),_));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=d(Math.pow(_,8)),b=m,w=0;w<T.length;w+=8){var A=Math.min(8,T.length-w),v=parseInt(T.substring(w,w+A),_);8>A?(A=d(Math.pow(_,A)),b=b.j(A).add(d(v))):(b=b.j(E),b=b.add(d(v)))}return b}var m=c(0),I=c(1),R=c(16777216);n=o.prototype,n.m=function(){if(V(this))return-O(this).m();for(var T=0,_=1,E=0;E<this.g.length;E++){var b=this.i(E);T+=(0<=b?b:4294967296+b)*_,_*=4294967296}return T},n.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(k(this))return"0";if(V(this))return"-"+O(this).toString(T);for(var _=d(Math.pow(T,6)),E=this,b="";;){var w=Re(E,_).g;E=q(E,w.j(_));var A=((0<E.g.length?E.g[0]:E.h)>>>0).toString(T);if(E=w,k(E))return A+b;for(;6>A.length;)A="0"+A;b=A+b}},n.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function k(T){if(T.h!=0)return!1;for(var _=0;_<T.g.length;_++)if(T.g[_]!=0)return!1;return!0}function V(T){return T.h==-1}n.l=function(T){return T=q(this,T),V(T)?-1:k(T)?0:1};function O(T){for(var _=T.g.length,E=[],b=0;b<_;b++)E[b]=~T.g[b];return new o(E,~T.h).add(I)}n.abs=function(){return V(this)?O(this):this},n.add=function(T){for(var _=Math.max(this.g.length,T.g.length),E=[],b=0,w=0;w<=_;w++){var A=b+(this.i(w)&65535)+(T.i(w)&65535),v=(A>>>16)+(this.i(w)>>>16)+(T.i(w)>>>16);b=v>>>16,A&=65535,v&=65535,E[w]=v<<16|A}return new o(E,E[E.length-1]&-2147483648?-1:0)};function q(T,_){return T.add(O(_))}n.j=function(T){if(k(this)||k(T))return m;if(V(this))return V(T)?O(this).j(O(T)):O(O(this).j(T));if(V(T))return O(this.j(O(T)));if(0>this.l(R)&&0>T.l(R))return d(this.m()*T.m());for(var _=this.g.length+T.g.length,E=[],b=0;b<2*_;b++)E[b]=0;for(b=0;b<this.g.length;b++)for(var w=0;w<T.g.length;w++){var A=this.i(b)>>>16,v=this.i(b)&65535,dt=T.i(w)>>>16,Ln=T.i(w)&65535;E[2*b+2*w]+=v*Ln,X(E,2*b+2*w),E[2*b+2*w+1]+=A*Ln,X(E,2*b+2*w+1),E[2*b+2*w+1]+=v*dt,X(E,2*b+2*w+1),E[2*b+2*w+2]+=A*dt,X(E,2*b+2*w+2)}for(b=0;b<_;b++)E[b]=E[2*b+1]<<16|E[2*b];for(b=_;b<2*_;b++)E[b]=0;return new o(E,0)};function X(T,_){for(;(T[_]&65535)!=T[_];)T[_+1]+=T[_]>>>16,T[_]&=65535,_++}function ne(T,_){this.g=T,this.h=_}function Re(T,_){if(k(_))throw Error("division by zero");if(k(T))return new ne(m,m);if(V(T))return _=Re(O(T),_),new ne(O(_.g),O(_.h));if(V(_))return _=Re(T,O(_)),new ne(O(_.g),_.h);if(30<T.g.length){if(V(T)||V(_))throw Error("slowDivide_ only works with positive integers.");for(var E=I,b=_;0>=b.l(T);)E=ut(E),b=ut(b);var w=Pe(E,1),A=Pe(b,1);for(b=Pe(b,2),E=Pe(E,2);!k(b);){var v=A.add(b);0>=v.l(T)&&(w=w.add(E),A=v),b=Pe(b,1),E=Pe(E,1)}return _=q(T,w.j(_)),new ne(w,_)}for(w=m;0<=T.l(_);){for(E=Math.max(1,Math.floor(T.m()/_.m())),b=Math.ceil(Math.log(E)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),A=d(E),v=A.j(_);V(v)||0<v.l(T);)E-=b,A=d(E),v=A.j(_);k(A)&&(A=I),w=w.add(A),T=q(T,v)}return new ne(w,T)}n.A=function(T){return Re(this,T).h},n.and=function(T){for(var _=Math.max(this.g.length,T.g.length),E=[],b=0;b<_;b++)E[b]=this.i(b)&T.i(b);return new o(E,this.h&T.h)},n.or=function(T){for(var _=Math.max(this.g.length,T.g.length),E=[],b=0;b<_;b++)E[b]=this.i(b)|T.i(b);return new o(E,this.h|T.h)},n.xor=function(T){for(var _=Math.max(this.g.length,T.g.length),E=[],b=0;b<_;b++)E[b]=this.i(b)^T.i(b);return new o(E,this.h^T.h)};function ut(T){for(var _=T.g.length+1,E=[],b=0;b<_;b++)E[b]=T.i(b)<<1|T.i(b-1)>>>31;return new o(E,T.h)}function Pe(T,_){var E=_>>5;_%=32;for(var b=T.g.length-E,w=[],A=0;A<b;A++)w[A]=0<_?T.i(A+E)>>>_|T.i(A+E+1)<<32-_:T.i(A+E);return new o(w,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,RU=AU.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,_E=AU.Integer=o}).apply(typeof DU<"u"?DU:typeof self<"u"?self:typeof window<"u"?window:{});var vE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ps={};var NA,AX,md,kA,Sp,EE,xA,MA,OA;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,f,g){return u==Array.prototype||u==Object.prototype||(u[f]=g.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof vE=="object"&&vE];for(var f=0;f<u.length;++f){var g=u[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=t(this);function i(u,f){if(f)e:{var g=r;u=u.split(".");for(var C=0;C<u.length-1;C++){var M=u[C];if(!(M in g))break e;g=g[M]}u=u[u.length-1],C=g[u],f=f(C),f!=C&&f!=null&&e(g,u,{configurable:!0,writable:!0,value:f})}}function s(u,f){u instanceof String&&(u+="");var g=0,C=!1,M={next:function(){if(!C&&g<u.length){var F=g++;return{value:f(F,u[F]),done:!1}}return C=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(u){return u||function(){return s(this,function(f,g){return g})}});var o=o||{},a=this||self;function c(u){var f=typeof u;return f=f!="object"?f:u?Array.isArray(u)?"array":f:"null",f=="array"||f=="object"&&typeof u.length=="number"}function d(u){var f=typeof u;return f=="object"&&u!=null||f=="function"}function h(u,f,g){return u.call.apply(u.bind,arguments)}function m(u,f,g){if(!u)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,C),u.apply(f,M)}}return function(){return u.apply(f,arguments)}}function I(u,f,g){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:m,I.apply(null,arguments)}function R(u,f){var g=Array.prototype.slice.call(arguments,1);return function(){var C=g.slice();return C.push.apply(C,arguments),u.apply(this,C)}}function k(u,f){function g(){}g.prototype=f.prototype,u.aa=f.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(C,M,F){for(var G=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)G[$e-2]=arguments[$e];return f.prototype[M].apply(C,G)}}function V(u){let f=u.length;if(0<f){let g=Array(f);for(let C=0;C<f;C++)g[C]=u[C];return g}return[]}function O(u,f){for(let g=1;g<arguments.length;g++){let C=arguments[g];if(c(C)){let M=u.length||0,F=C.length||0;u.length=M+F;for(let G=0;G<F;G++)u[M+G]=C[G]}else u.push(C)}}class q{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function X(u){return/^[\s\xa0]*$/.test(u)}function ne(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function Re(u){return Re[" "](u),u}Re[" "]=function(){};var ut=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function Pe(u,f,g){for(let C in u)f.call(g,u[C],C,u)}function T(u,f){for(let g in u)f.call(void 0,u[g],g,u)}function _(u){let f={};for(let g in u)f[g]=u[g];return f}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(u,f){let g,C;for(let M=1;M<arguments.length;M++){C=arguments[M];for(g in C)u[g]=C[g];for(let F=0;F<E.length;F++)g=E[F],Object.prototype.hasOwnProperty.call(C,g)&&(u[g]=C[g])}}function w(u){var f=1;u=u.split(":");let g=[];for(;0<f&&u.length;)g.push(u.shift()),f--;return u.length&&g.push(u.join(":")),g}function A(u){a.setTimeout(()=>{throw u},0)}function v(){var u=Os;let f=null;return u.g&&(f=u.g,u.g=u.g.next,u.g||(u.h=null),f.next=null),f}class dt{constructor(){this.h=this.g=null}add(f,g){let C=Ln.get();C.set(f,g),this.h?this.h.next=C:this.g=C,this.h=C}}var Ln=new q(()=>new nI,u=>u.reset());class nI{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let ha,si=!1,Os=new dt,Kp=()=>{let u=a.Promise.resolve(void 0);ha=()=>{u.then(Qp)}};var Qp=()=>{for(var u;u=v();){try{u.h.call(u.g)}catch(g){A(g)}var f=Ln;f.j(u),100>f.h&&(f.h++,u.next=f.g,f.g=u)}si=!1};function Nr(){this.s=this.s,this.C=this.C}Nr.prototype.s=!1,Nr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Nr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $t(u,f){this.type=u,this.g=this.target=f,this.defaultPrevented=!1}$t.prototype.h=function(){this.defaultPrevented=!0};var Gc=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,f=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let g=()=>{};a.addEventListener("test",g,f),a.removeEventListener("test",g,f)}catch{}return u})();function Wi(u,f){if($t.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,C=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=f,f=u.relatedTarget){if(ut){e:{try{Re(f.nodeName);var M=!0;break e}catch{}M=!1}M||(f=null)}}else g=="mouseover"?f=u.fromElement:g=="mouseout"&&(f=u.toElement);this.relatedTarget=f,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Fd[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Wi.aa.h.call(this)}}k(Wi,$t);var Fd={2:"touch",3:"pen",4:"mouse"};Wi.prototype.h=function(){Wi.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ki="closure_listenable_"+(1e6*Math.random()|0),Vd=0;function Yp(u,f,g,C,M){this.listener=u,this.proxy=null,this.src=f,this.type=g,this.capture=!!C,this.ha=M,this.key=++Vd,this.da=this.fa=!1}function fa(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Wc(u){this.src=u,this.g={},this.h=0}Wc.prototype.add=function(u,f,g,C,M){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var G=Qc(u,f,C,M);return-1<G?(f=u[G],g||(f.fa=!1)):(f=new Yp(f,this.src,F,!!C,M),f.fa=g,u.push(f)),f};function Kc(u,f){var g=f.type;if(g in u.g){var C=u.g[g],M=Array.prototype.indexOf.call(C,f,void 0),F;(F=0<=M)&&Array.prototype.splice.call(C,M,1),F&&(fa(f),u.g[g].length==0&&(delete u.g[g],u.h--))}}function Qc(u,f,g,C){for(var M=0;M<u.length;++M){var F=u[M];if(!F.da&&F.listener==f&&F.capture==!!g&&F.ha==C)return M}return-1}var pa="closure_lm_"+(1e6*Math.random()|0),Yc={};function Jp(u,f,g,C,M){if(C&&C.once)return Xc(u,f,g,C,M);if(Array.isArray(f)){for(var F=0;F<f.length;F++)Jp(u,f[F],g,C,M);return null}return g=Qi(g),u&&u[Ki]?u.K(f,g,d(C)?!!C.capture:!!C,M):Jc(u,f,g,!1,C,M)}function Jc(u,f,g,C,M,F){if(!f)throw Error("Invalid event type");var G=d(M)?!!M.capture:!!M,$e=Zc(u);if($e||(u[pa]=$e=new Wc(u)),g=$e.add(f,g,C,G,F),g.proxy)return g;if(C=Ud(),g.proxy=C,C.src=u,C.listener=g,u.addEventListener)Gc||(M=G),M===void 0&&(M=!1),u.addEventListener(f.toString(),C,M);else if(u.attachEvent)u.attachEvent(ma(f.toString()),C);else if(u.addListener&&u.removeListener)u.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Ud(){function u(g){return f.call(u.src,u.listener,g)}let f=rI;return u}function Xc(u,f,g,C,M){if(Array.isArray(f)){for(var F=0;F<f.length;F++)Xc(u,f[F],g,C,M);return null}return g=Qi(g),u&&u[Ki]?u.L(f,g,d(C)?!!C.capture:!!C,M):Jc(u,f,g,!0,C,M)}function Ht(u,f,g,C,M){if(Array.isArray(f))for(var F=0;F<f.length;F++)Ht(u,f[F],g,C,M);else C=d(C)?!!C.capture:!!C,g=Qi(g),u&&u[Ki]?(u=u.i,f=String(f).toString(),f in u.g&&(F=u.g[f],g=Qc(F,g,C,M),-1<g&&(fa(F[g]),Array.prototype.splice.call(F,g,1),F.length==0&&(delete u.g[f],u.h--)))):u&&(u=Zc(u))&&(f=u.g[f.toString()],u=-1,f&&(u=Qc(f,g,C,M)),(g=-1<u?f[u]:null)&&qt(g))}function qt(u){if(typeof u!="number"&&u&&!u.da){var f=u.src;if(f&&f[Ki])Kc(f.i,u);else{var g=u.type,C=u.proxy;f.removeEventListener?f.removeEventListener(g,C,u.capture):f.detachEvent?f.detachEvent(ma(g),C):f.addListener&&f.removeListener&&f.removeListener(C),(g=Zc(f))?(Kc(g,u),g.h==0&&(g.src=null,f[pa]=null)):fa(u)}}}function ma(u){return u in Yc?Yc[u]:Yc[u]="on"+u}function rI(u,f){if(u.da)u=!0;else{f=new Wi(f,this);var g=u.listener,C=u.ha||u.src;u.fa&&qt(u),u=g.call(C,f)}return u}function Zc(u){return u=u[pa],u instanceof Wc?u:null}var jd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qi(u){return typeof u=="function"?u:(u[jd]||(u[jd]=function(f){return u.handleEvent(f)}),u[jd])}function zt(){Nr.call(this),this.i=new Wc(this),this.M=this,this.F=null}k(zt,Nr),zt.prototype[Ki]=!0,zt.prototype.removeEventListener=function(u,f,g,C){Ht(this,u,f,g,C)};function en(u,f){var g,C=u.F;if(C)for(g=[];C;C=C.F)g.push(C);if(u=u.M,C=f.type||f,typeof f=="string")f=new $t(f,u);else if(f instanceof $t)f.target=f.target||u;else{var M=f;f=new $t(C,u),b(f,M)}if(M=!0,g)for(var F=g.length-1;0<=F;F--){var G=f.g=g[F];M=Ls(G,C,!0,f)&&M}if(G=f.g=u,M=Ls(G,C,!0,f)&&M,M=Ls(G,C,!1,f)&&M,g)for(F=0;F<g.length;F++)G=f.g=g[F],M=Ls(G,C,!1,f)&&M}zt.prototype.N=function(){if(zt.aa.N.call(this),this.i){var u=this.i,f;for(f in u.g){for(var g=u.g[f],C=0;C<g.length;C++)fa(g[C]);delete u.g[f],u.h--}}this.F=null},zt.prototype.K=function(u,f,g,C){return this.i.add(String(u),f,!1,g,C)},zt.prototype.L=function(u,f,g,C){return this.i.add(String(u),f,!0,g,C)};function Ls(u,f,g,C){if(f=u.i.g[String(f)],!f)return!0;f=f.concat();for(var M=!0,F=0;F<f.length;++F){var G=f[F];if(G&&!G.da&&G.capture==g){var $e=G.listener,Tt=G.ha||G.src;G.fa&&Kc(u.i,G),M=$e.call(Tt,C)!==!1&&M}}return M&&!C.defaultPrevented}function Xp(u,f,g){if(typeof u=="function")g&&(u=I(u,g));else if(u&&typeof u.handleEvent=="function")u=I(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(u,f||0)}function Zp(u){u.g=Xp(()=>{u.g=null,u.i&&(u.i=!1,Zp(u))},u.l);let f=u.h;u.h=null,u.m.apply(null,f)}class em extends Nr{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Zp(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fs(u){Nr.call(this),this.h=u,this.g={}}k(Fs,Nr);var Vs=[];function eu(u){Pe(u.g,function(f,g){this.g.hasOwnProperty(g)&&qt(f)},u),u.g={}}Fs.prototype.N=function(){Fs.aa.N.call(this),eu(this)},Fs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ga=a.JSON.stringify,Yi=a.JSON.parse,tm=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Us(){}Us.prototype.h=null;function Bd(u){return u.h||(u.h=u.i())}function js(){}var Bs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gt(){$t.call(this,"d")}k(Gt,$t);function tu(){$t.call(this,"c")}k(tu,$t);var zn={},$s=null;function nu(){return $s=$s||new zt}zn.La="serverreachability";function nm(u){$t.call(this,zn.La,u)}k(nm,$t);function fr(u){let f=nu();en(f,new nm(f))}zn.STAT_EVENT="statevent";function rm(u,f){$t.call(this,zn.STAT_EVENT,u),this.stat=f}k(rm,$t);function hn(u){let f=nu();en(f,new rm(f,u))}zn.Ma="timingevent";function ya(u,f){$t.call(this,zn.Ma,u),this.size=f}k(ya,$t);function Hs(u,f){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},f)}function qs(){this.g=!0}qs.prototype.xa=function(){this.g=!1};function $d(u,f,g,C,M,F){u.info(function(){if(u.g)if(F)for(var G="",$e=F.split("&"),Tt=0;Tt<$e.length;Tt++){var He=$e[Tt].split("=");if(1<He.length){var _n=He[0];He=He[1];var vn=_n.split("_");G=2<=vn.length&&vn[1]=="type"?G+(_n+"="+He+"&"):G+(_n+"=redacted&")}}else G=null;else G=F;return"XMLHTTP REQ ("+C+") [attempt "+M+"]: "+f+`
`+g+`
`+G})}function _a(u,f,g,C,M,F,G){u.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+M+"]: "+f+`
`+g+`
`+F+" "+G})}function zs(u,f,g,C){u.info(function(){return"XMLHTTP TEXT ("+f+"): "+im(u,g)+(C?" "+C:"")})}function oi(u,f){u.info(function(){return"TIMEOUT: "+f})}qs.prototype.info=function(){};function im(u,f){if(!u.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var C=g[u];if(!(2>C.length)){var M=C[1];if(Array.isArray(M)&&!(1>M.length)){var F=M[0];if(F!="noop"&&F!="stop"&&F!="close")for(var G=1;G<M.length;G++)M[G]=""}}}}return ga(g)}catch{return f}}var va={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ru={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ea;function Ia(){}k(Ia,Us),Ia.prototype.g=function(){return new XMLHttpRequest},Ia.prototype.i=function(){return{}},Ea=new Ia;function ai(u,f,g,C){this.j=u,this.i=f,this.l=g,this.R=C||1,this.U=new Fs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Hd}function Hd(){this.i=null,this.g="",this.h=!1}var sm={},Gs={};function iu(u,f,g){u.L=1,u.v=cu(kr(f)),u.m=g,u.P=!0,su(u,null)}function su(u,f){u.F=Date.now(),Ks(u),u.A=kr(u.v);var g=u.A,C=u.R;Array.isArray(C)||(C=[String(C)]),fm(g.i,"t",C),u.C=0,g=u.j.J,u.h=new Hd,u.g=p(u.j,g?f:null,!u.m),0<u.O&&(u.M=new em(I(u.Y,u,u.g),u.O)),f=u.U,g=u.g,C=u.ca;var M="readystatechange";Array.isArray(M)||(M&&(Vs[0]=M.toString()),M=Vs);for(var F=0;F<M.length;F++){var G=Jp(g,M[F],C||f.handleEvent,!1,f.h||f);if(!G)break;f.g[G.key]=G}f=u.H?_(u.H):{},u.m?(u.u||(u.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,f)):(u.u="GET",u.g.ea(u.A,u.u,null,f)),fr(),$d(u.i,u.u,u.A,u.l,u.R,u.m)}ai.prototype.ca=function(u){u=u.target;let f=this.M;f&&Vn(u)==3?f.j():this.Y(u)},ai.prototype.Y=function(u){try{if(u==this.g)e:{let vn=Vn(this.g);var f=this.g.Ba();let yu=this.g.Z();if(!(3>vn)&&(vn!=3||this.g&&(this.h.h||this.g.oa()||_m(this.g)))){this.J||vn!=4||f==7||(f==8||0>=yu?fr(3):fr(2)),ou(this);var g=this.g.Z();this.X=g;t:if(Ws(this)){var C=_m(this.g);u="";var M=C.length,F=Vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ci(this),Qs(this);var G="";break t}this.h.i=new a.TextDecoder}for(f=0;f<M;f++)this.h.h=!0,u+=this.h.i.decode(C[f],{stream:!(F&&f==M-1)});C.length=0,this.h.g+=u,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=g==200,_a(this.i,this.u,this.A,this.l,this.R,vn,g),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,Tt=this.g;if(($e=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X($e)){var He=$e;break t}}He=null}if(g=He)zs(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wa(this,g);else{this.o=!1,this.s=3,hn(12),ci(this),Qs(this);break e}}if(this.P){g=!0;let Fr;for(;!this.J&&this.C<G.length;)if(Fr=Ji(this,G),Fr==Gs){vn==4&&(this.s=4,hn(14),g=!1),zs(this.i,this.l,null,"[Incomplete Response]");break}else if(Fr==sm){this.s=4,hn(15),zs(this.i,this.l,G,"[Invalid Chunk]"),g=!1;break}else zs(this.i,this.l,Fr,null),wa(this,Fr);if(Ws(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vn!=4||G.length!=0||this.h.h||(this.s=1,hn(16),g=!1),this.o=this.o&&g,!g)zs(this.i,this.l,G,"[Invalid Chunked Response]"),ci(this),Qs(this);else if(0<G.length&&!this.W){this.W=!0;var _n=this.j;_n.g==this&&_n.ba&&!_n.M&&(_n.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),gu(_n),_n.M=!0,hn(11))}}else zs(this.i,this.l,G,null),wa(this,G);vn==4&&ci(this),this.o&&!this.J&&(vn==4?yn(this.j,this):(this.o=!1,Ks(this)))}else vm(this.g),g==400&&0<G.indexOf("Unknown SID")?(this.s=3,hn(12)):(this.s=0,hn(13)),ci(this),Qs(this)}}}catch{}finally{}};function Ws(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Ji(u,f){var g=u.C,C=f.indexOf(`
`,g);return C==-1?Gs:(g=Number(f.substring(g,C)),isNaN(g)?sm:(C+=1,C+g>f.length?Gs:(f=f.slice(C,C+g),u.C=C+g,f)))}ai.prototype.cancel=function(){this.J=!0,ci(this)};function Ks(u){u.S=Date.now()+u.I,om(u,u.I)}function om(u,f){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Hs(I(u.ba,u),f)}function ou(u){u.B&&(a.clearTimeout(u.B),u.B=null)}ai.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(oi(this.i,this.A),this.L!=2&&(fr(),hn(17)),ci(this),this.s=2,Qs(this)):om(this,this.S-u)};function Qs(u){u.j.G==0||u.J||yn(u.j,u)}function ci(u){ou(u);var f=u.M;f&&typeof f.ma=="function"&&f.ma(),u.M=null,eu(u.U),u.g&&(f=u.g,u.g=null,f.abort(),f.ma())}function wa(u,f){try{var g=u.j;if(g.G!=0&&(g.g==u||Kd(g.h,u))){if(!u.K&&Kd(g.h,u)&&g.G==3){try{var C=g.Da.g.parse(f)}catch{C=null}if(Array.isArray(C)&&C.length==3){var M=C;if(M[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)Zi(g),no(g);else break e;mu(g),hn(18)}}else g.za=M[1],0<g.za-g.T&&37500>M[2]&&g.F&&g.v==0&&!g.C&&(g.C=Hs(I(g.Za,g),6e3));if(1>=Wd(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else di(g,11)}else if((u.K||g.g==u)&&Zi(g),!X(f))for(M=g.Da.g.parse(f),f=0;f<M.length;f++){let He=M[f];if(g.T=He[0],He=He[1],g.G==2)if(He[0]=="c"){g.K=He[1],g.ia=He[2];let _n=He[3];_n!=null&&(g.la=_n,g.j.info("VER="+g.la));let vn=He[4];vn!=null&&(g.Aa=vn,g.j.info("SVER="+g.Aa));let yu=He[5];yu!=null&&typeof yu=="number"&&0<yu&&(C=1.5*yu,g.L=C,g.j.info("backChannelRequestTimeoutMs_="+C)),C=g;let Fr=u.g;if(Fr){let Em=Fr.g?Fr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Em){var F=C.h;F.g||Em.indexOf("spdy")==-1&&Em.indexOf("quic")==-1&&Em.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(pr(F,F.h),F.h=null))}if(C.D){let sI=Fr.g?Fr.g.getResponseHeader("X-HTTP-Session-Id"):null;sI&&(C.ya=sI,Ze(C.I,C.D,sI))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),C=g;var G=u;if(C.qa=l(C,C.J?C.ia:null,C.W),G.K){Gn(C.h,G);var $e=G,Tt=C.L;Tt&&($e.I=Tt),$e.B&&(ou($e),Ks($e)),C.g=G}else rh(C);0<g.i.length&&Ra(g)}else He[0]!="stop"&&He[0]!="close"||di(g,7);else g.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?di(g,7):hu(g):He[0]!="noop"&&g.l&&g.l.ta(He),g.v=0)}}fr(4)}catch{}}var qd=class{constructor(u,f){this.g=u,this.map=f}};function zd(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gd(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Wd(u){return u.h?1:u.g?u.g.size:0}function Kd(u,f){return u.h?u.h==f:u.g?u.g.has(f):!1}function pr(u,f){u.g?u.g.add(f):u.h=f}function Gn(u,f){u.h&&u.h==f?u.h=null:u.g&&u.g.has(f)&&u.g.delete(f)}zd.prototype.cancel=function(){if(this.i=Ys(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function Ys(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let f=u.i;for(let g of u.g.values())f=f.concat(g.D);return f}return V(u.i)}function ba(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var f=[],g=u.length,C=0;C<g;C++)f.push(u[C]);return f}f=[],g=0;for(C in u)f[g++]=u[C];return f}function Qd(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var f=[];u=u.length;for(var g=0;g<u;g++)f.push(g);return f}f=[],g=0;for(let C in u)f[g++]=C;return f}}}function Ye(u,f){if(u.forEach&&typeof u.forEach=="function")u.forEach(f,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,f,void 0);else for(var g=Qd(u),C=ba(u),M=C.length,F=0;F<M;F++)f.call(void 0,C[F],g&&g[F],u)}var Ta=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ca(u,f){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var C=u[g].indexOf("="),M=null;if(0<=C){var F=u[g].substring(0,C);M=u[g].substring(C+1)}else F=u[g];f(F,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Wn(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Wn){this.h=u.h,Sa(this,u.j),this.o=u.o,this.g=u.g,au(this,u.s),this.l=u.l;var f=u.i,g=new Da;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),am(this,g),this.m=u.m}else u&&(f=String(u).match(Ta))?(this.h=!1,Sa(this,f[1]||"",!0),this.o=xr(f[2]||""),this.g=xr(f[3]||"",!0),au(this,f[4]),this.l=xr(f[5]||"",!0),am(this,f[6]||"",!0),this.m=xr(f[7]||"")):(this.h=!1,this.i=new Da(null,this.h))}Wn.prototype.toString=function(){var u=[],f=this.j;f&&u.push(Kn(f,Yd,!0),":");var g=this.g;return(g||f=="file")&&(u.push("//"),(f=this.o)&&u.push(Kn(f,Yd,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(Kn(g,g.charAt(0)=="/"?lm:um,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",Kn(g,Js)),u.join("")};function kr(u){return new Wn(u)}function Sa(u,f,g){u.j=g?xr(f,!0):f,u.j&&(u.j=u.j.replace(/:$/,""))}function au(u,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);u.s=f}else u.s=null}function am(u,f,g){f instanceof Da?(u.i=f,uu(u.i,u.h)):(g||(f=Kn(f,dm)),u.i=new Da(f,u.h))}function Ze(u,f,g){u.i.set(f,g)}function cu(u){return Ze(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function xr(u,f){return u?f?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Kn(u,f,g){return typeof u=="string"?(u=encodeURI(u).replace(f,cm),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function cm(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Yd=/[#\/\?@]/g,um=/[#\?:]/g,lm=/[#\?]/g,dm=/[#\?@]/g,Js=/#/g;function Da(u,f){this.h=this.g=null,this.i=u||null,this.j=!!f}function ui(u){u.g||(u.g=new Map,u.h=0,u.i&&Ca(u.i,function(f,g){u.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}n=Da.prototype,n.add=function(u,f){ui(this),this.i=null,u=Or(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(f),this.h+=1,this};function hm(u,f){ui(u),f=Or(u,f),u.g.has(f)&&(u.i=null,u.h-=u.g.get(f).length,u.g.delete(f))}function Mr(u,f){return ui(u),f=Or(u,f),u.g.has(f)}n.forEach=function(u,f){ui(this),this.g.forEach(function(g,C){g.forEach(function(M){u.call(f,M,C,this)},this)},this)},n.na=function(){ui(this);let u=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let C=0;C<f.length;C++){let M=u[C];for(let F=0;F<M.length;F++)g.push(f[C])}return g},n.V=function(u){ui(this);let f=[];if(typeof u=="string")Mr(this,u)&&(f=f.concat(this.g.get(Or(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)f=f.concat(u[g])}return f},n.set=function(u,f){return ui(this),this.i=null,u=Or(this,u),Mr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[f]),this.h+=1,this},n.get=function(u,f){return u?(u=this.V(u),0<u.length?String(u[0]):f):f};function fm(u,f,g){hm(u,f),0<g.length&&(u.i=null,u.g.set(Or(u,f),V(g)),u.h+=g.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var C=f[g];let F=encodeURIComponent(String(C)),G=this.V(C);for(C=0;C<G.length;C++){var M=F;G[C]!==""&&(M+="="+encodeURIComponent(String(G[C]))),u.push(M)}}return this.i=u.join("&")};function Or(u,f){return f=String(f),u.j&&(f=f.toLowerCase()),f}function uu(u,f){f&&!u.j&&(ui(u),u.i=null,u.g.forEach(function(g,C){var M=C.toLowerCase();C!=M&&(hm(this,C),fm(this,M,g))},u)),u.j=f}function pm(u,f){let g=new qs;if(a.Image){let C=new Image;C.onload=R(Fn,g,"TestLoadImage: loaded",!0,f,C),C.onerror=R(Fn,g,"TestLoadImage: error",!1,f,C),C.onabort=R(Fn,g,"TestLoadImage: abort",!1,f,C),C.ontimeout=R(Fn,g,"TestLoadImage: timeout",!1,f,C),a.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=u}else f(!1)}function Aa(u,f){let g=new qs,C=new AbortController,M=setTimeout(()=>{C.abort(),Fn(g,"TestPingServer: timeout",!1,f)},1e4);fetch(u,{signal:C.signal}).then(F=>{clearTimeout(M),F.ok?Fn(g,"TestPingServer: ok",!0,f):Fn(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(M),Fn(g,"TestPingServer: error",!1,f)})}function Fn(u,f,g,C,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),C(g)}catch{}}function mm(){this.g=new tm}function Jd(u,f,g){let C=g||"";try{Ye(u,function(M,F){let G=M;d(M)&&(G=ga(M)),f.push(C+F+"="+encodeURIComponent(G))})}catch(M){throw f.push(C+"type="+encodeURIComponent("_badmap")),M}}function Je(u){this.l=u.Ub||null,this.j=u.eb||!1}k(Je,Us),Je.prototype.g=function(){return new lu(this.l,this.j)},Je.prototype.i=(function(u){return function(){return u}})({});function lu(u,f){zt.call(this),this.D=u,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(lu,zt),n=lu.prototype,n.open=function(u,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=f,this.readyState=1,Zs(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(f.body=u),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xs(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Zs(this)),this.g&&(this.readyState=3,Zs(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gm(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function gm(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var f=u.value?u.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!u.done}))&&(this.response=this.responseText+=f)}u.done?Xs(this):Zs(this),this.readyState==3&&gm(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Xs(this))},n.Qa=function(u){this.g&&(this.response=u,Xs(this))},n.ga=function(){this.g&&Xs(this)};function Xs(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Zs(u)}n.setRequestHeader=function(u,f){this.u.append(u,f)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=f.next();return u.join(`\r
`)};function Zs(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(lu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Xd(u){let f="";return Pe(u,function(g,C){f+=C,f+=":",f+=g,f+=`\r
`}),f}function eo(u,f,g){e:{for(C in g){var C=!1;break e}C=!0}C||(g=Xd(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):Ze(u,f,g))}function qe(u){zt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(qe,zt);var ym=/^https?$/i,iI=["POST","PUT"];n=qe.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,f,g,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);f=f?f.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ea.g(),this.v=this.o?Bd(this.o):Bd(Ea),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(f,String(u),!0),this.B=!1}catch(F){to(this,F);return}if(u=g||"",g=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var M in C)g.set(M,C[M]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(let F of C.keys())g.set(F,C.get(F));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(g.keys()).find(F=>F.toLowerCase()=="content-type"),M=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(iI,f,void 0))||C||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[F,G]of g)this.g.setRequestHeader(F,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{eh(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){to(this,F)}};function to(u,f){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=f,u.m=5,Zd(u),Xi(u)}function Zd(u){u.A||(u.A=!0,en(u,"complete"),en(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,en(this,"complete"),en(this,"abort"),Xi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xi(this,!0)),qe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?du(this):this.bb())},n.bb=function(){du(this)};function du(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Vn(u)!=4||u.Z()!=2)){if(u.u&&Vn(u)==4)Xp(u.Ea,0,u);else if(en(u,"readystatechange"),Vn(u)==4){u.h=!1;try{let G=u.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var C;if(C=G===0){var M=String(u.D).match(Ta)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),C=!ym.test(M?M.toLowerCase():"")}g=C}if(g)en(u,"complete"),en(u,"success");else{u.m=6;try{var F=2<Vn(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",Zd(u)}}finally{Xi(u)}}}}function Xi(u,f){if(u.g){eh(u);let g=u.g,C=u.v[0]?()=>{}:null;u.g=null,u.v=null,f||en(u,"ready");try{g.onreadystatechange=C}catch{}}}function eh(u){u.I&&(a.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Vn(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Vn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var f=this.g.responseText;return u&&f.indexOf(u)==0&&(f=f.substring(u.length)),Yi(f)}};function _m(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function vm(u){let f={};u=(u.g&&2<=Vn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<u.length;C++){if(X(u[C]))continue;var g=w(u[C]);let M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();let F=f[M]||[];f[M]=F,F.push(g)}T(f,function(C){return C.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Lr(u,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||f}function th(u){this.Aa=0,this.i=[],this.j=new qs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Lr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Lr("baseRetryDelayMs",5e3,u),this.cb=Lr("retryDelaySeedMs",1e4,u),this.Wa=Lr("forwardChannelMaxRetries",2,u),this.wa=Lr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new zd(u&&u.concurrentRequestLimit),this.Da=new mm,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=th.prototype,n.la=8,n.G=1,n.connect=function(u,f,g,C){hn(0),this.W=u,this.H=f||{},g&&C!==void 0&&(this.H.OSID=g,this.H.OAID=C),this.F=this.X,this.I=l(this,null,this.W),Ra(this)};function hu(u){if(fu(u),u.G==3){var f=u.U++,g=kr(u.I);if(Ze(g,"SID",u.K),Ze(g,"RID",f),Ze(g,"TYPE","terminate"),ro(u,g),f=new ai(u,u.j,f),f.L=2,f.v=cu(kr(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=f.v,g=!0),g||(f.g=p(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Ks(f)}es(u)}function no(u){u.g&&(gu(u),u.g.cancel(),u.g=null)}function fu(u){no(u),u.u&&(a.clearTimeout(u.u),u.u=null),Zi(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Ra(u){if(!Gd(u.h)&&!u.s){u.s=!0;var f=u.Ga;ha||Kp(),si||(ha(),si=!0),Os.add(f,u),u.B=0}}function pu(u,f){return Wd(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=f.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Hs(I(u.Ga,u,f),sh(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let M=new ai(this,this.j,u),F=this.o;if(this.S&&(F?(F=_(F),b(F,this.S)):F=this.S),this.m!==null||this.O||(M.H=F,F=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var C=this.i[g];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(f+=C,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=li(this,M,f),g=kr(this.I),Ze(g,"RID",u),Ze(g,"CVER",22),this.D&&Ze(g,"X-HTTP-Session-Id",this.D),ro(this,g),F&&(this.O?f="headers="+encodeURIComponent(String(Xd(F)))+"&"+f:this.m&&eo(g,this.m,F)),pr(this.h,M),this.Ua&&Ze(g,"TYPE","init"),this.P?(Ze(g,"$req",f),Ze(g,"SID","null"),M.T=!0,iu(M,g,null)):iu(M,g,f),this.G=2}}else this.G==3&&(u?nh(this,u):this.i.length==0||Gd(this.h)||nh(this))};function nh(u,f){var g;f?g=f.l:g=u.U++;let C=kr(u.I);Ze(C,"SID",u.K),Ze(C,"RID",g),Ze(C,"AID",u.T),ro(u,C),u.m&&u.o&&eo(C,u.m,u.o),g=new ai(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),f&&(u.i=f.D.concat(u.i)),f=li(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),pr(u.h,g),iu(g,C,f)}function ro(u,f){u.H&&Pe(u.H,function(g,C){Ze(f,C,g)}),u.l&&Ye({},function(g,C){Ze(f,C,g)})}function li(u,f,g){g=Math.min(u.i.length,g);var C=u.l?I(u.l.Na,u.l,u):null;e:{var M=u.i;let F=-1;for(;;){let G=["count="+g];F==-1?0<g?(F=M[0].g,G.push("ofs="+F)):F=0:G.push("ofs="+F);let $e=!0;for(let Tt=0;Tt<g;Tt++){let He=M[Tt].g,_n=M[Tt].map;if(He-=F,0>He)F=Math.max(0,M[Tt].g-100),$e=!1;else try{Jd(_n,G,"req"+He+"_")}catch{C&&C(_n)}}if($e){C=G.join("&");break e}}}return u=u.i.splice(0,g),f.D=u,C}function rh(u){if(!u.g&&!u.u){u.Y=1;var f=u.Fa;ha||Kp(),si||(ha(),si=!0),Os.add(f,u),u.v=0}}function mu(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Hs(I(u.Fa,u),sh(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,ih(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Hs(I(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,hn(10),no(this),ih(this))};function gu(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function ih(u){u.g=new ai(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var f=kr(u.qa);Ze(f,"RID","rpc"),Ze(f,"SID",u.K),Ze(f,"AID",u.T),Ze(f,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ze(f,"TO",u.ja),Ze(f,"TYPE","xmlhttp"),ro(u,f),u.m&&u.o&&eo(f,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=cu(kr(f)),g.m=null,g.P=!0,su(g,u)}n.Za=function(){this.C!=null&&(this.C=null,no(this),mu(this),hn(19))};function Zi(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function yn(u,f){var g=null;if(u.g==f){Zi(u),gu(u),u.g=null;var C=2}else if(Kd(u.h,f))g=f.D,Gn(u.h,f),C=1;else return;if(u.G!=0){if(f.o)if(C==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var M=u.B;C=nu(),en(C,new ya(C,g)),Ra(u)}else rh(u);else if(M=f.s,M==3||M==0&&0<f.X||!(C==1&&pu(u,f)||C==2&&mu(u)))switch(g&&0<g.length&&(f=u.h,f.i=f.i.concat(g)),M){case 1:di(u,5);break;case 4:di(u,10);break;case 3:di(u,6);break;default:di(u,2)}}}function sh(u,f){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*f}function di(u,f){if(u.j.info("Error code "+f),f==2){var g=I(u.fb,u),C=u.Xa;let M=!C;C=new Wn(C||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Sa(C,"https"),cu(C),M?pm(C.toString(),g):Aa(C.toString(),g)}else hn(2);u.G=0,u.l&&u.l.sa(f),es(u),fu(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),hn(2)):(this.j.info("Failed to ping google.com"),hn(1))};function es(u){if(u.G=0,u.ka=[],u.l){let f=Ys(u.h);(f.length!=0||u.i.length!=0)&&(O(u.ka,f),O(u.ka,u.i),u.h.i.length=0,V(u.i),u.i.length=0),u.l.ra()}}function l(u,f,g){var C=g instanceof Wn?kr(g):new Wn(g);if(C.g!="")f&&(C.g=f+"."+C.g),au(C,C.s);else{var M=a.location;C=M.protocol,f=f?f+"."+M.hostname:M.hostname,M=+M.port;var F=new Wn(null);C&&Sa(F,C),f&&(F.g=f),M&&au(F,M),g&&(F.l=g),C=F}return g=u.D,f=u.ya,g&&f&&Ze(C,g,f),Ze(C,"VER",u.la),ro(u,C),C}function p(u,f,g){if(f&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=u.Ca&&!u.pa?new qe(new Je({eb:g})):new qe(u.pa),f.Ha(u.J),f}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function y(){}n=y.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function S(){}S.prototype.g=function(u,f){return new x(u,f)};function x(u,f){zt.call(this),this.g=new th(f),this.l=u,this.h=f&&f.messageUrlParams||null,u=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(u?u["X-WebChannel-Content-Type"]=f.messageContentType:u={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(u?u["X-WebChannel-Client-Profile"]=f.va:u={"X-WebChannel-Client-Profile":f.va}),this.g.S=u,(u=f&&f.Sb)&&!X(u)&&(this.g.m=u),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!X(f)&&(this.g.D=f,u=this.h,u!==null&&f in u&&(u=this.h,f in u&&delete u[f])),this.j=new he(this)}k(x,zt),x.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},x.prototype.close=function(){hu(this.g)},x.prototype.o=function(u){var f=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=ga(u),u=g);f.i.push(new qd(f.Ya++,u)),f.G==3&&Ra(f)},x.prototype.N=function(){this.g.l=null,delete this.j,hu(this.g),delete this.g,x.aa.N.call(this)};function L(u){Gt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var f=u.__sm__;if(f){e:{for(let g in f){u=g;break e}u=void 0}(this.i=u)&&(u=this.i,f=f!==null&&u in f?f[u]:void 0),this.data=f}else this.data=u}k(L,Gt);function W(){tu.call(this),this.status=1}k(W,tu);function he(u){this.g=u}k(he,y),he.prototype.ua=function(){en(this.g,"a")},he.prototype.ta=function(u){en(this.g,new L(u))},he.prototype.sa=function(u){en(this.g,new W)},he.prototype.ra=function(){en(this.g,"b")},S.prototype.createWebChannel=S.prototype.g,x.prototype.send=x.prototype.o,x.prototype.open=x.prototype.m,x.prototype.close=x.prototype.close,OA=Ps.createWebChannelTransport=function(){return new S},MA=Ps.getStatEventTarget=function(){return nu()},xA=Ps.Event=zn,EE=Ps.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},va.NO_ERROR=0,va.TIMEOUT=8,va.HTTP_ERROR=6,Sp=Ps.ErrorCode=va,ru.COMPLETE="complete",kA=Ps.EventType=ru,js.EventType=Bs,Bs.OPEN="a",Bs.CLOSE="b",Bs.ERROR="c",Bs.MESSAGE="d",zt.prototype.listen=zt.prototype.K,md=Ps.WebChannel=js,AX=Ps.FetchXmlHttpFactory=Je,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,NA=Ps.XhrIo=qe}).apply(typeof vE<"u"?vE:typeof self<"u"?self:typeof window<"u"?window:{});var PU="@firebase/firestore",NU="4.8.0";var ln=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");var Od="11.10.0";var Fc=new Ui("@firebase/firestore");function gd(){return Fc.logLevel}function te(n,...e){if(Fc.logLevel<=ke.DEBUG){let t=e.map(uP);Fc.debug(`Firestore (${Od}): ${n}`,...t)}}function Vc(n,...e){if(Fc.logLevel<=ke.ERROR){let t=e.map(uP);Fc.error(`Firestore (${Od}): ${n}`,...t)}}function bd(n,...e){if(Fc.logLevel<=ke.WARN){let t=e.map(uP);Fc.warn(`Firestore (${Od}): ${n}`,...t)}}function uP(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Ce(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,dj(n,r,t)}function dj(n,e,t){let r=`FIRESTORE (${Od}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Vc(r),new Error(r)}function bt(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||dj(e,i,r)}function ct(n,e){return n}var $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},oe=class extends cr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Ns=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var DE=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},UA=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ln.UNAUTHENTICATED))}shutdown(){}},jA=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},BA=class{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){bt(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),s=new Ns;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ns,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ns)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(bt(typeof r.accessToken=="string",31837,{l:r}),new DE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return bt(e===null||typeof e=="string",2055,{h:e}),new ln(e)}},$A=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},HA=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new $A(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}},AE=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},qA=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ur(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){bt(this.o===void 0,3512);let r=s=>{s.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.m;return this.m=s.token,te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.V.getImmediate({optional:!0});s?i(s):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new AE(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(bt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new AE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function RX(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function PX(){return new TextEncoder}var xp=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=RX(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}};function Be(n,e){return n<e?-1:n>e?1:0}function zA(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Be(r,i);{let s=PX(),o=NX(s.encode(kU(n,t)),s.encode(kU(e,t)));return o!==0?o:Be(r,i)}}t+=r>65535?2:1}return Be(n.length,e.length)}function kU(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function NX(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Be(n[t],e[t]);return Be(n.length,e.length)}function Td(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var xU="__name__",RE=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ce(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ce(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=n.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return Be(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):zA(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _E.fromString(e.substring(4,e.length-2))}},Xt=class n extends RE{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new oe($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},kX=/^[_a-zA-Z][_a-zA-Z0-9]*$/,lr=class n extends RE{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return kX.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xU}static keyField(){return new n([xU])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new oe($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new oe($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new oe($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new oe($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var Ae=class n{constructor(e){this.path=e}static fromPath(e){return new n(Xt.fromString(e))}static fromName(e){return new n(Xt.fromString(e).popFirst(5))}static empty(){return new n(Xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Xt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Xt(e.slice()))}};function xX(n,e,t){if(!t)throw new oe($.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function MX(n,e,t,r){if(e===!0&&r===!0)throw new oe($.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function MU(n){if(!Ae.isDocumentKey(n))throw new oe($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function hj(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function lP(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ce(12329,{type:typeof n})}function GA(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new oe($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=lP(n);throw new oe($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Bt(n,e){let t={typeString:n};return e&&(t.value=e),t}function Hp(n,e){if(!hj(n))throw new oe($.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let o=n[r];if(i&&typeof o!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){t=`Expected '${r}' field to equal '${s.value}'`;break}}if(t)throw new oe($.INVALID_ARGUMENT,t);return!0}var OU=-62135596800,LU=1e6,Zt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*LU);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new oe($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new oe($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<OU)throw new oe($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/LU}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Hp(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-OU;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Zt._jsonSchemaVersion="firestore/timestamp/1.0",Zt._jsonSchema={type:Bt("string",Zt._jsonSchemaVersion),seconds:Bt("number"),nanoseconds:Bt("number")};var wt=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new Zt(0,0))}static max(){return new n(new Zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Mp=-1,WA=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};WA.UNKNOWN_ID=-1;function OX(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=wt.fromTimestamp(r===1e9?new Zt(t+1,0):new Zt(t,r));return new Uc(i,Ae.empty(),e)}function LX(n){return new Uc(n.readTime,n.key,Mp)}var Uc=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(wt.min(),Ae.empty(),Mp)}static max(){return new n(wt.max(),Ae.empty(),Mp)}};function FX(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ae.comparator(n.documentKey,e.documentKey),t!==0?t:Be(n.largestBatchId,e.largestBatchId))}var VX="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",KA=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function dP(n){if(n.code!==$.FAILED_PRECONDITION||n.message!==VX)throw n;te("LocalStore","Unexpectedly lost primary lease")}var H=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},c=>r(c))}),o=!0,s===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let d=c;t(e[d]).next(h=>{o[d]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};function UX(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function qp(n){return n.name==="IndexedDbTransactionError"}var fj=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),hP=-1;function fP(n){return n==null}function Op(n){return n===0&&1/n==-1/0}function jX(n){return typeof n=="number"&&Number.isInteger(n)&&!Op(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var pj="";function BX(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=FU(e)),e=$X(n.get(t),e);return FU(e)}function $X(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let s=n.charAt(i);switch(s){case"\0":t+="";break;case pj:t+="";break;default:t+=s}}return t}function FU(n){return n+pj+""}var HX="remoteDocuments",mj="owner";var gj="mutationQueues";var yj="mutations";var _j="documentMutations",qX="remoteDocumentsV14";var vj="remoteDocumentGlobal";var Ej="targets";var Ij="targetDocuments";var wj="targetGlobal",bj="collectionParents";var Tj="clientMetadata";var Cj="bundles";var Sj="namedQueries";var zX="indexConfiguration";var GX="indexState";var WX="indexEntries";var Dj="documentOverlays";var KX="globals";var QX=[gj,yj,_j,HX,Ej,mj,wj,Ij,Tj,vj,bj,Cj,Sj],z0e=[...QX,Dj],YX=[gj,yj,_j,qX,Ej,mj,wj,Ij,Tj,vj,bj,Cj,Sj,Dj],JX=YX,XX=[...JX,zX,GX,WX];var G0e=[...XX,KX];function VU(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ld(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Aj(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var hr=class n{constructor(e,t){this.comparator=e,this.root=t||zi.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,zi.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _d(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _d(this.root,e,this.comparator,!1)}getReverseIterator(){return new _d(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _d(this.root,e,this.comparator,!0)}},_d=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},zi=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}};zi.EMPTY=null,zi.RED=!0,zi.BLACK=!1;zi.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,t,r,i,s){return this}insert(e,t,r){return new zi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Dn=class n{constructor(e){this.comparator=e,this.data=new hr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new PE(this.data.getIterator())}getIteratorFrom(e){return new PE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},PE=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var qi=class n{constructor(e){this.fields=e,e.sort(lr.comparator)}static empty(){return new n([])}unionWith(e){let t=new Dn(lr.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Td(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var QA=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ks=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new QA("Invalid base64 string: "+s):s}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ks.EMPTY_BYTE_STRING=new ks("");var ZX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ca(n){if(bt(!!n,39018),typeof n=="string"){let e=0,t=ZX.exec(n);if(bt(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:jt(n.seconds),nanos:jt(n.nanos)}}function jt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function jc(n){return typeof n=="string"?ks.fromBase64String(n):ks.fromUint8Array(n)}var Rj="server_timestamp",Pj="__type__",Nj="__previous_value__",kj="__local_write_time__";function pP(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Pj])===null||t===void 0?void 0:t.stringValue)===Rj}function mP(n){let e=n.mapValue.fields[Nj];return pP(e)?mP(e):e}function NE(n){let e=ca(n.mapValue.fields[kj].timestampValue);return new Zt(e.seconds,e.nanos)}var YA=class{constructor(e,t,r,i,s,o,a,c,d,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=h}},kE="(default)",JA=class n{constructor(e,t){this.projectId=e,this.database=t||kE}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===kE}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var gP="__type__",xj="__max__",IE={mapValue:{fields:{__type__:{stringValue:xj}}}},yP="__vector__",Lp="value";function Bc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?pP(n)?4:Oj(n)?9007199254740991:Mj(n)?10:11:Ce(28295,{value:n})}function Gi(n,e){if(n===e)return!0;let t=Bc(n);if(t!==Bc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return NE(n).isEqual(NE(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=ca(i.timestampValue),a=ca(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,s){return jc(i.bytesValue).isEqual(jc(s.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,s){return jt(i.geoPointValue.latitude)===jt(s.geoPointValue.latitude)&&jt(i.geoPointValue.longitude)===jt(s.geoPointValue.longitude)})(n,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return jt(i.integerValue)===jt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=jt(i.doubleValue),a=jt(s.doubleValue);return o===a?Op(o)===Op(a):isNaN(o)&&isNaN(a)}return!1})(n,e);case 9:return Td(n.arrayValue.values||[],e.arrayValue.values||[],Gi);case 10:case 11:return(function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(VU(o)!==VU(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Gi(o[c],a[c])))return!1;return!0})(n,e);default:return Ce(52216,{left:n})}}function Fp(n,e){return(n.values||[]).find(t=>Gi(t,e))!==void 0}function Cd(n,e){if(n===e)return 0;let t=Bc(n),r=Bc(e);if(t!==r)return Be(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Be(n.booleanValue,e.booleanValue);case 2:return(function(s,o){let a=jt(s.integerValue||s.doubleValue),c=jt(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1})(n,e);case 3:return UU(n.timestampValue,e.timestampValue);case 4:return UU(NE(n),NE(e));case 5:return zA(n.stringValue,e.stringValue);case 6:return(function(s,o){let a=jc(s),c=jc(o);return a.compareTo(c)})(n.bytesValue,e.bytesValue);case 7:return(function(s,o){let a=s.split("/"),c=o.split("/");for(let d=0;d<a.length&&d<c.length;d++){let h=Be(a[d],c[d]);if(h!==0)return h}return Be(a.length,c.length)})(n.referenceValue,e.referenceValue);case 8:return(function(s,o){let a=Be(jt(s.latitude),jt(o.latitude));return a!==0?a:Be(jt(s.longitude),jt(o.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return jU(n.arrayValue,e.arrayValue);case 10:return(function(s,o){var a,c,d,h;let m=s.fields||{},I=o.fields||{},R=(a=m[Lp])===null||a===void 0?void 0:a.arrayValue,k=(c=I[Lp])===null||c===void 0?void 0:c.arrayValue,V=Be(((d=R?.values)===null||d===void 0?void 0:d.length)||0,((h=k?.values)===null||h===void 0?void 0:h.length)||0);return V!==0?V:jU(R,k)})(n.mapValue,e.mapValue);case 11:return(function(s,o){if(s===IE.mapValue&&o===IE.mapValue)return 0;if(s===IE.mapValue)return 1;if(o===IE.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),d=o.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let m=0;m<c.length&&m<h.length;++m){let I=zA(c[m],h[m]);if(I!==0)return I;let R=Cd(a[c[m]],d[h[m]]);if(R!==0)return R}return Be(c.length,h.length)})(n.mapValue,e.mapValue);default:throw Ce(23264,{le:t})}}function UU(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Be(n,e);let t=ca(n),r=ca(e),i=Be(t.seconds,r.seconds);return i!==0?i:Be(t.nanos,r.nanos)}function jU(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let s=Cd(t[i],r[i]);if(s)return s}return Be(t.length,r.length)}function Sd(n){return XA(n)}function XA(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=ca(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return jc(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ae.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let s of t.values||[])i?i=!1:r+=",",r+=XA(s);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${XA(t.fields[o])}`;return i+"}"})(n.mapValue):Ce(61005,{value:n})}function TE(n){switch(Bc(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=mP(n);return e?16+TE(e):16;case 5:return 2*n.stringValue.length;case 6:return jc(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,s)=>i+TE(s),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Ld(r.fields,(s,o)=>{i+=s.length+TE(o)}),i})(n.mapValue);default:throw Ce(13486,{value:n})}}function ZA(n){return!!n&&"integerValue"in n}function _P(n){return!!n&&"arrayValue"in n}function CE(n){return!!n&&"mapValue"in n}function Mj(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[gP])===null||t===void 0?void 0:t.stringValue)===yP}function Ap(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Ld(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ap(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ap(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Oj(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===xj}var K0e={mapValue:{fields:{[gP]:{stringValue:yP},[Lp]:{arrayValue:{}}}}};var Hi=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!CE(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ap(t)}setAll(e){let t=lr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Ap(o):i.push(a.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());CE(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Gi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];CE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ld(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n(Ap(this.value))}};function Lj(n){let e=[];return Ld(n.fields,(t,r)=>{let i=new lr([t]);if(CE(r)){let s=Lj(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new qi(e)}var Dd=class n{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new n(e,0,wt.min(),wt.min(),wt.min(),Hi.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,wt.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,wt.min(),wt.min(),Hi.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,wt.min(),wt.min(),Hi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ad=class{constructor(e,t){this.position=e,this.inclusive=t}};function BU(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],o=n.position[i];if(s.field.isKeyField()?r=Ae.comparator(Ae.fromName(o.referenceValue),t.key):r=Cd(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function $U(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Gi(n.position[t],e.position[t]))return!1;return!0}var Rd=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function eZ(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var xE=class{},dn=class n extends xE{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new tR(e,t,r):t==="array-contains"?new iR(e,r):t==="in"?new sR(e,r):t==="not-in"?new oR(e,r):t==="array-contains-any"?new aR(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new nR(e,r):new rR(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Cd(t,this.value)):t!==null&&Bc(this.value)===Bc(t)&&this.matchesComparison(Cd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},ua=class n extends xE{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return Fj(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function Fj(n){return n.op==="and"}function Vj(n){return tZ(n)&&Fj(n)}function tZ(n){for(let e of n.filters)if(e instanceof ua)return!1;return!0}function eR(n){if(n instanceof dn)return n.field.canonicalString()+n.op.toString()+Sd(n.value);if(Vj(n))return n.filters.map(e=>eR(e)).join(",");{let e=n.filters.map(t=>eR(t)).join(",");return`${n.op}(${e})`}}function Uj(n,e){return n instanceof dn?(function(r,i){return i instanceof dn&&r.op===i.op&&r.field.isEqual(i.field)&&Gi(r.value,i.value)})(n,e):n instanceof ua?(function(r,i){return i instanceof ua&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Uj(o,i.filters[a]),!0):!1})(n,e):void Ce(19439)}function jj(n){return n instanceof dn?(function(t){return`${t.field.canonicalString()} ${t.op} ${Sd(t.value)}`})(n):n instanceof ua?(function(t){return t.op.toString()+" {"+t.getFilters().map(jj).join(" ,")+"}"})(n):"Filter"}var tR=class extends dn{constructor(e,t,r){super(e,t,r),this.key=Ae.fromName(r.referenceValue)}matches(e){let t=Ae.comparator(e.key,this.key);return this.matchesComparison(t)}},nR=class extends dn{constructor(e,t){super(e,"in",t),this.keys=Bj("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},rR=class extends dn{constructor(e,t){super(e,"not-in",t),this.keys=Bj("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function Bj(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ae.fromName(r.referenceValue))}var iR=class extends dn{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return _P(t)&&Fp(t.arrayValue,this.value)}},sR=class extends dn{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Fp(this.value.arrayValue,t)}},oR=class extends dn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Fp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Fp(this.value.arrayValue,t)}},aR=class extends dn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!_P(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Fp(this.value.arrayValue,r))}};var cR=class{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Pe=null}};function HU(n,e=null,t=[],r=[],i=null,s=null,o=null){return new cR(n,e,t,r,i,s,o)}function vP(n){let e=ct(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>eR(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(s){return s.field.canonicalString()+s.dir})(r)).join(","),fP(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Sd(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Sd(r)).join(",")),e.Pe=t}return e.Pe}function EP(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!eZ(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Uj(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!$U(n.startAt,e.startAt)&&$U(n.endAt,e.endAt)}var Pd=class{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function nZ(n,e,t,r,i,s,o,a){return new Pd(n,e,t,r,i,s,o,a)}function rZ(n){return new Pd(n)}function qU(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function iZ(n){return n.collectionGroup!==null}function Rp(n){let e=ct(n);if(e.Te===null){e.Te=[];let t=new Set;for(let s of e.explicitOrderBy)e.Te.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Dn(lr.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.Te.push(new Rd(s,r))}),t.has(lr.keyField().canonicalString())||e.Te.push(new Rd(lr.keyField(),r))}return e.Te}function kc(n){let e=ct(n);return e.Ie||(e.Ie=sZ(e,Rp(n))),e.Ie}function sZ(n,e){if(n.limitType==="F")return HU(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Rd(i.field,s)});let t=n.endAt?new Ad(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ad(n.startAt.position,n.startAt.inclusive):null;return HU(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function uR(n,e,t){return new Pd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function $j(n,e){return EP(kc(n),kc(e))&&n.limitType===e.limitType}function Hj(n){return`${vP(kc(n))}|lt:${n.limitType}`}function Dp(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>jj(i)).join(", ")}]`),fP(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Sd(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Sd(i)).join(",")),`Target(${r})`})(kc(n))}; limitType=${n.limitType})`}function IP(n,e){return e.isFoundDocument()&&(function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ae.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(n,e)&&(function(r,i){for(let s of Rp(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(o,a,c){let d=BU(o,a,c);return o.inclusive?d<=0:d<0})(r.startAt,Rp(r),i)||r.endAt&&!(function(o,a,c){let d=BU(o,a,c);return o.inclusive?d>=0:d>0})(r.endAt,Rp(r),i))})(n,e)}function oZ(n){return(e,t)=>{let r=!1;for(let i of Rp(n)){let s=aZ(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function aZ(n,e,t){let r=n.field.isKeyField()?Ae.comparator(e.key,t.key):(function(s,o,a){let c=o.data.field(s),d=a.data.field(s);return c!==null&&d!==null?Cd(c,d):Ce(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ce(19790,{direction:n.dir})}}var xs=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ld(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return Aj(this.inner)}size(){return this.innerSize}};var cZ=new hr(Ae.comparator);function ME(){return cZ}var qj=new hr(Ae.comparator);function wE(...n){let e=qj;for(let t of n)e=e.insert(t.key,t);return e}function zj(n){let e=qj;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Nc(){return Pp()}function Gj(){return Pp()}function Pp(){return new xs(n=>n.toString(),(n,e)=>n.isEqual(e))}var uZ=new hr(Ae.comparator),lZ=new Dn(Ae.comparator);function Sn(...n){let e=lZ;for(let t of n)e=e.add(t);return e}var dZ=new Dn(Be);function hZ(){return dZ}function wP(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Op(e)?"-0":e}}function Wj(n){return{integerValue:""+n}}function fZ(n,e){return jX(e)?Wj(e):wP(n,e)}var Nd=class{constructor(){this._=void 0}};function pZ(n,e,t){return n instanceof kd?(function(i,s){let o={fields:{[Pj]:{stringValue:Rj},[kj]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&pP(s)&&(s=mP(s)),s&&(o.fields[Nj]=s),{mapValue:o}})(t,e):n instanceof $c?Qj(n,e):n instanceof Hc?Yj(n,e):(function(i,s){let o=Kj(i,s),a=zU(o)+zU(i.Ee);return ZA(o)&&ZA(i.Ee)?Wj(a):wP(i.serializer,a)})(n,e)}function mZ(n,e,t){return n instanceof $c?Qj(n,e):n instanceof Hc?Yj(n,e):t}function Kj(n,e){return n instanceof xd?(function(r){return ZA(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}var kd=class extends Nd{},$c=class extends Nd{constructor(e){super(),this.elements=e}};function Qj(n,e){let t=Jj(e);for(let r of n.elements)t.some(i=>Gi(i,r))||t.push(r);return{arrayValue:{values:t}}}var Hc=class extends Nd{constructor(e){super(),this.elements=e}};function Yj(n,e){let t=Jj(e);for(let r of n.elements)t=t.filter(i=>!Gi(i,r));return{arrayValue:{values:t}}}var xd=class extends Nd{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function zU(n){return jt(n.integerValue||n.doubleValue)}function Jj(n){return _P(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function gZ(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof $c&&i instanceof $c||r instanceof Hc&&i instanceof Hc?Td(r.elements,i.elements,Gi):r instanceof xd&&i instanceof xd?Gi(r.Ee,i.Ee):r instanceof kd&&i instanceof kd})(n.transform,e.transform)}var lR=class{constructor(e,t){this.version=e,this.transformResults=t}},xc=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function SE(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Md=class{};function Xj(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new OE(n.key,xc.none()):new qc(n.key,n.data,xc.none());{let t=n.data,r=Hi.empty(),i=new Dn(lr.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ms(n.key,r,new qi(i.toArray()),xc.none())}}function yZ(n,e,t){n instanceof qc?(function(i,s,o){let a=i.value.clone(),c=WU(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()})(n,e,t):n instanceof Ms?(function(i,s,o){if(!SE(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=WU(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(Zj(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(n,e,t):(function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,t)}function Np(n,e,t,r){return n instanceof qc?(function(s,o,a,c){if(!SE(s.precondition,o))return a;let d=s.value.clone(),h=KU(s.fieldTransforms,c,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null})(n,e,t,r):n instanceof Ms?(function(s,o,a,c){if(!SE(s.precondition,o))return a;let d=KU(s.fieldTransforms,c,o),h=o.data;return h.setAll(Zj(s)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))})(n,e,t,r):(function(s,o,a){return SE(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a})(n,e,t)}function _Z(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),s=Kj(r.transform,i||null);s!=null&&(t===null&&(t=Hi.empty()),t.set(r.field,s))}return t||null}function GU(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Td(r,i,(s,o)=>gZ(s,o))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var qc=class extends Md{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Ms=class extends Md{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function Zj(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function WU(n,e,t){let r=new Map;bt(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,mZ(o,a,t[i]))}return r}function KU(n,e,t){let r=new Map;for(let i of n){let s=i.transform,o=t.data.field(i.field);r.set(i.field,pZ(s,o,e))}return r}var OE=class extends Md{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},dR=class extends Md{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var hR=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&yZ(s,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Np(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Np(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=Gj();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;let c=Xj(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(wt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Sn())}isEqual(e){return this.batchId===e.batchId&&Td(this.mutations,e.mutations,(t,r)=>GU(t,r))&&Td(this.baseMutations,e.baseMutations,(t,r)=>GU(t,r))}},fR=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){bt(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return uZ})(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new n(e,t,r,i)}};var pR=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Vt,Fe;function vZ(n){switch(n){case $.OK:return Ce(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return Ce(15467,{code:n})}}function EZ(n){if(n===void 0)return Vc("GRPC error has no .code"),$.UNKNOWN;switch(n){case Vt.OK:return $.OK;case Vt.CANCELLED:return $.CANCELLED;case Vt.UNKNOWN:return $.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return $.INTERNAL;case Vt.UNAVAILABLE:return $.UNAVAILABLE;case Vt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Vt.NOT_FOUND:return $.NOT_FOUND;case Vt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Vt.ABORTED:return $.ABORTED;case Vt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Vt.DATA_LOSS:return $.DATA_LOSS;default:return Ce(39323,{code:n})}}(Fe=Vt||(Vt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";var Q0e=new _E([4294967295,4294967295],0);var mR=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function gR(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IZ(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function wZ(n,e){return gR(n,e.toTimestamp())}function Ed(n){return bt(!!n,49232),wt.fromTimestamp((function(t){let r=ca(t);return new Zt(r.seconds,r.nanos)})(n))}function eB(n,e){return yR(n,e).canonicalString()}function yR(n,e){let t=(function(i){return new Xt(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function bZ(n){let e=Xt.fromString(n);return bt(NZ(e),10190,{key:e.toString()}),e}function _R(n,e){return eB(n.databaseId,e.path)}function TZ(n){let e=bZ(n);return e.length===4?Xt.emptyPath():SZ(e)}function CZ(n){return new Xt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function SZ(n){return bt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function QU(n,e,t){return{name:_R(n,e),fields:t.value.mapValue.fields}}function DZ(n,e){let t;if(e instanceof qc)t={update:QU(n,e.key,e.value)};else if(e instanceof OE)t={delete:_R(n,e.key)};else if(e instanceof Ms)t={update:QU(n,e.key,e.data),updateMask:PZ(e.fieldMask)};else{if(!(e instanceof dR))return Ce(16599,{Rt:e.type});t={verify:_R(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>(function(s,o){let a=o.transform;if(a instanceof kd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof $c)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Hc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof xd)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw Ce(20930,{transform:o.transform})})(0,r))),e.precondition.isNone||(t.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:wZ(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ce(27497)})(n,e.precondition)),t}function AZ(n,e){return n&&n.length>0?(bt(e!==void 0,14353),n.map(t=>(function(i,s){let o=i.updateTime?Ed(i.updateTime):Ed(s);return o.isEqual(wt.min())&&(o=Ed(s)),new lR(o,i.transformResults||[])})(t,e))):[]}function RZ(n){let e=TZ(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){bt(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];t.where&&(s=(function(m){let I=tB(m);return I instanceof ua&&Vj(I)?I.getFilters():[I]})(t.where));let o=[];t.orderBy&&(o=(function(m){return m.map(I=>(function(k){return new Rd(yd(k.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(I))})(t.orderBy));let a=null;t.limit&&(a=(function(m){let I;return I=typeof m=="object"?m.value:m,fP(I)?null:I})(t.limit));let c=null;t.startAt&&(c=(function(m){let I=!!m.before,R=m.values||[];return new Ad(R,I)})(t.startAt));let d=null;return t.endAt&&(d=(function(m){let I=!m.before,R=m.values||[];return new Ad(R,I)})(t.endAt)),nZ(e,i,o,s,a,"F",c,d)}function tB(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=yd(t.unaryFilter.field);return dn.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=yd(t.unaryFilter.field);return dn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=yd(t.unaryFilter.field);return dn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=yd(t.unaryFilter.field);return dn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}})(n):n.fieldFilter!==void 0?(function(t){return dn.create(yd(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return ua.create(t.compositeFilter.filters.map(r=>tB(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}})(t.compositeFilter.op))})(n):Ce(30097,{filter:n})}function yd(n){return lr.fromServerFormat(n.fieldPath)}function PZ(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function NZ(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var vR=class{constructor(e){this.gt=e}};function kZ(n){let e=RZ({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?uR(e,e.limit,"L"):e}var LE=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(jt(e.integerValue));else if("doubleValue"in e){let r=jt(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),Op(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=ca(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(jc(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?Oj(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):Mj(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):Ce(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let s=e.fields||{};this.Ct(t,53);let o=Lp,a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(jt(a)),this.xt(o,t),this.Dt(s[o],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),Ae.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};LE.Ut=new LE;var ER=class{constructor(){this.Dn=new IR}addToCollectionParentIndex(e,t){return this.Dn.add(t),H.resolve()}getCollectionParents(e,t){return H.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return H.resolve()}deleteFieldIndex(e,t){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,t){return H.resolve()}getDocumentsMatchingTarget(e,t){return H.resolve(null)}getIndexType(e,t){return H.resolve(0)}getFieldIndexes(e,t){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,t){return H.resolve(Uc.min())}getMinOffsetFromCollectionGroup(e,t){return H.resolve(Uc.min())}updateCollectionGroup(e,t,r){return H.resolve()}updateIndexEntries(e,t){return H.resolve()}},IR=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Dn(Xt.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Dn(Xt.comparator)).toArray()}};var Y0e=new Uint8Array(0);var YU={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nB=41943040,Pr=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Pr.DEFAULT_COLLECTION_PERCENTILE=10,Pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pr.DEFAULT=new Pr(nB,Pr.DEFAULT_COLLECTION_PERCENTILE,Pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pr.DISABLED=new Pr(-1,0,0);var Vp=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var JU="LruGarbageCollector",xZ=1048576;function XU([n,e],[t,r]){let i=Be(n,t);return i===0?Be(e,r):i}var wR=class{constructor(e){this.Tr=e,this.buffer=new Dn(XU),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();XU(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},bR=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){te(JU,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){qp(t)?te(JU,"Ignoring IndexedDB error during garbage collection: ",t):await dP(t)}await this.Rr(3e5)})}},TR=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return H.resolve(fj.ue);let r=new wR(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(YU)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),YU):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,s,o,a,c,d,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,o=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,a=Date.now(),this.removeTargets(e,r,t))).next(m=>(s=m,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(d=Date.now(),gd()<=ke.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(c-a)+`ms
	Removed ${m} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})))}};function MZ(n,e){return new TR(n,e)}var CR=class{constructor(){this.changes=new xs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Dd.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?H.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var SR=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var DR=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Np(r.mutation,i,qi.empty(),Zt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Sn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Sn()){let i=Nc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=wE();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let r=Nc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Sn()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=ME(),o=Pp(),a=(function(){return Pp()})();return t.forEach((c,d)=>{let h=r.get(d.key);i.has(d.key)&&(h===void 0||h.mutation instanceof Ms)?s=s.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),Np(h.mutation,d,h.mutation.getFieldMask(),Zt.now())):o.set(d.key,qi.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((d,h)=>o.set(d,h)),t.forEach((d,h)=>{var m;return a.set(d,new SR(h,(m=o.get(d))!==null&&m!==void 0?m:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Pp(),i=new hr((o,a)=>o-a),s=Sn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let a of o)a.keys().forEach(c=>{let d=t.get(c);if(d===null)return;let h=r.get(c)||qi.empty();h=a.applyToLocalView(d,h),r.set(c,h);let m=(i.get(a.batchId)||Sn()).add(c);i=i.insert(a.batchId,m)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),d=c.key,h=c.value,m=Gj();h.forEach(I=>{if(!s.has(I)){let R=Xj(t.get(I),r.get(I));R!==null&&m.set(I,R),s=s.add(I)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,m))}return H.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(o){return Ae.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):iZ(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):H.resolve(Nc()),a=Mp,c=s;return o.next(d=>H.forEach(d,(h,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),s.get(h)?H.resolve():this.remoteDocumentCache.getEntry(e,h).next(I=>{c=c.insert(h,I)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,c,d,Sn())).next(h=>({batchId:a,changes:zj(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ae(t)).next(r=>{let i=wE();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let s=t.collectionGroup,o=wE();return this.indexManager.getCollectionParents(e,s).next(a=>H.forEach(a,c=>{let d=(function(m,I){return new Pd(I,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(t,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(h=>{h.forEach((m,I)=>{o=o.insert(m,I)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((c,d)=>{let h=d.getKey();o.get(h)===null&&(o=o.insert(h,Dd.newInvalidDocument(h)))});let a=wE();return o.forEach((c,d)=>{let h=s.get(c);h!==void 0&&Np(h.mutation,d,qi.empty(),Zt.now()),IP(t,d)&&(a=a.insert(c,d))}),a})}};var AR=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return H.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Ed(i.createTime)}})(t)),H.resolve()}getNamedQuery(e,t){return H.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:kZ(i.bundledQuery),readTime:Ed(i.readTime)}})(t)),H.resolve()}};var RR=class{constructor(){this.overlays=new hr(Ae.comparator),this.kr=new Map}getOverlay(e,t){return H.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Nc();return H.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.wt(e,t,s)}),H.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(r)),H.resolve()}getOverlaysForCollection(e,t,r){let i=Nc(),s=t.length+1,o=new Ae(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,d=c.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return H.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new hr((d,h)=>d-h),o=this.overlays.getIterator();for(;o.hasNext();){let d=o.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let h=s.get(d.largestBatchId);h===null&&(h=Nc(),s=s.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}let a=Nc(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=i)););return H.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new pR(t,r));let s=this.kr.get(t);s===void 0&&(s=Sn(),this.kr.set(t,s)),this.kr.set(t,s.add(r.key))}};var PR=class{constructor(){this.sessionToken=ks.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,H.resolve()}};var Up=class{constructor(){this.qr=new Dn(Ut.Qr),this.$r=new Dn(Ut.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new Ut(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new Ut(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new Ae(new Xt([])),r=new Ut(t,e),i=new Ut(t,e+1),s=[];return this.$r.forEachInRange([r,i],o=>{this.Wr(o),s.push(o.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new Ae(new Xt([])),r=new Ut(t,e),i=new Ut(t,e+1),s=Sn();return this.$r.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new Ut(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Ut=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return Ae.comparator(e.key,t.key)||Be(e.Hr,t.Hr)}static Ur(e,t){return Be(e.Hr,t.Hr)||Ae.comparator(e.key,t.key)}};var NR=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Dn(Ut.Qr)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new hR(s,t,r,i);this.mutationQueue.push(o);for(let a of i)this.Yr=this.Yr.add(new Ut(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,t){return H.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),s=i<0?0:i;return H.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?hP:this.er-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Ut(t,0),i=new Ut(t,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([r,i],o=>{let a=this.Zr(o.Hr);s.push(a)}),H.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Dn(Be);return t.forEach(i=>{let s=new Ut(i,0),o=new Ut(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,o],a=>{r=r.add(a.Hr)})}),H.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;Ae.isDocumentKey(s)||(s=s.child(""));let o=new Ut(new Ae(s),0),a=new Dn(Be);return this.Yr.forEachWhile(c=>{let d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(a=a.add(c.Hr)),!0)},o),H.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){bt(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return H.forEach(t.mutations,i=>{let s=new Ut(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new Ut(t,0),i=this.Yr.firstAfterOrEqual(r);return H.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var kR=class{constructor(e){this.ni=e,this.docs=(function(){return new hr(Ae.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return H.resolve(r?r.document.mutableCopy():Dd.newInvalidDocument(t))}getEntries(e,t){let r=ME();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Dd.newInvalidDocument(i))}),H.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=ME(),o=t.path,a=new Ae(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:d,value:{document:h}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||FX(LX(h),r)<=0||(i.has(h.key)||IP(t,h))&&(s=s.insert(h.key,h.mutableCopy()))}return H.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Ce(9500)}ri(e,t){return H.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new xR(this)}getSize(e){return H.resolve(this.size)}},xR=class extends CR{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),H.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var MR=class{constructor(e){this.persistence=e,this.ii=new xs(t=>vP(t),EP),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.si=0,this.oi=new Up,this.targetCount=0,this._i=Vp.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),H.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new Vp(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,H.resolve()}updateTargetData(e,t){return this.hr(t),H.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.ii.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),H.waitFor(s).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return H.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),H.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),H.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),H.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return H.resolve(r)}containsKey(e,t){return H.resolve(this.oi.containsKey(t))}};var FE=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new fj(0),this.ci=!1,this.ci=!0,this.li=new PR,this.referenceDelegate=e(this),this.hi=new MR(this),this.indexManager=new ER,this.remoteDocumentCache=(function(i){return new kR(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new vR(t),this.Ti=new AR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new RR,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new NR(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){te("MemoryPersistence","Starting transaction:",e);let i=new OR(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,t){return H.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},OR=class extends KA{constructor(e){super(),this.currentSequenceNumber=e}},LR=class n{constructor(e){this.persistence=e,this.Ai=new Up,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw Ce(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),H.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),H.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.mi.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.mi,r=>{let i=Ae.fromPath(r);return this.fi(e,i).next(s=>{s||t.removeEntry(i,wt.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return H.or([()=>H.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},VE=class n{constructor(e,t){this.persistence=e,this.gi=new xs(r=>BX(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=MZ(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return H.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return H.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(s=>s?H.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ri(e,o=>this.Sr(e,o,t).next(a=>{a||(r++,s.removeEntry(o,wt.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),H.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),H.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),H.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=TE(e.data.value)),t}Sr(e,t,r){return H.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return H.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var FR=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=Sn(),i=Sn();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n(e,t.fromCache,r,i)}};var VR=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var UR=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return i2()?8:UX(un())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let s={result:null};return this.ps(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ys(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new VR;return this.ws(e,t,o).next(a=>{if(s.result=a,this.Rs)return this.Ss(e,t,o,a.size)})}).next(()=>s.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(gd()<=ke.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",Dp(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),H.resolve()):(gd()<=ke.DEBUG&&te("QueryEngine","Query:",Dp(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(gd()<=ke.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",Dp(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kc(t))):H.resolve())}ps(e,t){if(qU(t))return H.resolve(null);let r=kc(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=uR(t,null,"F"),r=kc(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=Sn(...s);return this.gs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let d=this.bs(t,a);return this.Ds(t,d,o,c.readTime)?this.ps(e,uR(t,null,"F")):this.vs(e,d,t,c)}))})))}ys(e,t,r,i){return qU(t)||i.isEqual(wt.min())?H.resolve(null):this.gs.getDocuments(e,r).next(s=>{let o=this.bs(t,s);return this.Ds(t,o,r,i)?H.resolve(null):(gd()<=ke.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Dp(t)),this.vs(e,o,t,OX(i,Mp)).next(a=>a))})}bs(e,t){let r=new Dn(oZ(e));return t.forEach((i,s)=>{IP(e,s)&&(r=r.add(s))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ws(e,t,r){return gd()<=ke.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",Dp(t)),this.gs.getDocumentsMatchingQuery(e,t,Uc.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var OZ="LocalStore";var jR=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new hr(Be),this.Ms=new xs(s=>vP(s),EP),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DR(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function LZ(n,e,t,r){return new jR(n,e,t,r)}async function rB(n,e){let t=ct(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=Sn();for(let d of i){o.push(d.batchId);for(let h of d.mutations)c=c.add(h.key)}for(let d of s){a.push(d.batchId);for(let h of d.mutations)c=c.add(h.key)}return t.localDocuments.getDocuments(r,c).next(d=>({Bs:d,removedBatchIds:o,addedBatchIds:a}))})})}function FZ(n,e){let t=ct(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=t.Os.newChangeBuffer({trackRemovals:!0});return(function(a,c,d,h){let m=d.batch,I=m.keys(),R=H.resolve();return I.forEach(k=>{R=R.next(()=>h.getEntry(c,k)).next(V=>{let O=d.docVersions.get(k);bt(O!==null,48541),V.version.compareTo(O)<0&&(m.applyToRemoteDocument(V,d),V.isValidDocument()&&(V.setReadTime(d.commitVersion),h.addEntry(V)))})}),R.next(()=>a.mutationQueue.removeMutationBatch(c,m))})(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let c=Sn();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(c=c.add(a.batch.mutations[d].key));return c})(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function VZ(n){let e=ct(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function UZ(n,e){let t=ct(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=hP),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}var UE=class{constructor(){this.activeTargetIds=hZ()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var BR=class{constructor(){this.Fo=new UE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new UE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var $R=class{xo(e){}shutdown(){}};var ZU="ConnectivityMonitor",jE=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){te(ZU,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){te(ZU,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var bE=null;function HR(){return bE===null?bE=(function(){return 268435456+Math.round(2147483648*Math.random())})():bE++,"0x"+bE.toString(16)}var LA="RestConnection",jZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},qR=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===kE?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,s){let o=HR(),a=this.Go(e,t.toUriEncodedString());te(LA,`Sending RPC '${e}' ${o}:`,a,r);let c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,i,s);let{host:d}=new URL(a),h=Jo(d);return this.jo(e,a,c,r,h).then(m=>(te(LA,`Received RPC '${e}' ${o}: `,m),m),m=>{throw bd(LA,`RPC '${e}' ${o} failed with error: `,m,"url: ",a,"request:",r),m})}Jo(e,t,r,i,s,o){return this.Wo(e,t,r,i,s)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Od})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Go(e,t){let r=jZ[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var zR=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var Cn="WebChannelConnection",GR=class extends qR{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,s){let o=HR();return new Promise((a,c)=>{let d=new NA;d.setWithCredentials(!0),d.listenOnce(kA.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Sp.NO_ERROR:let m=d.getResponseJson();te(Cn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),a(m);break;case Sp.TIMEOUT:te(Cn,`RPC '${e}' ${o} timed out`),c(new oe($.DEADLINE_EXCEEDED,"Request time out"));break;case Sp.HTTP_ERROR:let I=d.getStatus();if(te(Cn,`RPC '${e}' ${o} failed with status:`,I,"response text:",d.getResponseText()),I>0){let R=d.getResponseJson();Array.isArray(R)&&(R=R[0]);let k=R?.error;if(k&&k.status&&k.message){let V=(function(q){let X=q.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(X)>=0?X:$.UNKNOWN})(k.status);c(new oe(V,k.message))}else c(new oe($.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new oe($.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{c_:e,streamId:o,l_:d.getLastErrorCode(),h_:d.getLastError()})}}finally{te(Cn,`RPC '${e}' ${o} completed.`)}});let h=JSON.stringify(i);te(Cn,`RPC '${e}' ${o} sending request:`,i),d.send(t,"POST",h,r,15)})}P_(e,t,r){let i=HR(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=OA(),a=MA(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let h=s.join("");te(Cn,`Creating RPC '${e}' stream ${i}: ${h}`,c);let m=o.createWebChannel(h,c);this.T_(m);let I=!1,R=!1,k=new zR({Ho:O=>{R?te(Cn,`Not sending because RPC '${e}' stream ${i} is closed:`,O):(I||(te(Cn,`Opening RPC '${e}' stream ${i} transport.`),m.open(),I=!0),te(Cn,`RPC '${e}' stream ${i} sending:`,O),m.send(O))},Yo:()=>m.close()}),V=(O,q,X)=>{O.listen(q,ne=>{try{X(ne)}catch(Re){setTimeout(()=>{throw Re},0)}})};return V(m,md.EventType.OPEN,()=>{R||(te(Cn,`RPC '${e}' stream ${i} transport opened.`),k.s_())}),V(m,md.EventType.CLOSE,()=>{R||(R=!0,te(Cn,`RPC '${e}' stream ${i} transport closed`),k.__(),this.I_(m))}),V(m,md.EventType.ERROR,O=>{R||(R=!0,bd(Cn,`RPC '${e}' stream ${i} transport errored. Name:`,O.name,"Message:",O.message),k.__(new oe($.UNAVAILABLE,"The operation could not be completed")))}),V(m,md.EventType.MESSAGE,O=>{var q;if(!R){let X=O.data[0];bt(!!X,16349);let ne=X,Re=ne?.error||((q=ne[0])===null||q===void 0?void 0:q.error);if(Re){te(Cn,`RPC '${e}' stream ${i} received error:`,Re);let ut=Re.status,Pe=(function(E){let b=Vt[E];if(b!==void 0)return EZ(b)})(ut),T=Re.message;Pe===void 0&&(Pe=$.INTERNAL,T="Unknown error status: "+ut+" with message "+Re.message),R=!0,k.__(new oe(Pe,T)),m.close()}else te(Cn,`RPC '${e}' stream ${i} received:`,X),k.a_(X)}}),V(a,xA.STAT_EVENT,O=>{O.stat===EE.PROXY?te(Cn,`RPC '${e}' stream ${i} detected buffering proxy`):O.stat===EE.NOPROXY&&te(Cn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{k.o_()},0),k}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function FA(){return typeof document<"u"?document:null}function KE(n){return new mR(n,!0)}var BE=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var ej="PersistentStream",WR=class{constructor(e,t,r,i,s,o,a,c){this.Fi=e,this.w_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new BE(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===$.RESOURCE_EXHAUSTED?(Vc(t.toString()),Vc("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new oe($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return te(ej,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(te(ej,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var KR=class extends WR{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return bt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,bt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){bt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=AZ(e.writeResults,e.commitTime),r=Ed(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=CZ(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>DZ(this.serializer,r))};this.k_(t)}};var QR=class{},YR=class extends QR{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new oe($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(e,yR(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new oe($.UNKNOWN,s.toString())})}Jo(e,t,r,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Jo(e,yR(t,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new oe($.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},JR=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Vc(t),this._a=!1):te("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var zp="RemoteStore",XR=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(o=>{r.enqueueAndForget(async()=>{Wp(this)&&(te(zp,"Restarting streams for network reachability change."),await(async function(c){let d=ct(c);d.Ia.add(4),await Gp(d),d.Aa.set("Unknown"),d.Ia.delete(4),await QE(d)})(this))})}),this.Aa=new JR(r,i)}};async function QE(n){if(Wp(n))for(let e of n.da)await e(!0)}async function Gp(n){for(let e of n.da)await e(!1)}function Wp(n){return ct(n).Ia.size===0}async function iB(n,e,t){if(!qp(e))throw e;n.Ia.add(1),await Gp(n),n.Aa.set("Offline"),t||(t=()=>VZ(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{te(zp,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await QE(n)})}function sB(n,e){return e().catch(t=>iB(n,t,e))}async function YE(n){let e=ct(n),t=la(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:hP;for(;BZ(e);)try{let i=await UZ(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,$Z(e,i)}catch(i){await iB(e,i)}oB(e)&&aB(e)}function BZ(n){return Wp(n)&&n.Pa.length<10}function $Z(n,e){n.Pa.push(e);let t=la(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function oB(n){return Wp(n)&&!la(n).M_()&&n.Pa.length>0}function aB(n){la(n).start()}async function HZ(n){la(n).na()}async function qZ(n){let e=la(n);for(let t of n.Pa)e.X_(t.mutations)}async function zZ(n,e,t){let r=n.Pa.shift(),i=fR.from(r,e,t);await sB(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await YE(n)}async function GZ(n,e){e&&la(n).Z_&&await(async function(r,i){if((function(o){return vZ(o)&&o!==$.ABORTED})(i.code)){let s=r.Pa.shift();la(r).N_(),await sB(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await YE(r)}})(n,e),oB(n)&&aB(n)}async function tj(n,e){let t=ct(n);t.asyncQueue.verifyOperationInProgress(),te(zp,"RemoteStore received new credentials");let r=Wp(t);t.Ia.add(3),await Gp(t),r&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await QE(t)}async function WZ(n,e){let t=ct(n);e?(t.Ia.delete(2),await QE(t)):e||(t.Ia.add(2),await Gp(t),t.Aa.set("Unknown"))}function la(n){return n.ma||(n.ma=(function(t,r,i){let s=ct(t);return s.ia(),new KR(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:HZ.bind(null,n),n_:GZ.bind(null,n),ea:qZ.bind(null,n),ta:zZ.bind(null,n)}),n.da.push(async e=>{e?(n.ma.N_(),await YE(n)):(await n.ma.stop(),n.Pa.length>0&&(te(zp,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}var ZR=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let o=Date.now()+r,a=new n(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function cB(n,e){if(Vc("AsyncQueue",`${e}: ${n}`),qp(n))return new oe($.UNAVAILABLE,`${e}: ${n}`);throw n}var eP=class{constructor(){this.queries=nj(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=ct(t),s=i.queries;i.queries=nj(),s.forEach((o,a)=>{for(let c of a.wa)c.onError(r)})})(this,new oe($.ABORTED,"Firestore shutting down"))}};function nj(){return new xs(n=>Hj(n),$j)}function KZ(n){n.Da.forEach(e=>{e.next()})}var rj,ij;(ij=rj||(rj={})).Fa="default",ij.Cache="cache";var QZ="SyncEngine";var tP=class{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new xs(a=>Hj(a),$j),this.Tu=new Map,this.Iu=new Set,this.du=new hr(Ae.comparator),this.Eu=new Map,this.Au=new Up,this.Ru={},this.Vu=new Map,this.mu=Vp.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};async function YZ(n,e,t){let r=eee(n);try{let i=await(function(o,a){let c=ct(o),d=Zt.now(),h=a.reduce((R,k)=>R.add(k.key),Sn()),m,I;return c.persistence.runTransaction("Locally write mutations","readwrite",R=>{let k=ME(),V=Sn();return c.Os.getEntries(R,h).next(O=>{k=O,k.forEach((q,X)=>{X.isValidDocument()||(V=V.add(q))})}).next(()=>c.localDocuments.getOverlayedDocuments(R,k)).next(O=>{m=O;let q=[];for(let X of a){let ne=_Z(X,m.get(X.key).overlayedDocument);ne!=null&&q.push(new Ms(X.key,ne,Lj(ne.value.mapValue),xc.exists(!0)))}return c.mutationQueue.addMutationBatch(R,d,q,a)}).next(O=>{I=O;let q=O.applyToLocalDocumentSet(m,V);return c.documentOverlayCache.saveOverlays(R,O.batchId,q)})}).then(()=>({batchId:I.batchId,changes:zj(m)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,a,c){let d=o.Ru[o.currentUser.toKey()];d||(d=new hr(Be)),d=d.insert(a,c),o.Ru[o.currentUser.toKey()]=d})(r,i.batchId,t),await JE(r,i.changes),await YE(r.remoteStore)}catch(i){let s=cB(i,"Failed to persist write");t.reject(s)}}function sj(n,e,t){let r=ct(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((s,o)=>{let a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(o,a){let c=ct(o);c.onlineState=a;let d=!1;c.queries.forEach((h,m)=>{for(let I of m.wa)I.va(a)&&(d=!0)}),d&&KZ(c)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function JZ(n,e){let t=ct(n),r=e.batch.batchId;try{let i=await FZ(t.localStore,e);lB(t,r,null),uB(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await JE(t,i)}catch(i){await dP(i)}}async function XZ(n,e,t){let r=ct(n);try{let i=await(function(o,a){let c=ct(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,a).next(m=>(bt(m!==null,37113),h=m.keys(),c.mutationQueue.removeMutationBatch(d,m))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})})(r.localStore,e);lB(r,e,t),uB(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await JE(r,i)}catch(i){await dP(i)}}function uB(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function lB(n,e,t){let r=ct(n),i=r.Ru[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}async function JE(n,e,t){let r=ct(n),i=[],s=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((a,c)=>{o.push(r.gu(c,e,t).then(d=>{var h;if((d||t)&&r.isPrimaryClient){let m=d?!d.fromCache:(h=t?.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(d){i.push(d);let m=FR.Es(c.targetId,d);s.push(m)}}))}),await Promise.all(o),r.hu.J_(i),await(async function(c,d){let h=ct(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>H.forEach(d,I=>H.forEach(I.Is,R=>h.persistence.referenceDelegate.addReference(m,I.targetId,R)).next(()=>H.forEach(I.ds,R=>h.persistence.referenceDelegate.removeReference(m,I.targetId,R)))))}catch(m){if(!qp(m))throw m;te(OZ,"Failed to update sequence numbers: "+m)}for(let m of d){let I=m.targetId;if(!m.fromCache){let R=h.Fs.get(I),k=R.snapshotVersion,V=R.withLastLimboFreeSnapshotVersion(k);h.Fs=h.Fs.insert(I,V)}}})(r.localStore,s))}async function ZZ(n,e){let t=ct(n);if(!t.currentUser.isEqual(e)){te(QZ,"User change. New user:",e.toKey());let r=await rB(t.localStore,e);t.currentUser=e,(function(s,o){s.Vu.forEach(a=>{a.forEach(c=>{c.reject(new oe($.CANCELLED,o))})}),s.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await JE(t,r.Bs)}}function eee(n){let e=ct(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JZ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XZ.bind(null,e),e}var dB=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=KE(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,r){return null}Fu(t,r){return null}vu(t){return LZ(this.persistence,new UR,t.initialUser,this.serializer)}Du(t){return new FE(LR.Vi,this.serializer)}bu(t){return new BR}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return n.provider={build:()=>new n},n})(),nP=class extends dB{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){bt(this.persistence.referenceDelegate instanceof VE,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new bR(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?Pr.withCacheSize(this.cacheSizeBytes):Pr.DEFAULT;return new FE(r=>VE.Vi(r,t),this.serializer)}};var tee=(()=>{class n{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>sj(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZZ.bind(null,this.syncEngine),await WZ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new eP})()}createDatastore(t){let r=KE(t.databaseInfo.databaseId),i=(function(o){return new GR(o)})(t.databaseInfo);return(function(o,a,c,d){return new YR(o,a,c,d)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,s,o,a,c){return new XR(i,s,o,a,c)})(this.localStore,this.datastore,t.asyncQueue,r=>sj(this.syncEngine,r,0),(function(){return jE.C()?new jE:new $R})())}createSyncEngine(t,r){return(function(s,o,a,c,d,h,m){let I=new tP(s,o,a,c,d,h);return m&&(I.fu=!0),I})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await(async function(s){let o=ct(s);te(zp,"RemoteStore shutting down."),o.Ia.add(5),await Gp(o),o.Ea.shutdown(),o.Aa.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}return n.provider={build:()=>new n},n})();var da="FirestoreClient",rP=class{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ln.UNAUTHENTICATED,this.clientId=xp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{te(da,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(te(da,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=cB(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function VA(n,e){n.asyncQueue.verifyOperationInProgress(),te(da,"Initializing OfflineComponentProvider");let t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await rB(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{bd("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{te("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{bd("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e}async function oj(n,e){n.asyncQueue.verifyOperationInProgress();let t=await nee(n);te(da,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>tj(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>tj(e.remoteStore,i)),n._onlineComponents=e}async function nee(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){te(da,"Using user provided OfflineComponentProvider");try{await VA(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===$.FAILED_PRECONDITION||i.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;bd("Error using user provided cache. Falling back to memory cache: "+t),await VA(n,new dB)}}else te(da,"Using default OfflineComponentProvider"),await VA(n,new nP(void 0));return n._offlineComponents}async function ree(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(te(da,"Using user provided OnlineComponentProvider"),await oj(n,n._uninitializedComponentsProvider._online)):(te(da,"Using default OnlineComponentProvider"),await oj(n,new tee))),n._onlineComponents}function iee(n){return ree(n).then(e=>e.syncEngine)}function hB(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var aj=new Map;var fB="firestore.googleapis.com",cj=!0,$E=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new oe($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fB,this.ssl=cj}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:cj;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nB;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<xZ)throw new oe($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}MX("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hB((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},jp=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $E({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $E(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new UA;switch(r.type){case"firstParty":return new HA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oe($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=aj.get(t);r&&(te("ComponentProvider","Removing Datastore"),aj.delete(t),r.terminate())})(this),Promise.resolve()}};function pB(n,e,t,r={}){var i;n=GA(n,jp);let s=Jo(e),o=n._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;s&&(zv(`https://${c}`),Gv("Firestore",!0)),o.host!==fB&&o.host!==c&&bd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let d=Object.assign(Object.assign({},o),{host:c,ssl:s,emulatorOptions:r});if(!Vi(d,a)&&(n._setSettings(d),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=ln.MOCK_USER;else{h=XV(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let I=r.mockUserToken.sub||r.mockUserToken.user_id;if(!I)throw new oe($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new ln(I)}n._authCredentials=new jA(new DE(h,m))}}var iP=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},dr=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bp(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Hp(t,n._jsonSchema))return new n(e,r||null,new Ae(Xt.fromString(t.referencePath)))}};dr._jsonSchemaVersion="firestore/documentReference/1.0",dr._jsonSchema={type:Bt("string",dr._jsonSchemaVersion),referencePath:Bt("string")};var Bp=class n extends iP{constructor(e,t,r){super(e,t,rZ(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new dr(this.firestore,null,new Ae(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function mB(n,e,...t){if(n=qn(n),arguments.length===1&&(e=xp.newId()),xX("doc","path",e),n instanceof jp){let r=Xt.fromString(e,...t);return MU(r),new dr(n,null,new Ae(r))}{if(!(n instanceof dr||n instanceof Bp))throw new oe($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Xt.fromString(e,...t));return MU(r),new dr(n.firestore,n instanceof Bp?n.converter:null,new Ae(r))}}var uj="AsyncQueue",HE=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new BE(this,"async_queue_retry"),this.oc=()=>{let r=FA();r&&te(uj,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=FA();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=FA();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new Ns;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!qp(e))throw e;te(uj,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Vc("INTERNAL UNHANDLED ERROR: ",lj(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=ZR.createAndSchedule(this,e,t,r,s=>this.lc(s));return this.ec.push(i),i}ac(){this.tc&&Ce(47125,{hc:lj(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function lj(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}var qE=class extends jp{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new HE,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new HE(e),this._firestoreClient=void 0,await e}}};function gB(n,e){let t=typeof n=="object"?n:Tc(),r=typeof n=="string"?n:e||kE,i=ld(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=JV("firestore");s&&pB(i,...s)}return i}function see(n){if(n._terminated)throw new oe($.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||oee(n),n._firestoreClient}function oee(n){var e,t,r;let i=n._freezeSettings(),s=(function(a,c,d,h){return new YA(a,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,hB(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new rP(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&(function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}})(n._componentsProvider))}var Mc=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(ks.fromBase64String(e))}catch(t){throw new oe($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(ks.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Hp(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};Mc._jsonSchemaVersion="firestore/bytes/1.0",Mc._jsonSchema={type:Bt("string",Mc._jsonSchemaVersion),bytes:Bt("string")};var $p=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new oe($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var zE=class{constructor(e){this._methodName=e}};var Oc=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new oe($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new oe($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Hp(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};Oc._jsonSchemaVersion="firestore/geoPoint/1.0",Oc._jsonSchema={type:Bt("string",Oc._jsonSchemaVersion),latitude:Bt("number"),longitude:Bt("number")};var Lc=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Hp(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new oe($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Lc._jsonSchemaVersion="firestore/vectorValue/1.0",Lc._jsonSchema={type:Bt("string",Lc._jsonSchemaVersion),vectorValues:Bt("object")};var aee=/^__.*__$/,sP=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ms(e,this.data,this.fieldMask,t,this.fieldTransforms):new qc(e,this.data,t,this.fieldTransforms)}};function yB(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ec:n})}}var oP=class n{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return GE(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(yB(this.Ec)&&aee.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},aP=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||KE(e)}Dc(e,t,r,i=!1){return new oP({Ec:e,methodName:t,bc:r,path:lr.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function cee(n){let e=n._freezeSettings(),t=KE(n._databaseId);return new aP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function uee(n,e,t,r,i,s={}){let o=n.Dc(s.merge||s.mergeFields?2:0,e,t,i);IB("Data must be an object, but it was:",o,r);let a=vB(r,o),c,d;if(s.merge)c=new qi(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){let h=[];for(let m of s.mergeFields){let I=lee(e,m,t);if(!o.contains(I))throw new oe($.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);hee(h,I)||h.push(I)}c=new qi(h),d=o.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,d=o.fieldTransforms;return new sP(new Hi(a),c,d)}function _B(n,e){if(EB(n=qn(n)))return IB("Unsupported field value:",e,n),vB(n,e);if(n instanceof zE)return(function(r,i){if(!yB(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let s=[],o=0;for(let a of r){let c=_B(a,i.yc(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}})(n,e)}return(function(r,i){if((r=qn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return fZ(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Zt.fromDate(r);return{timestampValue:gR(i.serializer,s)}}if(r instanceof Zt){let s=new Zt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:gR(i.serializer,s)}}if(r instanceof Oc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mc)return{bytesValue:IZ(i.serializer,r._byteString)};if(r instanceof dr){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:eB(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Lc)return(function(o,a){return{mapValue:{fields:{[gP]:{stringValue:yP},[Lp]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw a.wc("VectorValues must only contain numeric values.");return wP(a.serializer,d)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${lP(r)}`)})(n,e)}function vB(n,e){let t={};return Aj(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ld(n,(r,i)=>{let s=_B(i,e.Vc(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function EB(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Zt||n instanceof Oc||n instanceof Mc||n instanceof dr||n instanceof zE||n instanceof Lc)}function IB(n,e,t){if(!EB(t)||!hj(t)){let r=lP(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function lee(n,e,t){if((e=qn(e))instanceof $p)return e._internalPath;if(typeof e=="string")return wB(n,e);throw GE("Field path arguments must be of type string or ",n,!1,void 0,t)}var dee=new RegExp("[~\\*/\\[\\]]");function wB(n,e,t){if(e.search(dee)>=0)throw GE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new $p(...e.split("."))._internalPath}catch{throw GE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function GE(n,e,t,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new oe($.INVALID_ARGUMENT,a+n+c)}function hee(n,e){return n.some(t=>t.isEqual(e))}var WE=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new dr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new cP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(bB("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},cP=class extends WE{data(){return super.data()}};function bB(n,e){return typeof e=="string"?wB(n,e):e instanceof $p?e._internalPath:e._delegate._internalPath}function fee(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var vd=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Id=class n extends WE{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new wd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(bB("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Id._jsonSchemaVersion="firestore/documentSnapshot/1.0",Id._jsonSchema={type:Bt("string",Id._jsonSchemaVersion),bundleSource:Bt("string","DocumentSnapshot"),bundleName:Bt("string"),bundle:Bt("string")};var wd=class extends Id{data(e={}){return super.data(e)}},kp=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new vd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new wd(this._firestore,this._userDataWriter,r.key,r,new vd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new oe($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new wd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new vd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new wd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new vd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,h=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:pee(a.type),doc:c,oldIndex:d,newIndex:h}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=xp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(t.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function pee(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:n})}}kp._jsonSchemaVersion="firestore/querySnapshot/1.0",kp._jsonSchema={type:Bt("string",kp._jsonSchemaVersion),bundleSource:Bt("string","QuerySnapshot"),bundleName:Bt("string"),bundle:Bt("string")};function TB(n,e,t){n=GA(n,dr);let r=GA(n.firestore,qE),i=fee(n.converter,e,t);return mee(r,[uee(cee(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,xc.none())])}function mee(n,e){return(function(r,i){let s=new Ns;return r.asyncQueue.enqueueAndForget(async()=>YZ(await iee(r),i,s)),s.promise})(see(n),e)}(function(e,t=!0){(function(i){Od=i})(Zo),ri(new On("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new qE(new BA(r.getProvider("auth-internal")),new qA(o,r.getProvider("app-check-internal")),(function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new oe($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new JA(d.options.projectId,h)})(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),It(PU,NU,e),It(PU,NU,"esm2017")})();var zc=class{constructor(e){return e}},CB="firestore",bP=class{constructor(){return hd(CB)}};var TP=new Z("angularfire2.firestore-instances");function gee(n,e){let t=fp(CB,n,e);return t&&new zc(t)}function yee(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new zc(r)}}var _ee={provide:bP,deps:[[new er,TP]]},vee={provide:zc,useFactory:gee,deps:[[new er,TP],Ss]};function SB(n,...e){return It("angularfire",ea.full,"fst"),mr([vee,_ee,{provide:TP,useFactory:yee(n),multi:!0,deps:[lt,vt,ta,Sc,[new er,Cp],[new er,fd],...e]}])}var DB=ji(mB,!0,2);var AB=ji(gB,!0);var RB=ji(TB,!0,2);var XE=class n{auth=U(Rs);router=U(at);firestore=U(zc);name="";email="";password="";theme="green";async registerUser(){if(!this.name||!this.email||!this.password){alert("Molimo popunite sva polja!");return}try{let e=await JT(this.auth,this.email,this.password);await XT(e.user,{displayName:this.name});let t=e.user.uid,r=DB(this.firestore,`users/${t}`);await RB(r,{name:this.name,email:this.email,theme:this.theme,trackers:[]}),alert("Registracija uspje\u0161na!"),this.router.navigate(["/dashboard"])}catch(e){console.error("Gre\u0161ka pri registraciji:",e),alert("Gre\u0161ka: "+e.message)}}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ce({type:n,selectors:[["app-register"]],decls:39,vars:4,consts:[[1,"site-header"],[1,"logo-wrap"],["src","/assets/slike/logo-ipi.png","alt","Logo",1,"logo"],[1,"page-main"],[1,"auth-article"],[1,"register-container"],[3,"ngSubmit"],[1,"form-group"],["type","text","name","name","required","",3,"ngModelChange","ngModel"],["type","email","name","email","required","",3,"ngModelChange","ngModel"],["type","password","name","password","required","",3,"ngModelChange","ngModel"],["name","theme",3,"ngModelChange","ngModel"],["value","green"],["value","blue"],["value","pink"],["value","orange"],["value","dark"],["value","cyberpunk"],["type","submit",1,"register-btn"]],template:function(t,r){t&1&&(P(0,"header",0)(1,"div",1),K(2,"img",2),N()(),P(3,"main",3)(4,"article",4)(5,"div",5)(6,"h2"),D(7,"Registracija"),N(),P(8,"form",6),ie("ngSubmit",function(){return r.registerUser()}),P(9,"div",7)(10,"label"),D(11,"Ime:"),N(),P(12,"input",8),nt("ngModelChange",function(s){return ot(r.name,s)||(r.name=s),s}),N()(),P(13,"div",7)(14,"label"),D(15,"Email:"),N(),P(16,"input",9),nt("ngModelChange",function(s){return ot(r.email,s)||(r.email=s),s}),N()(),P(17,"div",7)(18,"label"),D(19,"Password:"),N(),P(20,"input",10),nt("ngModelChange",function(s){return ot(r.password,s)||(r.password=s),s}),N()(),P(21,"div",7)(22,"label"),D(23,"Odaberi temu:"),N(),P(24,"select",11),nt("ngModelChange",function(s){return ot(r.theme,s)||(r.theme=s),s}),P(25,"option",12),D(26,"Zelena"),N(),P(27,"option",13),D(28,"Plava"),N(),P(29,"option",14),D(30,"Roza"),N(),P(31,"option",15),D(32,"Narand\u017Easta"),N(),P(33,"option",16),D(34,"Dark"),N(),P(35,"option",17),D(36,"Cyberpunk"),N()()(),P(37,"button",18),D(38,"Registruj se"),N()()()()()),t&2&&(Q(12),tt("ngModel",r.name),Q(4),tt("ngModel",r.email),Q(4),tt("ngModel",r.password),Q(4),tt("ngModel",r.theme))},dependencies:[gt,ed,kv,xv,Ft,td,cn,Zl,op,Jt,Ic,gn],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.site-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:12px 0;background:transparent}.logo-wrap[_ngcontent-%COMP%]{margin-bottom:8px}.logo[_ngcontent-%COMP%]{height:60px}.page-main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:calc(100vh - 140px);width:100%}.auth-article[_ngcontent-%COMP%]{width:80%;max-width:1100px;margin:0 auto;display:flex;justify-content:center}.register-container[_ngcontent-%COMP%]{width:480px;margin:40px auto;padding:36px;background-color:#fff;color:#2c3e50;border-radius:10px;box-shadow:0 6px 18px #0000001f;text-align:center;font-family:Arial,sans-serif}.register-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:20px;color:#1e73be}.form-group[_ngcontent-%COMP%]{margin-bottom:15px;text-align:left}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:#333;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:5px;border:2px solid #ddd;outline:none;font-size:14px;box-sizing:border-box;transition:border-color .3s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#1e73be;box-shadow:0 0 5px #007bff4d}.register-btn[_ngcontent-%COMP%]{width:100%;padding:12px;border:none;border-radius:5px;background-color:#1e73be;color:#fff;font-weight:700;cursor:pointer;font-size:16px;transition:background-color .3s;margin-top:20px}.register-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.alt[_ngcontent-%COMP%]{text-align:center;font-size:14px;margin-top:10px}.linkish[_ngcontent-%COMP%]{padding:6px 10px;border:none;border-radius:5px;background-color:#1e73be;color:#fff;font-weight:700;cursor:pointer;font-size:12px;transition:background-color .3s;margin-left:8px}.linkish[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})};var ZE=class n{constructor(e){this.router=e}navigate(e,t){t&&t.preventDefault(),this.router.navigate([e])}static \u0275fac=function(t){return new(t||n)(se(at))};static \u0275cmp=ce({type:n,selectors:[["app-courses"]],decls:46,vars:0,consts:[["src","/assets/slike/tecajevi3.jpg","alt","Kursevi IPI"],["start","9"]],template:function(t,r){t&1&&(K(0,"app-header"),P(1,"article")(2,"h2"),D(3,"Popis kurseva"),N(),K(4,"img",0),P(5,"h3"),D(6,"Kursevi o osnovama upotrebe ra\u010Dunara i Interneta"),N(),P(7,"ol")(8,"li"),D(9,"Osnove ra\u010Dunala (Windows)"),N(),P(10,"li"),D(11,"Osnove komunikacija (Internet Explorer, Microsoft Outlook)"),N(),P(12,"li"),D(13,"Obrada teksta (Word)"),N(),P(14,"li"),D(15,"Prora\u010Dunske tablice (Excel)"),N(),P(16,"li"),D(17,"Uporaba baza podataka (Access)"),N(),P(18,"li"),D(19,"Prezentacije (PowerPoint)"),N(),P(20,"li"),D(21,"IT sigurnost"),N(),P(22,"li"),D(23,"Online suradnja"),N()(),P(24,"h3"),D(25,"Te\u010Dajevi o "),P(26,"em"),D(27,"web"),N(),D(28,"-tehnologijama, izradi "),P(29,"em"),D(30,"web"),N(),D(31,"-stranica i "),P(32,"em"),D(33,"web"),N(),D(34,"-sjedi\u0161ta"),N(),P(35,"ol",1)(36,"li"),D(37,"Uvod u HTML"),N(),P(38,"li"),D(39,"Uvod u CSS"),N(),P(40,"li"),D(41,"Osnove JavaScripta"),N(),P(42,"li"),D(43,"Uvod u XML"),N()()(),P(44,"footer"),D(45,"\xA9 Internacionalna poslovno-informaciona akademija Tuzla "),N())},dependencies:[ve,gn,Fi],styles:["html[_ngcontent-%COMP%]{background:#e9f0f7}body[_ngcontent-%COMP%]{font-size:14px;font-family:Arial,Verdana,sans-serif;color:#2c3e50;margin:0;line-height:1.6}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:active{color:#1e73be;font-weight:700;transition:color .2s ease}a[_ngcontent-%COMP%]:hover{color:#0d47a1;text-decoration:underline}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#1565c0}article[_ngcontent-%COMP%]{width:80%;margin:0 auto;background-color:#fff;box-shadow:0 0 15px #0000001a;padding:30px 50px;box-sizing:border-box;border-bottom:3px solid #1e73be;min-height:calc(100vh - 220px);border-radius:0 0 8px 8px}article[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{float:right;margin-right:15px;margin-bottom:15px;border-radius:6px;box-shadow:0 0 10px #0000001a;max-width:300px;width:100%;height:auto}article[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:15px 0;padding-left:40px}article[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px}footer[_ngcontent-%COMP%]{width:80%;margin:0 auto;padding:20px 0;background:#1e73be;color:#fff;text-align:center;box-shadow:0 0 15px #0000001a;border-radius:0 0 8px 8px}@media(max-width:768px){article[_ngcontent-%COMP%]{width:90%;padding:20px 30px}article[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{float:none;display:block;margin:20px auto}article[_ngcontent-%COMP%], footer[_ngcontent-%COMP%]{width:90%}}"]})};var eI=class n{router=U(at);navigate(e,t){t&&t.preventDefault(),this.router.navigate([e])}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ce({type:n,selectors:[["app-raspored"]],decls:114,vars:0,consts:[["src","/assets/slike/tecajevi2.jpg","alt","Te\u010Dajevi Srca"],["border","1"]],template:function(t,r){t&1&&(K(0,"app-header"),P(1,"article")(2,"h2"),D(3,"Raspored kurseva"),N(),P(4,"p"),D(5,"Objavljen je raspored kurseva za juni."),N(),K(6,"img",0),P(7,"table",1)(8,"tr")(9,"th"),D(10,"Kurs"),N(),P(11,"th"),D(12,"\u0160ifra"),N(),P(13,"th"),D(14,"Po\u010Detak"),N(),P(15,"th"),D(16,"Sat"),N(),P(17,"th"),D(18,"Trajanje"),N(),P(19,"th"),D(20,"U\u010Dionica"),N()(),P(21,"tr")(22,"td"),D(23,"Uporaba baza podataka (Access)"),N(),P(24,"td"),D(25,"E504"),N(),P(26,"td"),D(27,"Ponedjeljak, 15.09.2014."),N(),P(28,"td"),D(29,"09:00"),N(),P(30,"td"),D(31,"4 x 4"),N(),P(32,"td"),D(33,"Srce-A"),N()(),P(34,"tr")(35,"td"),D(36,"Obrada teksta (Word)"),N(),P(37,"td"),D(38,"E304"),N(),P(39,"td"),D(40,"Ponedjeljak, 15.09.2014."),N(),P(41,"td"),D(42,"17:30"),N(),P(43,"td"),D(44,"4 x 4"),N(),P(45,"td"),D(46,"Srce-B"),N()(),P(47,"tr")(48,"td"),D(49,"Wordionica ili kako oblikovati seminarski rad"),N(),P(50,"td"),D(51,"R100"),N(),P(52,"td"),D(53,"\u010Cetvrtak, 18.09.2014."),N(),P(54,"td"),D(55,"09:00"),N(),P(56,"td"),D(57,"1 x 5"),N(),P(58,"td"),D(59,"Srce-E1"),N()(),P(60,"tr")(61,"td"),D(62,"Prezentacije (PowerPoint)"),N(),P(63,"td"),D(64,"E604"),N(),P(65,"td"),D(66,"Subota, 20.09.2014."),N(),P(67,"td"),D(68,"09:00"),N(),P(69,"td"),D(70,"2 x 6"),N(),P(71,"td"),D(72,"Srce-B"),N()(),P(73,"tr")(74,"td"),D(75,"Prora\u010Dunske tablice - napredna razina (Excel)"),N(),P(76,"td"),D(77,"E414"),N(),P(78,"td"),D(79,"Subota, 20.09.2014."),N(),P(80,"td"),D(81,"09:00"),N(),P(82,"td"),D(83,"2 x 8"),N(),P(84,"td"),D(85,"Srce-B"),N()(),P(86,"tr")(87,"td"),D(88,"Baze podataka - napredna razina (Access)"),N(),P(89,"td"),D(90,"E514"),N(),P(91,"td"),D(92,"Ponedjeljak, 29.09.2014."),N(),P(93,"td"),D(94,"09:00"),N(),P(95,"td"),D(96,"4 x 4"),N(),P(97,"td"),D(98,"Srce-A"),N()(),P(99,"tr")(100,"td"),D(101,"Exceliranje ili kako izraditi tablice, grafikone i formule"),N(),P(102,"td"),D(103,"R200"),N(),P(104,"td"),D(105,"Utorak, 30.09.2014."),N(),P(106,"td"),D(107,"09:00"),N(),P(108,"td"),D(109,"1 x 5"),N(),P(110,"td"),D(111,"Srce-E1"),N()()()(),P(112,"footer"),D(113,"\xA9 Internacionalna poslovno-informaciona akademija Tuzla"),N())},dependencies:[ve,gn,Fi],styles:["html[_ngcontent-%COMP%]{background:#e9f0f7}body[_ngcontent-%COMP%]{font-size:14px;font-family:Arial,Verdana,sans-serif;color:#2c3e50;margin:0;line-height:1.6}header[_ngcontent-%COMP%]{width:100%;background-color:#fff;box-shadow:0 0 15px #0000001a;display:flex;flex-direction:column}.header-logo[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:15px 0;background-color:#fff}.logo[_ngcontent-%COMP%]{flex:0 0 auto;display:flex;align-items:center}header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:80px;width:auto}nav[_ngcontent-%COMP%]{width:100%;background-color:#1e73be;border-top:3px solid #1565c0;border-bottom:3px solid #1565c0}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;justify-content:center;gap:15px;flex-wrap:wrap}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-transform:uppercase;font-weight:600;letter-spacing:.5px;text-decoration:none;border-radius:4px;transition:background .3s ease,color .3s ease;padding:12px 15px;font-size:13px;display:inline-block}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#0d47a1}.nav-btn[_ngcontent-%COMP%]{border:2px solid white;padding:10px 15px;font-size:12px}.login-btn[_ngcontent-%COMP%]{background-color:#0d47a1;border-color:#0d47a1;color:#fff}.login-btn[_ngcontent-%COMP%]:hover{background-color:#051c5e}.register-btn[_ngcontent-%COMP%]{background-color:#0d47a1;border-color:#0d47a1;color:#fff}.register-btn[_ngcontent-%COMP%]:hover{background-color:#051c5e}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:active{color:#1e73be;font-weight:700;transition:color .2s ease}a[_ngcontent-%COMP%]:hover{color:#0d47a1;text-decoration:underline}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#1565c0}article[_ngcontent-%COMP%]{width:80%;margin:0 auto;background-color:#fff;box-shadow:0 0 15px #0000001a;padding:30px 50px;box-sizing:border-box;border-bottom:3px solid #1e73be;min-height:calc(100vh - 220px);border-radius:0 0 8px 8px}article[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{float:right;margin-right:15px;margin-bottom:15px;border-radius:6px;box-shadow:0 0 10px #0000001a;max-width:300px;width:100%;height:auto}article[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:15px 0;padding-left:40px}article[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px}footer[_ngcontent-%COMP%]{width:80%;margin:0 auto;padding:20px 0;background:#1e73be;color:#fff;text-align:center;box-shadow:0 0 15px #0000001a;border-radius:0 0 8px 8px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin:20px 0;background-color:#fff;box-shadow:0 0 10px #0000001a;border-radius:8px;overflow:hidden;font-size:14px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 15px;text-align:left}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#1e73be;color:#fff;font-weight:600;text-transform:uppercase}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f4f7fa}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#dbe9f7;transition:background .3s ease}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #e1eaff}"]})};var tI=class n{constructor(e){this.router=e}navigate(e,t){t&&t.preventDefault(),this.router.navigate([e])}validateForm(){let e=document.getElementById("ime").value.trim(),t=document.getElementById("email").value.trim(),r=document.getElementById("tema").value,i=document.getElementById("poruka").value.trim(),s=document.getElementById("privatnost").checked;return!e||!t||!r||!i||!s?(alert("Molimo ispunite sva polja i prihvatite politiku privatnosti."),!1):(alert("Va\u0161a poruka je uspje\u0161no poslana! Hvala vam."),!0)}static \u0275fac=function(t){return new(t||n)(se(at))};static \u0275cmp=ce({type:n,selectors:[["app-kontakt"]],decls:72,vars:0,consts:[["src","/assets/slike/srce.jpg","alt","Srce",1,"kontakt-srce"],["href","mailto:info@ipi-akademija.ba"],[2,"margin","30px 0","border","none","border-top","2px solid #1e73be"],[1,"kontakt-forma"],[3,"submit"],["for","ime"],["type","text","id","ime","placeholder","Va\u0161e ime i prezime","required",""],["for","email"],["type","email","id","email","placeholder","npr. ime@domena.com","required",""],["for","tema"],["id","tema","required",""],["value",""],["value","upis"],["value","raspored"],["value","tehnicka"],["value","ostalo"],["for","poruka"],["id","poruka","rows","5","placeholder","Va\u0161a poruka...","required",""],["type","checkbox","id","privatnost","required",""],["for","privatnost"],["href","#"],["type","submit"],[1,"kontakt-mapa"],["src",D0`https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2843.765443522128!2d18.671060776591176!3d44.5404349945972!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x475ead18c8b55eff%3A0x26cffbf67ffbb9e2!2sInternacionalna%20poslovno-informaciona%20akademija!5e0!3m2!1shr!2sba!4v1762985790973!5m2!1shr!2sba`,"width","100%","height","350","allowfullscreen","","loading","lazy","referrerpolicy","no-referrer-when-downgrade"]],template:function(t,r){t&1&&(K(0,"app-header"),P(1,"article")(2,"h2"),D(3,"Kontakt"),N(),K(4,"img",0),P(5,"p"),D(6,"Do IPI-ja se mo\u017Ee do\u0107i javnim gradskim prevozom ili taksijem."),N(),P(7,"p"),D(8,"Na\u0161a adresa je:"),N(),P(9,"p"),D(10," Sveu\u010Dili\u0161ni ra\u010Dunski centar"),K(11,"br"),D(12," Kulina bana br. 2 (Skver)"),K(13,"br"),D(14," Tuzla"),K(15,"br"),D(16," 75000"),K(17,"br"),D(18," Bosna i Hercegovina"),K(19,"br"),P(20,"a",1),D(21,"info@ipi-akademija.ba"),N()(),K(22,"hr",2),P(23,"section",3)(24,"h3"),D(25,"Po\u0161aljite nam poruku"),N(),P(26,"form",4),ie("submit",function(s){return r.validateForm(),s.preventDefault()}),P(27,"fieldset")(28,"legend"),D(29,"Va\u0161i podaci"),N(),P(30,"label",5),D(31,"Ime i prezime:"),N(),K(32,"input",6)(33,"br"),P(34,"label",7),D(35,"E-mail adresa:"),N(),K(36,"input",8)(37,"br"),P(38,"label",9),D(39,"Tema poruke:"),N(),P(40,"select",10)(41,"option",11),D(42,"-- Odaberite temu --"),N(),P(43,"option",12),D(44,"Upis na kurseve"),N(),P(45,"option",13),D(46,"Raspored kurseva"),N(),P(47,"option",14),D(48,"Tehni\u010Dka podr\u0161ka"),N(),P(49,"option",15),D(50,"Ostalo"),N()(),K(51,"br"),P(52,"label",16),D(53,"Poruka:"),N(),K(54,"textarea",17)(55,"br")(56,"input",18),P(57,"label",19),D(58,"Prihvatam "),P(59,"a",20),D(60,"politiku privatnosti"),N(),D(61,"."),N(),K(62,"br")(63,"br"),P(64,"button",21),D(65,"Po\u0161alji poruku"),N()()()(),P(66,"section",22)(67,"h3"),D(68,"Prona\u0111ite nas na karti"),N(),K(69,"iframe",23),N()(),P(70,"footer"),D(71,"\xA9 Internacionalna poslovno-informaciona akademija Tuzla"),N())},dependencies:[ve,gn,Fi],styles:["html[_ngcontent-%COMP%]{background:#e9f0f7}body[_ngcontent-%COMP%]{font-size:14px;font-family:Arial,Verdana,sans-serif;color:#2c3e50;margin:0;line-height:1.6}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:active{color:#1e73be;font-weight:700;transition:color .2s ease}a[_ngcontent-%COMP%]:hover{color:#0d47a1;text-decoration:underline}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#1565c0}article[_ngcontent-%COMP%]{width:80%;margin:0 auto;background-color:#fff;box-shadow:0 0 15px #0000001a;padding:30px 50px;box-sizing:border-box;border-bottom:3px solid #1e73be;min-height:calc(100vh - 220px);border-radius:0 0 8px 8px}article[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{float:right;margin-right:15px;margin-bottom:15px;border-radius:6px;box-shadow:0 0 10px #0000001a;max-width:300px;width:100%;height:auto}article[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:15px 0;padding-left:40px}article[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px}footer[_ngcontent-%COMP%]{width:80%;margin:0 auto;padding:20px 0;background:#1e73be;color:#fff;text-align:center;box-shadow:0 0 15px #0000001a;border-radius:0 0 8px 8px}.kontakt-forma[_ngcontent-%COMP%]{margin:30px 0;padding:20px;background-color:#f9f9f9;border:2px solid #1e73be;border-radius:8px;box-shadow:0 0 10px #0000001a}.kontakt-forma[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#1565c0;margin-bottom:20px;text-align:center}.kontakt-forma[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]{border:1px solid #1e73be;border-radius:6px;padding:15px 20px}.kontakt-forma[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{font-weight:700;color:#0d47a1;padding:0 10px}.kontakt-forma[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-top:15px;margin-bottom:5px;font-weight:600}.kontakt-forma[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .kontakt-forma[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .kontakt-forma[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .kontakt-forma[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box;font-size:14px}.kontakt-forma[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}.kontakt-forma[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-right:8px}.kontakt-forma[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{margin-top:20px;padding:12px 20px;background-color:#1e73be;border:none;color:#fff;font-size:14px;font-weight:700;border-radius:4px;cursor:pointer;transition:background .3s ease}.kontakt-forma[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0d47a1}@media(max-width:768px){.kontakt-forma[_ngcontent-%COMP%]{padding:15px}.kontakt-forma[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .kontakt-forma[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .kontakt-forma[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .kontakt-forma[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font-size:13px}}.kontakt-srce[_ngcontent-%COMP%]{display:block;margin:-10px auto 20px;max-width:100%;height:auto}@media(max-width:768px){article[_ngcontent-%COMP%]{width:90%;padding:20px 30px}article[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{float:none;display:block;margin:20px auto}article[_ngcontent-%COMP%], footer[_ngcontent-%COMP%]{width:90%}}"]})};var PB=[{path:"",component:Bv},{path:"login",component:yE},{path:"register",component:XE},{path:"courses",component:ZE},{path:"schedule",component:eI},{path:"contact",component:tI},{path:"dashboard",component:t_,children:[{path:"profile",component:wv},{path:"trackers",component:Mv},{path:"trackers/habit",component:nd},{path:"trackers/sleep",component:rd},{path:"trackers/study",component:id},{path:"trackers/yoga",component:sd},{path:"trackers/task",component:od},{path:"trackers/water",component:ad},{path:"student-fun-zone",component:jv,children:GV}]},{path:"**",redirectTo:""}];var NB={production:!1,firebaseConfig:{apiKey:"AIzaSyDmSchuoPoY5zFyicFtyF__c-YQnePDZbs",authDomain:"wp-2-dzenita-kapetanovic.firebaseapp.com",projectId:"wp-2-dzenita-kapetanovic",storageBucket:"wp-2-dzenita-kapetanovic.firebasestorage.app",messagingSenderId:"774511551788",appId:"1:774511551788:web:e8fb398f7ac8d66691b889",measurementId:"G-HY66C4XF4P"}};Db(e_,{providers:[tT(PB),_2(()=>v2(NB.firebaseConfig)),TU(()=>CU()),SB(()=>AB())]}).catch(n=>console.error(n));
